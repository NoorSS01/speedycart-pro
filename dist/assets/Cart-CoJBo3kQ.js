const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Cg7UL77a.js","assets/index-B9VL7Ll5.css"])))=>i.map(i=>d[i]);
import{c as He,k as Me,m as Ge,n as We,r as c,a4 as Ue,s as m,l as N,j as e,v as je,w as H,B as x,T as be,a5 as Ne,Y as ye,a6 as Je,x as A,A as we,y as M,D as _e,a7 as Ke,F as Qe,a8 as Xe,a0 as Ze,K as G,X as es,a9 as ke,_ as ss,$ as ts,aa as rs,G as as,H as ns,I as os,J as cs,V as ds,L as y,N as is,Q as u,ab as Ce}from"./index-Cg7UL77a.js";import{O as ls,R as us,a as Se}from"./OrderConfirmation-ZPXde5la.js";import{H as xs}from"./HorizontalScrollContainer-DOoa3WLS.js";import{T as ms}from"./trash-2-CVbuaKtE.js";import"./index-MtJUlAu4.js";import"./chevron-left-Dko9Q7zt.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=He("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);function Ns(){const{user:i,loading:U}=Me(),{refreshCart:w}=Ge(),v=We(),[d,f]=c.useState([]),[qe,J]=c.useState(!0),[F,_]=c.useState(""),[K,D]=c.useState(!1),[Ae,Q]=c.useState(!1),[Fe,De]=c.useState(""),[Oe,k]=c.useState(!1),[O,X]=c.useState(""),[C,Pe]=c.useState("saved"),[Ie,ps]=c.useState(""),[Z,ee]=c.useState(!1),[p,$e]=c.useState(""),[j,Re]=c.useState(""),[b,Ee]=c.useState(""),[P,Te]=c.useState([]),[g,I]=c.useState(null),[$,R]=c.useState(0),se=c.useRef(null),[Be,Le]=c.useState(!0),[te,re]=c.useState(!0),ae=c.useRef(0);c.useEffect(()=>{const s=se.current;if(!s)return;const t=new IntersectionObserver(([a])=>{Le(a.isIntersecting)},{threshold:.1});return t.observe(s),()=>t.disconnect()},[d.length]),c.useEffect(()=>{const s=()=>{const t=window.scrollY,a=t>ae.current?"down":"up";a==="down"&&t>100&&re(!1),(a==="up"||t<50)&&re(!0),ae.current=t};return window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},[]);const E=c.useCallback(async()=>{if(!i){const n=Ue().items.map((r,o)=>{var l,pe,he,fe,ge,ve;return{id:`guest-${o}`,product_id:r.productId,quantity:r.quantity,variant_id:r.variantId,products:{id:r.productId,name:((l=r.productData)==null?void 0:l.name)||"Product",price:((pe=r.productData)==null?void 0:pe.price)||0,mrp:((he=r.productData)==null?void 0:he.mrp)||null,image_url:((fe=r.productData)==null?void 0:fe.image_url)||null,stock_quantity:((ge=r.productData)==null?void 0:ge.stock_quantity)||0,unit:((ve=r.productData)==null?void 0:ve.unit)||"unit"},product_variants:r.variantData?{id:r.variantId||"",variant_name:r.variantData.variant_name,variant_value:r.variantData.variant_value,variant_unit:r.variantData.variant_unit,price:r.variantData.price,mrp:r.variantData.mrp}:null}});f(n),J(!1);return}const{data:s,error:t}=await m.from("cart_items").select(`
        *,
        products (*, categories (id, name)),
        product_variants (*)
      `).eq("user_id",i.id);!t&&s&&f(s),J(!1)},[i]),ne=c.useCallback(async()=>{if(!i)return;const{data:s}=await m.from("profiles").select("address").eq("id",i.id).single();s!=null&&s.address&&X(s.address)},[i]),oe=c.useCallback(async()=>{if(i)try{const{data:s}=await m.from("coupons").select("*").eq("is_active",!0).or(`valid_until.is.null,valid_until.gte.${new Date().toISOString()}`);if(s){const{data:t}=await m.from("coupon_usage").select("coupon_id").eq("user_id",i.id),a=new Set((t||[]).map(r=>r.coupon_id)),n=s.filter(r=>!a.has(r.id)||r.is_stackable);Te(n)}}catch(s){N.error("Failed to fetch coupons",{error:s})}},[i]);c.useEffect(()=>{U||(E(),i&&(ne(),oe()))},[i,U,E,ne,oe]);const ce=async s=>{if(!i)return;const t=d.reduce((a,n)=>{var o;const r=((o=n.product_variants)==null?void 0:o.price)??n.products.price;return a+r*n.quantity},0);try{const{data:a,error:n}=await m.rpc("validate_and_apply_coupon",{p_user_id:i.id,p_coupon_code:s.code,p_subtotal:t});if(n){N.error("Coupon validation error",{error:n}),u.error("Failed to validate coupon. Please try again.");return}const r=a;if(!r.valid){u.error(r.error||"Coupon is not valid");return}I(s),R(r.discount||0),_(r.code||s.code),D(!0),u.success(`${r.code} applied! You save â‚¹${(r.discount||0).toFixed(0)}`)}catch(a){N.error("Coupon application error",{error:a}),u.error("Failed to apply coupon. Please try again.")}},Ve=()=>{I(null),R(0),_(""),D(!1)},de=async(s,t)=>{if(t<1){await ie(s);return}const a=d.find(r=>r.id===s);if(a&&t>a.products.stock_quantity){u.error(`Only ${a.products.stock_quantity} available`);return}if(s.startsWith("guest-")||!i){if(a){const{updateGuestCartQuantity:r}=await Ce(async()=>{const{updateGuestCartQuantity:o}=await import("./index-Cg7UL77a.js").then(l=>l.b9);return{updateGuestCartQuantity:o}},__vite__mapDeps([0,1]));r(a.product_id,a.variant_id,t),f(o=>o.map(l=>l.id===s?{...l,quantity:t}:l)),w()}return}const{error:n}=await m.from("cart_items").update({quantity:t}).eq("id",s);n||f(r=>r.map(o=>o.id===s?{...o,quantity:t}:o))},ie=async s=>{const t=d.find(n=>n.id===s);if(s.startsWith("guest-")||!i){if(t){const{removeFromGuestCart:n}=await Ce(async()=>{const{removeFromGuestCart:r}=await import("./index-Cg7UL77a.js").then(o=>o.b9);return{removeFromGuestCart:r}},__vite__mapDeps([0,1]));n(t.product_id,t.variant_id),f(r=>r.filter(o=>o.id!==s)),w(),u.success("Item removed")}return}const{error:a}=await m.from("cart_items").delete().eq("id",s);a||(f(n=>n.filter(r=>r.id!==s)),w(),u.success("Item removed"))},Ye=()=>{const s=F.toUpperCase().trim(),t=P.find(a=>a.code.toUpperCase()===s);t?ce(t):u.error("Invalid or expired promo code")},le=async()=>{if(d.length===0){u.error("Your cart is empty");return}if(!i){u("Please sign in to complete your order",{description:"Your cart items will be saved",action:{label:"Sign In",onClick:()=>v("/auth")}});return}try{const{data:t}=await m.from("admin_settings").select("*").eq("id","00000000-0000-0000-0000-000000000001").single(),a=t==null?void 0:t.shop_status,n=t==null?void 0:t.closed_message;if(a==="closed"){u.error(n||"We are currently closed. Please try again later.",{duration:5e3});return}}catch(t){N.warn("Could not check shop status",{error:t})}if(d.filter(t=>t.products.stock_quantity<t.quantity).length>0){u.error("Some items are out of stock");return}k(!0)},ze=async()=>{if(!i)return;let s="";if(C==="saved")s=O;else if(p&&p!=="Other"){const t=[];j&&t.push(`Block ${j}`),b&&t.push(`Room ${b}`),t.push(p),t.push("Chandapura-Anekal Road, Bangalore - 562106"),s=t.join(", ")}else s=Ie;if(!s.trim()){u.error("Please enter a delivery address");return}ee(!0);try{const t=d.map(o=>{var l;return{product_id:o.product_id,variant_id:o.variant_id||null,quantity:o.quantity,price:((l=o.product_variants)==null?void 0:l.price)||o.products.price}}),{data:a,error:n}=await m.rpc("place_order_atomic",{p_user_id:i.id,p_delivery_address:s,p_cart_items:t,p_coupon_id:(g==null?void 0:g.id)||void 0,p_coupon_discount:$||0});if(n){N.error("Order placement RPC error",{error:n}),u.error("Failed to place order. Please try again.");return}const r=a;if(!r.success){u.error(r.error||"Failed to place order"),r.product_id&&E();return}C==="new"&&s&&(await m.from("profiles").update({address:s}).eq("id",i.id),X(s)),De(r.order_id||""),k(!1),f([]),w(),I(null),R(0),D(!1),_(""),Q(!0)}catch(t){N.error("Order placement error",{error:t instanceof Error?t.message:String(t)}),u.error("Failed to place order. Please try again.")}finally{ee(!1)}},T=s=>{var t;return((t=s.product_variants)==null?void 0:t.price)??s.products.price},ue=s=>{var t;return((t=s.product_variants)==null?void 0:t.mrp)??s.products.mrp??s.products.price},B=d.length>0&&d.every(s=>{var a;return(((a=s.products.name)==null?void 0:a.toLowerCase())||"").includes("water")}),xe=d.reduce((s,t)=>s+ue(t)*t.quantity,0),S=d.reduce((s,t)=>s+T(t)*t.quantity,0),L=xe-S,q=$,V=35,Y=S>200||B?0:V,z=S>200||B?V:0,h=L+q+z,me=S-q+Y;return qe?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 pb-20",children:[e.jsx("header",{className:"sticky top-0 z-40 border-b border-border/40 bg-background/40 backdrop-blur-xl supports-[backdrop-filter]:bg-background/20",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-3",children:[e.jsx(je,{className:"h-9 w-9"}),e.jsx(je,{className:"h-6 w-32"})]})}),e.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-4",children:[[1,2,3].map(s=>e.jsx("div",{className:"h-24 w-full rounded-xl bg-muted/80 animate-pulse"},s)),e.jsx("div",{className:"h-48 w-full rounded-xl bg-muted/80 animate-pulse"})]}),e.jsx(H,{})]}):i?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 pb-44",children:[Ae&&e.jsx(ls,{orderId:Fe,onClose:()=>Q(!1)}),e.jsxs("div",{className:`sticky z-40 transition-all duration-300 ${te?"top-0":"-top-32"}`,children:[e.jsx("header",{className:"border-b border-border/40 bg-background/40 backdrop-blur-xl supports-[backdrop-filter]:bg-background/20 shadow-sm",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-3",children:[e.jsx(x,{variant:"ghost",size:"icon",onClick:()=>v("/shop"),children:e.jsx(be,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center",children:e.jsx(ye,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold",children:"Your Cart"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.length," items"]})]})]})]})}),d.length>0&&h>0&&e.jsx("div",{className:"bg-gradient-to-r from-green-600 via-emerald-600 to-green-600 text-white py-2.5 text-center shadow-md",children:e.jsxs("p",{className:"text-sm font-bold",children:["ðŸŽ‰ You save â‚¹",h.toFixed(0)]})})]}),!te&&d.length>0&&h>0&&e.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-green-600 via-emerald-600 to-green-600 text-white py-2.5 text-center shadow-md transition-all duration-300",children:e.jsxs("p",{className:"text-sm font-bold",children:["ðŸŽ‰ You save â‚¹",h.toFixed(0)]})}),e.jsxs("main",{className:"container mx-auto px-4 py-4 space-y-4 max-w-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-green-500/10 border border-green-500/20",children:[e.jsx(Je,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:"Estimated delivery: 15-30 mins"}),e.jsx("p",{className:"text-xs text-green-600/70",children:"Free delivery on orders above â‚¹200"})]})]}),d.length===0&&e.jsxs(A,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(ye,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),e.jsx("h2",{className:"text-lg font-semibold text-muted-foreground",children:"Your cart is empty"}),e.jsx("p",{className:"text-sm text-muted-foreground/70 mb-4",children:"Browse our products and add items"}),e.jsxs(x,{onClick:()=>v("/shop"),children:[e.jsx(we,{className:"h-4 w-4 mr-2"}),"Shop Now"]})]}),d.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h2",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:["Cart (",d.length,")"]}),d.map(s=>{const t=s.products.stock_quantity<=5&&s.products.stock_quantity>0,a=s.products.stock_quantity<=0;return e.jsx(A,{className:`overflow-hidden ${a?"opacity-60 border-destructive/50":""}`,children:e.jsx(M,{className:"p-3",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:s.products.image_url?e.jsx("img",{src:s.products.image_url,alt:s.products.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(we,{className:"h-8 w-8 text-muted-foreground"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm truncate cursor-pointer hover:text-primary",onClick:()=>v(`/product/${s.product_id}`),children:s.products.name}),s.product_variants&&e.jsx("span",{className:"text-xs bg-muted px-1.5 py-0.5 rounded text-muted-foreground",children:_e(s.product_variants)}),(()=>{const n=T(s),r=ue(s),o=r>n?Math.round((r-n)/r*100):0,l=s.product_variants?_e(s.product_variants):s.products.unit;return o>0?e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("span",{className:"text-xs text-green-600 font-semibold",children:[o,"% OFF"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["â‚¹",n," / ",l]}),e.jsxs("p",{className:"text-xs text-muted-foreground line-through",children:["â‚¹",r]})]}):e.jsxs("p",{className:"text-xs text-muted-foreground",children:["â‚¹",n," / ",l]})})()]}),e.jsxs("p",{className:"font-bold text-primary whitespace-nowrap",children:["â‚¹",(T(s)*s.quantity).toFixed(0)]})]}),t&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(Ke,{className:"h-3 w-3 text-amber-500"}),e.jsxs("span",{className:"text-xs text-amber-600",children:["Only ",s.products.stock_quantity," left"]})]}),a&&e.jsx(Qe,{variant:"destructive",className:"text-xs mt-1",children:"Out of Stock"}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx(Xe,{quantity:s.quantity,maxQuantity:s.products.stock_quantity,onIncrement:()=>de(s.id,s.quantity+1),onDecrement:()=>de(s.id,s.quantity-1),variant:"full",disabled:a}),e.jsx("div",{className:"flex gap-1",children:e.jsx(x,{size:"icon",variant:"ghost",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>ie(s.id),children:e.jsx(ms,{className:"h-4 w-4"})})})]})]})]})})},s.id)})]}),d.length>0&&e.jsx(A,{children:e.jsxs(M,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"text-sm font-medium",children:"Promo Code"})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx(G,{placeholder:"Enter code",value:F,onChange:s=>_(s.target.value),className:"flex-1",disabled:K}),K?e.jsxs(x,{onClick:Ve,variant:"outline",children:[e.jsx(es,{className:"h-4 w-4 mr-1"}),"Remove"]}):e.jsx(x,{onClick:Ye,disabled:!F.trim(),children:"Apply"})]}),g&&e.jsxs("div",{className:"mt-2 p-2 rounded-lg bg-green-500/10 border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-700",children:g.code})]}),e.jsxs("span",{className:"text-sm font-bold text-green-600",children:["-â‚¹",$.toFixed(0)]})]}),e.jsx("p",{className:"text-xs text-green-600/80 mt-1",children:g.description})]}),P.length>0&&!g&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Available for you:"}),e.jsx(xs,{className:"gap-2",showButtons:!0,children:P.map(s=>{const t=d.reduce((n,r)=>{var l;const o=((l=r.product_variants)==null?void 0:l.price)??r.products.price;return n+o*r.quantity},0),a=s.minimum_order<=t;return e.jsxs("button",{onClick:()=>a&&ce(s),disabled:!a,className:`flex-shrink-0 px-4 py-2.5 rounded-xl border-2 transition-all duration-200 ${a?"border-green-500 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/40 dark:to-emerald-950/40 hover:from-green-100 hover:to-emerald-100 dark:hover:from-green-900/50 dark:hover:to-emerald-900/50 cursor-pointer shadow-md hover:shadow-lg hover:scale-[1.02] active:scale-[0.98]":"border-gray-200 dark:border-gray-700 bg-gray-100 dark:bg-gray-800 opacity-50 cursor-not-allowed"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:`h-4 w-4 ${a?"text-green-600":"text-gray-400"}`}),e.jsx("span",{className:`text-sm font-bold ${a?"text-green-700 dark:text-green-400":"text-gray-500"}`,children:s.code})]}),e.jsxs("p",{className:`text-xs mt-0.5 text-left whitespace-nowrap ${a?"text-green-600/80":"text-gray-400"}`,children:[s.discount_type==="percentage"?`${s.discount_value}% off`:`â‚¹${s.discount_value} off`,s.minimum_order>0&&` â€¢ Min â‚¹${s.minimum_order}`]})]},s.id)})})]})]})}),d.length>0&&e.jsxs(A,{className:"border-primary/20",children:[e.jsx(ss,{className:"pb-2",children:e.jsx(ts,{className:"text-base",children:"Order Summary"})}),e.jsxs(M,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subtotal (MRP)"}),e.jsxs("span",{children:["â‚¹",xe.toFixed(0)]})]}),L>0&&e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{children:"ðŸŽ‰ Product Discount"}),e.jsxs("span",{children:["-â‚¹",L.toFixed(0)]})]}),q>0&&e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{children:"ðŸŽŸï¸ Coupon Discount"}),e.jsxs("span",{children:["-â‚¹",q.toFixed(0)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Delivery"}),Y===0?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:"line-through text-muted-foreground",children:["â‚¹",V]}),e.jsx("span",{className:"text-green-600 font-semibold",children:"FREE"})]}):e.jsxs("span",{children:["â‚¹",Y]})]}),z>0&&e.jsxs("div",{className:"flex justify-between text-xs text-green-600",children:[e.jsxs("span",{children:["ðŸšš ",B?"Free delivery on Water":"Free delivery on orders over â‚¹200"]}),e.jsxs("span",{children:["-â‚¹",z.toFixed(0)]})]}),e.jsx(rs,{}),h>0&&e.jsxs("div",{className:"flex justify-between text-sm font-semibold text-green-600 bg-green-50 dark:bg-green-950/30 p-2 rounded-lg",children:[e.jsx("span",{children:"ðŸ’° Total Savings"}),e.jsxs("span",{children:["â‚¹",h.toFixed(0)]})]}),e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-primary",children:["â‚¹",me.toFixed(0)]})]}),e.jsxs(x,{ref:se,className:"w-full h-12 text-base font-semibold mt-2",onClick:le,children:[e.jsx(W,{className:"h-5 w-5 mr-2"}),"Proceed to Checkout"]}),e.jsxs("p",{className:"text-xs text-center text-muted-foreground flex items-center justify-center gap-1",children:[e.jsx(W,{className:"h-3 w-3"}),"100% secure checkout"]})]})]})]}),d.length>0&&e.jsx("div",{className:`fixed bottom-16 left-0 right-0 z-30 border-t bg-background/95 backdrop-blur-xl shadow-[0_-4px_20px_rgba(0,0,0,0.1)] transition-all duration-300 ${Be?"opacity-0 translate-y-full pointer-events-none":"opacity-100 translate-y-0"}`,children:e.jsx("div",{className:"container mx-auto px-4 py-3 max-w-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Amount"}),e.jsxs("p",{className:"text-xl font-bold text-primary",children:["â‚¹",me.toFixed(0)]}),h>0&&e.jsxs("p",{className:"text-xs text-green-600 font-medium",children:["You save â‚¹",h.toFixed(0),"!"]})]}),e.jsxs(x,{className:"h-12 px-8 text-base font-semibold",onClick:le,children:[e.jsx(W,{className:"h-5 w-5 mr-2"}),"Checkout"]})]})})}),e.jsx(as,{open:Oe,onOpenChange:k,children:e.jsxs(ns,{className:"max-w-md",children:[e.jsx(os,{children:e.jsxs(cs,{className:"flex items-center gap-2",children:[e.jsx(ds,{className:"h-5 w-5 text-primary"}),"Delivery Address"]})}),e.jsxs(us,{value:C,onValueChange:s=>Pe(s),children:[O&&e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border",children:[e.jsx(Se,{value:"saved",id:"saved",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(y,{htmlFor:"saved",className:"font-medium cursor-pointer",children:"Saved Address"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:O})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border",children:[e.jsx(Se,{value:"new",id:"new",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(y,{htmlFor:"new",className:"font-medium cursor-pointer",children:"New Address"}),C==="new"&&e.jsxs("div",{className:"space-y-3 mt-3",children:[e.jsxs("div",{children:[e.jsx(y,{className:"text-sm",children:"Apartment Complex"}),e.jsxs("select",{value:p,onChange:s=>$e(s.target.value),className:"w-full mt-1.5 p-2.5 border rounded-md bg-background text-sm",children:[e.jsx("option",{value:"",children:"Select your apartment..."}),e.jsx("option",{value:"VBHC Vaibhava",children:"VBHC Vaibhava"}),e.jsx("option",{value:"Symphony",children:"Symphony"})]}),p&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["ðŸ“ ",p,", Chandapura-Anekal Road, Bangalore - 562106"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(y,{className:"text-sm",children:"Block/Tower"}),e.jsx(G,{placeholder:"e.g., 51",value:j,onChange:s=>Re(s.target.value),className:"mt-1.5"})]}),e.jsxs("div",{children:[e.jsx(y,{className:"text-sm",children:"Room Number"}),e.jsx(G,{placeholder:"e.g., 603",value:b,onChange:s=>Ee(s.target.value),className:"mt-1.5"})]})]}),p&&(j||b)&&e.jsxs("div",{className:"p-2 bg-muted/50 rounded-lg text-sm",children:[e.jsx("p",{className:"font-medium",children:"Delivery to:"}),e.jsxs("p",{className:"text-muted-foreground",children:[j&&`Block ${j}`,b&&`, Room ${b}`,e.jsx("br",{}),p,", Chandapura-Anekal Road, Bangalore - 562106"]})]})]})]})]})]}),e.jsxs(is,{children:[e.jsx(x,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),e.jsx(x,{onClick:ze,disabled:Z,children:Z?"Placing Order...":"Confirm Order"})]})]})}),e.jsx(H,{})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-40 border-b border-border/40 bg-background/40 backdrop-blur-xl",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-3",children:[e.jsx(x,{variant:"ghost",size:"icon",onClick:()=>v("/shop"),children:e.jsx(be,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-bold",children:"Your Cart"})]})}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-4",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-muted flex items-center justify-center mb-6",children:e.jsx(Ne,{className:"h-10 w-10 text-muted-foreground"})}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Sign in to view your cart"}),e.jsx("p",{className:"text-muted-foreground text-center mb-6",children:"Please sign in to access your cart and complete your purchase"}),e.jsxs(x,{size:"lg",onClick:()=>v("/auth"),className:"px-8",children:[e.jsx(Ne,{className:"h-5 w-5 mr-2"}),"Sign In"]})]}),e.jsx(H,{})]})}export{Ns as default};
