var Mp=e=>{throw TypeError(e)};var Xd=(e,t,r)=>t.has(e)||Mp("Cannot "+r);var W=(e,t,r)=>(Xd(e,t,"read from private field"),r?r.call(e):t.get(e)),Ae=(e,t,r)=>t.has(e)?Mp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),_e=(e,t,r,n)=>(Xd(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Nt=(e,t,r)=>(Xd(e,t,"access private method"),r);var dl=(e,t,r,n)=>({set _(s){_e(e,t,s,r)},get _(){return W(e,t,n)}});function F0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function U0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var B0={exports:{}},Zc={},z0={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wi=Symbol.for("react.element"),bS=Symbol.for("react.portal"),jS=Symbol.for("react.fragment"),_S=Symbol.for("react.strict_mode"),NS=Symbol.for("react.profiler"),SS=Symbol.for("react.provider"),kS=Symbol.for("react.context"),CS=Symbol.for("react.forward_ref"),ES=Symbol.for("react.suspense"),PS=Symbol.for("react.memo"),TS=Symbol.for("react.lazy"),Lp=Symbol.iterator;function RS(e){return e===null||typeof e!="object"?null:(e=Lp&&e[Lp]||e["@@iterator"],typeof e=="function"?e:null)}var q0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W0=Object.assign,V0={};function wo(e,t,r){this.props=e,this.context=t,this.refs=V0,this.updater=r||q0}wo.prototype.isReactComponent={};wo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function H0(){}H0.prototype=wo.prototype;function If(e,t,r){this.props=e,this.context=t,this.refs=V0,this.updater=r||q0}var Df=If.prototype=new H0;Df.constructor=If;W0(Df,wo.prototype);Df.isPureReactComponent=!0;var $p=Array.isArray,K0=Object.prototype.hasOwnProperty,Mf={current:null},G0={key:!0,ref:!0,__self:!0,__source:!0};function Y0(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)K0.call(t,n)&&!G0.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Wi,type:e,key:o,ref:i,props:s,_owner:Mf.current}}function OS(e,t){return{$$typeof:Wi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wi}function AS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Fp=/\/+/g;function Zd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AS(""+e.key):t.toString(36)}function Yl(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Wi:case bS:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Zd(i,0):n,$p(s)?(r="",e!=null&&(r=e.replace(Fp,"$&/")+"/"),Yl(s,t,r,"",function(d){return d})):s!=null&&(Lf(s)&&(s=OS(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Fp,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",$p(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Zd(o,l);i+=Yl(o,t,r,c,s)}else if(c=RS(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Zd(o,l++),i+=Yl(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ul(e,t,r){if(e==null)return e;var n=[],s=0;return Yl(e,n,"","",function(o){return t.call(r,o,s++)}),n}function IS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dt={current:null},Ql={transition:null},DS={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:Ql,ReactCurrentOwner:Mf};function Q0(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:ul,forEach:function(e,t,r){ul(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ul(e,function(){t++}),t},toArray:function(e){return ul(e,function(t){return t})||[]},only:function(e){if(!Lf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=wo;Te.Fragment=jS;Te.Profiler=NS;Te.PureComponent=If;Te.StrictMode=_S;Te.Suspense=ES;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DS;Te.act=Q0;Te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=W0({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Mf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)K0.call(t,c)&&!G0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Wi,type:e.type,key:s,ref:o,props:n,_owner:i}};Te.createContext=function(e){return e={$$typeof:kS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:SS,_context:e},e.Consumer=e};Te.createElement=Y0;Te.createFactory=function(e){var t=Y0.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:CS,render:e}};Te.isValidElement=Lf;Te.lazy=function(e){return{$$typeof:TS,_payload:{_status:-1,_result:e},_init:IS}};Te.memo=function(e,t){return{$$typeof:PS,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=Ql.transition;Ql.transition={};try{e()}finally{Ql.transition=t}};Te.unstable_act=Q0;Te.useCallback=function(e,t){return Dt.current.useCallback(e,t)};Te.useContext=function(e){return Dt.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return Dt.current.useDeferredValue(e)};Te.useEffect=function(e,t){return Dt.current.useEffect(e,t)};Te.useId=function(){return Dt.current.useId()};Te.useImperativeHandle=function(e,t,r){return Dt.current.useImperativeHandle(e,t,r)};Te.useInsertionEffect=function(e,t){return Dt.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return Dt.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return Dt.current.useMemo(e,t)};Te.useReducer=function(e,t,r){return Dt.current.useReducer(e,t,r)};Te.useRef=function(e){return Dt.current.useRef(e)};Te.useState=function(e){return Dt.current.useState(e)};Te.useSyncExternalStore=function(e,t,r){return Dt.current.useSyncExternalStore(e,t,r)};Te.useTransition=function(){return Dt.current.useTransition()};Te.version="18.3.1";z0.exports=Te;var h=z0.exports;const J=U0(h),$f=F0({__proto__:null,default:J},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MS=h,LS=Symbol.for("react.element"),$S=Symbol.for("react.fragment"),FS=Object.prototype.hasOwnProperty,US=MS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BS={key:!0,ref:!0,__self:!0,__source:!0};function J0(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)FS.call(t,n)&&!BS.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:LS,type:e,key:o,ref:i,props:s,_owner:US.current}}Zc.Fragment=$S;Zc.jsx=J0;Zc.jsxs=J0;B0.exports=Zc;var a=B0.exports,X0={exports:{}},rr={},Z0={exports:{}},ex={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,R){var K=C.length;C.push(R);e:for(;0<K;){var te=K-1>>>1,Z=C[te];if(0<s(Z,R))C[te]=R,C[K]=Z,K=te;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var R=C[0],K=C.pop();if(K!==R){C[0]=K;e:for(var te=0,Z=C.length,oe=Z>>>1;te<oe;){var he=2*(te+1)-1,ke=C[he],Re=he+1,Q=C[Re];if(0>s(ke,K))Re<Z&&0>s(Q,ke)?(C[te]=Q,C[Re]=K,te=Re):(C[te]=ke,C[he]=K,te=he);else if(Re<Z&&0>s(Q,K))C[te]=Q,C[Re]=K,te=Re;else break e}}return R}function s(C,R){var K=C.sortIndex-R.sortIndex;return K!==0?K:C.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,m=null,p=3,f=!1,b=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(C){for(var R=r(d);R!==null;){if(R.callback===null)n(d);else if(R.startTime<=C)n(d),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(d)}}function j(C){if(g=!1,w(C),!b)if(r(c)!==null)b=!0,P(N);else{var R=r(d);R!==null&&H(j,R.startTime-C)}}function N(C,R){b=!1,g&&(g=!1,y(k),k=-1),f=!0;var K=p;try{for(w(R),m=r(c);m!==null&&(!(m.expirationTime>R)||C&&!I());){var te=m.callback;if(typeof te=="function"){m.callback=null,p=m.priorityLevel;var Z=te(m.expirationTime<=R);R=e.unstable_now(),typeof Z=="function"?m.callback=Z:m===r(c)&&n(c),w(R)}else n(c);m=r(c)}if(m!==null)var oe=!0;else{var he=r(d);he!==null&&H(j,he.startTime-R),oe=!1}return oe}finally{m=null,p=K,f=!1}}var S=!1,E=null,k=-1,T=5,O=-1;function I(){return!(e.unstable_now()-O<T)}function $(){if(E!==null){var C=e.unstable_now();O=C;var R=!0;try{R=E(!0,C)}finally{R?B():(S=!1,E=null)}}else S=!1}var B;if(typeof x=="function")B=function(){x($)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,G=M.port2;M.port1.onmessage=$,B=function(){G.postMessage(null)}}else B=function(){v($,0)};function P(C){E=C,S||(S=!0,B())}function H(C,R){k=v(function(){C(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){b||f||(b=!0,P(N))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var K=p;p=R;try{return C()}finally{p=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,R){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var K=p;p=C;try{return R()}finally{p=K}},e.unstable_scheduleCallback=function(C,R,K){var te=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?te+K:te):K=te,C){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=K+Z,C={id:u++,callback:R,priorityLevel:C,startTime:K,expirationTime:Z,sortIndex:-1},K>te?(C.sortIndex=K,t(d,C),r(c)===null&&C===r(d)&&(g?(y(k),k=-1):g=!0,H(j,K-te))):(C.sortIndex=Z,t(c,C),b||f||(b=!0,P(N))),C},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(C){var R=p;return function(){var K=p;p=R;try{return C.apply(this,arguments)}finally{p=K}}}})(ex);Z0.exports=ex;var zS=Z0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qS=h,tr=zS;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tx=new Set,fi={};function na(e,t){so(e,t),so(e+"Capture",t)}function so(e,t){for(fi[e]=t,e=0;e<t.length;e++)tx.add(t[e])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zu=Object.prototype.hasOwnProperty,WS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Up={},Bp={};function VS(e){return Zu.call(Bp,e)?!0:Zu.call(Up,e)?!1:WS.test(e)?Bp[e]=!0:(Up[e]=!0,!1)}function HS(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function KS(e,t,r,n){if(t===null||typeof t>"u"||HS(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mt(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new Mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_t[t]=new Mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new Mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new Mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new Mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new Mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new Mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new Mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new Mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ff=/[\-:]([a-z])/g;function Uf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ff,Uf);_t[t]=new Mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ff,Uf);_t[t]=new Mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ff,Uf);_t[t]=new Mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new Mt(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new Mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bf(e,t,r,n){var s=_t.hasOwnProperty(t)?_t[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(KS(t,r,s,n)&&(r=null),n||s===null?VS(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var yn=qS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hl=Symbol.for("react.element"),_a=Symbol.for("react.portal"),Na=Symbol.for("react.fragment"),zf=Symbol.for("react.strict_mode"),eh=Symbol.for("react.profiler"),rx=Symbol.for("react.provider"),nx=Symbol.for("react.context"),qf=Symbol.for("react.forward_ref"),th=Symbol.for("react.suspense"),rh=Symbol.for("react.suspense_list"),Wf=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),sx=Symbol.for("react.offscreen"),zp=Symbol.iterator;function Do(e){return e===null||typeof e!="object"?null:(e=zp&&e[zp]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Object.assign,eu;function Ko(e){if(eu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);eu=t&&t[1]||""}return`
`+eu+e}var tu=!1;function ru(e,t){if(!e||tu)return"";tu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{tu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ko(e):""}function GS(e){switch(e.tag){case 5:return Ko(e.type);case 16:return Ko("Lazy");case 13:return Ko("Suspense");case 19:return Ko("SuspenseList");case 0:case 2:case 15:return e=ru(e.type,!1),e;case 11:return e=ru(e.type.render,!1),e;case 1:return e=ru(e.type,!0),e;default:return""}}function nh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Na:return"Fragment";case _a:return"Portal";case eh:return"Profiler";case zf:return"StrictMode";case th:return"Suspense";case rh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nx:return(e.displayName||"Context")+".Consumer";case rx:return(e._context.displayName||"Context")+".Provider";case qf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wf:return t=e.displayName||null,t!==null?t:nh(e.type)||"Memo";case On:t=e._payload,e=e._init;try{return nh(e(t))}catch{}}return null}function YS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nh(t);case 8:return t===zf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ss(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ax(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function QS(e){var t=ax(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fl(e){e._valueTracker||(e._valueTracker=QS(e))}function ox(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ax(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function hc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sh(e,t){var r=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function qp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ss(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ix(e,t){t=t.checked,t!=null&&Bf(e,"checked",t,!1)}function ah(e,t){ix(e,t);var r=ss(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?oh(e,t.type,r):t.hasOwnProperty("defaultValue")&&oh(e,t.type,ss(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wp(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function oh(e,t,r){(t!=="number"||hc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Go=Array.isArray;function $a(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ss(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ih(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Y(92));if(Go(r)){if(1<r.length)throw Error(Y(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ss(r)}}function lx(e,t){var r=ss(t.value),n=ss(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Hp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ml,dx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ml=ml||document.createElement("div"),ml.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ml.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JS=["Webkit","ms","Moz","O"];Object.keys(ei).forEach(function(e){JS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ei[t]=ei[e]})});function ux(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ei.hasOwnProperty(e)&&ei[e]?(""+t).trim():t+"px"}function hx(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ux(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var XS=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ch(e,t){if(t){if(XS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function dh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uh=null;function Vf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hh=null,Fa=null,Ua=null;function Kp(e){if(e=Ki(e)){if(typeof hh!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=sd(t),hh(e.stateNode,e.type,t))}}function fx(e){Fa?Ua?Ua.push(e):Ua=[e]:Fa=e}function mx(){if(Fa){var e=Fa,t=Ua;if(Ua=Fa=null,Kp(e),t)for(e=0;e<t.length;e++)Kp(t[e])}}function px(e,t){return e(t)}function gx(){}var nu=!1;function vx(e,t,r){if(nu)return e(t,r);nu=!0;try{return px(e,t,r)}finally{nu=!1,(Fa!==null||Ua!==null)&&(gx(),mx())}}function pi(e,t){var r=e.stateNode;if(r===null)return null;var n=sd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Y(231,t,typeof r));return r}var fh=!1;if(un)try{var Mo={};Object.defineProperty(Mo,"passive",{get:function(){fh=!0}}),window.addEventListener("test",Mo,Mo),window.removeEventListener("test",Mo,Mo)}catch{fh=!1}function ZS(e,t,r,n,s,o,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var ti=!1,fc=null,mc=!1,mh=null,ek={onError:function(e){ti=!0,fc=e}};function tk(e,t,r,n,s,o,i,l,c){ti=!1,fc=null,ZS.apply(ek,arguments)}function rk(e,t,r,n,s,o,i,l,c){if(tk.apply(this,arguments),ti){if(ti){var d=fc;ti=!1,fc=null}else throw Error(Y(198));mc||(mc=!0,mh=d)}}function sa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function xx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gp(e){if(sa(e)!==e)throw Error(Y(188))}function nk(e){var t=e.alternate;if(!t){if(t=sa(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Gp(s),e;if(o===n)return Gp(s),t;o=o.sibling}throw Error(Y(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i)throw Error(Y(189))}}if(r.alternate!==n)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?e:t}function yx(e){return e=nk(e),e!==null?wx(e):null}function wx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wx(e);if(t!==null)return t;e=e.sibling}return null}var bx=tr.unstable_scheduleCallback,Yp=tr.unstable_cancelCallback,sk=tr.unstable_shouldYield,ak=tr.unstable_requestPaint,tt=tr.unstable_now,ok=tr.unstable_getCurrentPriorityLevel,Hf=tr.unstable_ImmediatePriority,jx=tr.unstable_UserBlockingPriority,pc=tr.unstable_NormalPriority,ik=tr.unstable_LowPriority,_x=tr.unstable_IdlePriority,ed=null,Wr=null;function lk(e){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(ed,e,void 0,(e.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:uk,ck=Math.log,dk=Math.LN2;function uk(e){return e>>>=0,e===0?32:31-(ck(e)/dk|0)|0}var pl=64,gl=4194304;function Yo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=Yo(l):(o&=i,o!==0&&(n=Yo(o)))}else i=r&~s,i!==0?n=Yo(i):o!==0&&(n=Yo(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pr(t),s=1<<r,n|=e[r],t&=~s;return n}function hk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fk(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Pr(o),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=hk(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function ph(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nx(){var e=pl;return pl<<=1,!(pl&4194240)&&(pl=64),e}function su(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Vi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pr(t),e[t]=r}function mk(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Pr(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Kf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var De=0;function Sx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kx,Gf,Cx,Ex,Px,gh=!1,vl=[],Vn=null,Hn=null,Kn=null,gi=new Map,vi=new Map,In=[],pk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qp(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":gi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vi.delete(t.pointerId)}}function Lo(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Ki(t),t!==null&&Gf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function gk(e,t,r,n,s){switch(t){case"focusin":return Vn=Lo(Vn,e,t,r,n,s),!0;case"dragenter":return Hn=Lo(Hn,e,t,r,n,s),!0;case"mouseover":return Kn=Lo(Kn,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return gi.set(o,Lo(gi.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,vi.set(o,Lo(vi.get(o)||null,e,t,r,n,s)),!0}return!1}function Tx(e){var t=Cs(e.target);if(t!==null){var r=sa(t);if(r!==null){if(t=r.tag,t===13){if(t=xx(r),t!==null){e.blockedOn=t,Px(e.priority,function(){Cx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=vh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);uh=n,r.target.dispatchEvent(n),uh=null}else return t=Ki(r),t!==null&&Gf(t),e.blockedOn=r,!1;t.shift()}return!0}function Jp(e,t,r){Jl(e)&&r.delete(t)}function vk(){gh=!1,Vn!==null&&Jl(Vn)&&(Vn=null),Hn!==null&&Jl(Hn)&&(Hn=null),Kn!==null&&Jl(Kn)&&(Kn=null),gi.forEach(Jp),vi.forEach(Jp)}function $o(e,t){e.blockedOn===t&&(e.blockedOn=null,gh||(gh=!0,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,vk)))}function xi(e){function t(s){return $o(s,e)}if(0<vl.length){$o(vl[0],e);for(var r=1;r<vl.length;r++){var n=vl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Vn!==null&&$o(Vn,e),Hn!==null&&$o(Hn,e),Kn!==null&&$o(Kn,e),gi.forEach(t),vi.forEach(t),r=0;r<In.length;r++)n=In[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<In.length&&(r=In[0],r.blockedOn===null);)Tx(r),r.blockedOn===null&&In.shift()}var Ba=yn.ReactCurrentBatchConfig,vc=!0;function xk(e,t,r,n){var s=De,o=Ba.transition;Ba.transition=null;try{De=1,Yf(e,t,r,n)}finally{De=s,Ba.transition=o}}function yk(e,t,r,n){var s=De,o=Ba.transition;Ba.transition=null;try{De=4,Yf(e,t,r,n)}finally{De=s,Ba.transition=o}}function Yf(e,t,r,n){if(vc){var s=vh(e,t,r,n);if(s===null)mu(e,t,n,xc,r),Qp(e,n);else if(gk(s,e,t,r,n))n.stopPropagation();else if(Qp(e,n),t&4&&-1<pk.indexOf(e)){for(;s!==null;){var o=Ki(s);if(o!==null&&kx(o),o=vh(e,t,r,n),o===null&&mu(e,t,n,xc,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else mu(e,t,n,null,r)}}var xc=null;function vh(e,t,r,n){if(xc=null,e=Vf(n),e=Cs(e),e!==null)if(t=sa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=xx(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xc=e,null}function Rx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ok()){case Hf:return 1;case jx:return 4;case pc:case ik:return 16;case _x:return 536870912;default:return 16}default:return 16}}var zn=null,Qf=null,Xl=null;function Ox(){if(Xl)return Xl;var e,t=Qf,r=t.length,n,s="value"in zn?zn.value:zn.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return Xl=s.slice(e,1<n?1-n:void 0)}function Zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xl(){return!0}function Xp(){return!1}function nr(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?xl:Xp,this.isPropagationStopped=Xp,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),t}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jf=nr(bo),Hi=Qe({},bo,{view:0,detail:0}),wk=nr(Hi),au,ou,Fo,td=Qe({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fo&&(Fo&&e.type==="mousemove"?(au=e.screenX-Fo.screenX,ou=e.screenY-Fo.screenY):ou=au=0,Fo=e),au)},movementY:function(e){return"movementY"in e?e.movementY:ou}}),Zp=nr(td),bk=Qe({},td,{dataTransfer:0}),jk=nr(bk),_k=Qe({},Hi,{relatedTarget:0}),iu=nr(_k),Nk=Qe({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),Sk=nr(Nk),kk=Qe({},bo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ck=nr(kk),Ek=Qe({},bo,{data:0}),eg=nr(Ek),Pk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ok(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rk[e])?!!t[e]:!1}function Xf(){return Ok}var Ak=Qe({},Hi,{key:function(e){if(e.key){var t=Pk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xf,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ik=nr(Ak),Dk=Qe({},td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tg=nr(Dk),Mk=Qe({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xf}),Lk=nr(Mk),$k=Qe({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fk=nr($k),Uk=Qe({},td,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bk=nr(Uk),zk=[9,13,27,32],Zf=un&&"CompositionEvent"in window,ri=null;un&&"documentMode"in document&&(ri=document.documentMode);var qk=un&&"TextEvent"in window&&!ri,Ax=un&&(!Zf||ri&&8<ri&&11>=ri),rg=" ",ng=!1;function Ix(e,t){switch(e){case"keyup":return zk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sa=!1;function Wk(e,t){switch(e){case"compositionend":return Dx(t);case"keypress":return t.which!==32?null:(ng=!0,rg);case"textInput":return e=t.data,e===rg&&ng?null:e;default:return null}}function Vk(e,t){if(Sa)return e==="compositionend"||!Zf&&Ix(e,t)?(e=Ox(),Xl=Qf=zn=null,Sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ax&&t.locale!=="ko"?null:t.data;default:return null}}var Hk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hk[e.type]:t==="textarea"}function Mx(e,t,r,n){fx(n),t=yc(t,"onChange"),0<t.length&&(r=new Jf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ni=null,yi=null;function Kk(e){Kx(e,0)}function rd(e){var t=Ea(e);if(ox(t))return e}function Gk(e,t){if(e==="change")return t}var Lx=!1;if(un){var lu;if(un){var cu="oninput"in document;if(!cu){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),cu=typeof ag.oninput=="function"}lu=cu}else lu=!1;Lx=lu&&(!document.documentMode||9<document.documentMode)}function og(){ni&&(ni.detachEvent("onpropertychange",$x),yi=ni=null)}function $x(e){if(e.propertyName==="value"&&rd(yi)){var t=[];Mx(t,yi,e,Vf(e)),vx(Kk,t)}}function Yk(e,t,r){e==="focusin"?(og(),ni=t,yi=r,ni.attachEvent("onpropertychange",$x)):e==="focusout"&&og()}function Qk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rd(yi)}function Jk(e,t){if(e==="click")return rd(t)}function Xk(e,t){if(e==="input"||e==="change")return rd(t)}function Zk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rr=typeof Object.is=="function"?Object.is:Zk;function wi(e,t){if(Rr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Zu.call(t,s)||!Rr(e[s],t[s]))return!1}return!0}function ig(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lg(e,t){var r=ig(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ig(r)}}function Fx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ux(){for(var e=window,t=hc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=hc(e.document)}return t}function em(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function e2(e){var t=Ux(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Fx(r.ownerDocument.documentElement,r)){if(n!==null&&em(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=lg(r,o);var i=lg(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var t2=un&&"documentMode"in document&&11>=document.documentMode,ka=null,xh=null,si=null,yh=!1;function cg(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yh||ka==null||ka!==hc(n)||(n=ka,"selectionStart"in n&&em(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),si&&wi(si,n)||(si=n,n=yc(xh,"onSelect"),0<n.length&&(t=new Jf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ka)))}function yl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ca={animationend:yl("Animation","AnimationEnd"),animationiteration:yl("Animation","AnimationIteration"),animationstart:yl("Animation","AnimationStart"),transitionend:yl("Transition","TransitionEnd")},du={},Bx={};un&&(Bx=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function nd(e){if(du[e])return du[e];if(!Ca[e])return e;var t=Ca[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Bx)return du[e]=t[r];return e}var zx=nd("animationend"),qx=nd("animationiteration"),Wx=nd("animationstart"),Vx=nd("transitionend"),Hx=new Map,dg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(e,t){Hx.set(e,t),na(t,[e])}for(var uu=0;uu<dg.length;uu++){var hu=dg[uu],r2=hu.toLowerCase(),n2=hu[0].toUpperCase()+hu.slice(1);ls(r2,"on"+n2)}ls(zx,"onAnimationEnd");ls(qx,"onAnimationIteration");ls(Wx,"onAnimationStart");ls("dblclick","onDoubleClick");ls("focusin","onFocus");ls("focusout","onBlur");ls(Vx,"onTransitionEnd");so("onMouseEnter",["mouseout","mouseover"]);so("onMouseLeave",["mouseout","mouseover"]);so("onPointerEnter",["pointerout","pointerover"]);so("onPointerLeave",["pointerout","pointerover"]);na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));na("onBeforeInput",["compositionend","keypress","textInput","paste"]);na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qo));function ug(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,rk(n,t,void 0,e),e.currentTarget=null}function Kx(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;ug(s,l,d),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;ug(s,l,d),o=c}}}if(mc)throw e=mh,mc=!1,mh=null,e}function ze(e,t){var r=t[Nh];r===void 0&&(r=t[Nh]=new Set);var n=e+"__bubble";r.has(n)||(Gx(t,e,2,!1),r.add(n))}function fu(e,t,r){var n=0;t&&(n|=4),Gx(r,e,n,t)}var wl="_reactListening"+Math.random().toString(36).slice(2);function bi(e){if(!e[wl]){e[wl]=!0,tx.forEach(function(r){r!=="selectionchange"&&(s2.has(r)||fu(r,!1,e),fu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wl]||(t[wl]=!0,fu("selectionchange",!1,t))}}function Gx(e,t,r,n){switch(Rx(t)){case 1:var s=xk;break;case 4:s=yk;break;default:s=Yf}r=s.bind(null,t,r,e),s=void 0,!fh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function mu(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Cs(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}vx(function(){var d=o,u=Vf(r),m=[];e:{var p=Hx.get(e);if(p!==void 0){var f=Jf,b=e;switch(e){case"keypress":if(Zl(r)===0)break e;case"keydown":case"keyup":f=Ik;break;case"focusin":b="focus",f=iu;break;case"focusout":b="blur",f=iu;break;case"beforeblur":case"afterblur":f=iu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Zp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=jk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Lk;break;case zx:case qx:case Wx:f=Sk;break;case Vx:f=Fk;break;case"scroll":f=wk;break;case"wheel":f=Bk;break;case"copy":case"cut":case"paste":f=Ck;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=tg}var g=(t&4)!==0,v=!g&&e==="scroll",y=g?p!==null?p+"Capture":null:p;g=[];for(var x=d,w;x!==null;){w=x;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,y!==null&&(j=pi(x,y),j!=null&&g.push(ji(x,j,w)))),v)break;x=x.return}0<g.length&&(p=new f(p,b,null,r,u),m.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&r!==uh&&(b=r.relatedTarget||r.fromElement)&&(Cs(b)||b[hn]))break e;if((f||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,f?(b=r.relatedTarget||r.toElement,f=d,b=b?Cs(b):null,b!==null&&(v=sa(b),b!==v||b.tag!==5&&b.tag!==6)&&(b=null)):(f=null,b=d),f!==b)){if(g=Zp,j="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=tg,j="onPointerLeave",y="onPointerEnter",x="pointer"),v=f==null?p:Ea(f),w=b==null?p:Ea(b),p=new g(j,x+"leave",f,r,u),p.target=v,p.relatedTarget=w,j=null,Cs(u)===d&&(g=new g(y,x+"enter",b,r,u),g.target=w,g.relatedTarget=v,j=g),v=j,f&&b)t:{for(g=f,y=b,x=0,w=g;w;w=ua(w))x++;for(w=0,j=y;j;j=ua(j))w++;for(;0<x-w;)g=ua(g),x--;for(;0<w-x;)y=ua(y),w--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=ua(g),y=ua(y)}g=null}else g=null;f!==null&&hg(m,p,f,g,!1),b!==null&&v!==null&&hg(m,v,b,g,!0)}}e:{if(p=d?Ea(d):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var N=Gk;else if(sg(p))if(Lx)N=Xk;else{N=Qk;var S=Yk}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=Jk);if(N&&(N=N(e,d))){Mx(m,N,r,u);break e}S&&S(e,p,d),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&oh(p,"number",p.value)}switch(S=d?Ea(d):window,e){case"focusin":(sg(S)||S.contentEditable==="true")&&(ka=S,xh=d,si=null);break;case"focusout":si=xh=ka=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,cg(m,r,u);break;case"selectionchange":if(t2)break;case"keydown":case"keyup":cg(m,r,u)}var E;if(Zf)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Sa?Ix(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Ax&&r.locale!=="ko"&&(Sa||k!=="onCompositionStart"?k==="onCompositionEnd"&&Sa&&(E=Ox()):(zn=u,Qf="value"in zn?zn.value:zn.textContent,Sa=!0)),S=yc(d,k),0<S.length&&(k=new eg(k,e,null,r,u),m.push({event:k,listeners:S}),E?k.data=E:(E=Dx(r),E!==null&&(k.data=E)))),(E=qk?Wk(e,r):Vk(e,r))&&(d=yc(d,"onBeforeInput"),0<d.length&&(u=new eg("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=E))}Kx(m,t)})}function ji(e,t,r){return{instance:e,listener:t,currentTarget:r}}function yc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=pi(e,r),o!=null&&n.unshift(ji(e,o,s)),o=pi(e,t),o!=null&&n.push(ji(e,o,s))),e=e.return}return n}function ua(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hg(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=pi(r,o),c!=null&&i.unshift(ji(r,c,l))):s||(c=pi(r,o),c!=null&&i.push(ji(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var a2=/\r\n?/g,o2=/\u0000|\uFFFD/g;function fg(e){return(typeof e=="string"?e:""+e).replace(a2,`
`).replace(o2,"")}function bl(e,t,r){if(t=fg(t),fg(e)!==t&&r)throw Error(Y(425))}function wc(){}var wh=null,bh=null;function jh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _h=typeof setTimeout=="function"?setTimeout:void 0,i2=typeof clearTimeout=="function"?clearTimeout:void 0,mg=typeof Promise=="function"?Promise:void 0,l2=typeof queueMicrotask=="function"?queueMicrotask:typeof mg<"u"?function(e){return mg.resolve(null).then(e).catch(c2)}:_h;function c2(e){setTimeout(function(){throw e})}function pu(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),xi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);xi(t)}function Gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var jo=Math.random().toString(36).slice(2),zr="__reactFiber$"+jo,_i="__reactProps$"+jo,hn="__reactContainer$"+jo,Nh="__reactEvents$"+jo,d2="__reactListeners$"+jo,u2="__reactHandles$"+jo;function Cs(e){var t=e[zr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[hn]||r[zr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=pg(e);e!==null;){if(r=e[zr])return r;e=pg(e)}return t}e=r,r=e.parentNode}return null}function Ki(e){return e=e[zr]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ea(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function sd(e){return e[_i]||null}var Sh=[],Pa=-1;function cs(e){return{current:e}}function qe(e){0>Pa||(e.current=Sh[Pa],Sh[Pa]=null,Pa--)}function $e(e,t){Pa++,Sh[Pa]=e.current,e.current=t}var as={},Pt=cs(as),zt=cs(!1),zs=as;function ao(e,t){var r=e.type.contextTypes;if(!r)return as;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function qt(e){return e=e.childContextTypes,e!=null}function bc(){qe(zt),qe(Pt)}function gg(e,t,r){if(Pt.current!==as)throw Error(Y(168));$e(Pt,t),$e(zt,r)}function Yx(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Y(108,YS(e)||"Unknown",s));return Qe({},r,n)}function jc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||as,zs=Pt.current,$e(Pt,e),$e(zt,zt.current),!0}function vg(e,t,r){var n=e.stateNode;if(!n)throw Error(Y(169));r?(e=Yx(e,t,zs),n.__reactInternalMemoizedMergedChildContext=e,qe(zt),qe(Pt),$e(Pt,e)):qe(zt),$e(zt,r)}var tn=null,ad=!1,gu=!1;function Qx(e){tn===null?tn=[e]:tn.push(e)}function h2(e){ad=!0,Qx(e)}function ds(){if(!gu&&tn!==null){gu=!0;var e=0,t=De;try{var r=tn;for(De=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}tn=null,ad=!1}catch(s){throw tn!==null&&(tn=tn.slice(e+1)),bx(Hf,ds),s}finally{De=t,gu=!1}}return null}var Ta=[],Ra=0,_c=null,Nc=0,ar=[],or=0,qs=null,nn=1,sn="";function ws(e,t){Ta[Ra++]=Nc,Ta[Ra++]=_c,_c=e,Nc=t}function Jx(e,t,r){ar[or++]=nn,ar[or++]=sn,ar[or++]=qs,qs=e;var n=nn;e=sn;var s=32-Pr(n)-1;n&=~(1<<s),r+=1;var o=32-Pr(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,nn=1<<32-Pr(t)+s|r<<s|n,sn=o+e}else nn=1<<o|r<<s|n,sn=e}function tm(e){e.return!==null&&(ws(e,1),Jx(e,1,0))}function rm(e){for(;e===_c;)_c=Ta[--Ra],Ta[Ra]=null,Nc=Ta[--Ra],Ta[Ra]=null;for(;e===qs;)qs=ar[--or],ar[or]=null,sn=ar[--or],ar[or]=null,nn=ar[--or],ar[or]=null}var Zt=null,Xt=null,Ve=!1,Er=null;function Xx(e,t){var r=lr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function xg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zt=e,Xt=Gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zt=e,Xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=qs!==null?{id:nn,overflow:sn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=lr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Zt=e,Xt=null,!0):!1;default:return!1}}function kh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ch(e){if(Ve){var t=Xt;if(t){var r=t;if(!xg(e,t)){if(kh(e))throw Error(Y(418));t=Gn(r.nextSibling);var n=Zt;t&&xg(e,t)?Xx(n,r):(e.flags=e.flags&-4097|2,Ve=!1,Zt=e)}}else{if(kh(e))throw Error(Y(418));e.flags=e.flags&-4097|2,Ve=!1,Zt=e}}}function yg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zt=e}function jl(e){if(e!==Zt)return!1;if(!Ve)return yg(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jh(e.type,e.memoizedProps)),t&&(t=Xt)){if(kh(e))throw Zx(),Error(Y(418));for(;t;)Xx(e,t),t=Gn(t.nextSibling)}if(yg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xt=Gn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xt=null}}else Xt=Zt?Gn(e.stateNode.nextSibling):null;return!0}function Zx(){for(var e=Xt;e;)e=Gn(e.nextSibling)}function oo(){Xt=Zt=null,Ve=!1}function nm(e){Er===null?Er=[e]:Er.push(e)}var f2=yn.ReactCurrentBatchConfig;function Uo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var n=r.stateNode}if(!n)throw Error(Y(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,e))}return e}function _l(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wg(e){var t=e._init;return t(e._payload)}function ey(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=Xn(y,x),y.index=0,y.sibling=null,y}function o(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,w,j){return x===null||x.tag!==6?(x=_u(w,y.mode,j),x.return=y,x):(x=s(x,w),x.return=y,x)}function c(y,x,w,j){var N=w.type;return N===Na?u(y,x,w.props.children,j,w.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===On&&wg(N)===x.type)?(j=s(x,w.props),j.ref=Uo(y,x,w),j.return=y,j):(j=oc(w.type,w.key,w.props,null,y.mode,j),j.ref=Uo(y,x,w),j.return=y,j)}function d(y,x,w,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Nu(w,y.mode,j),x.return=y,x):(x=s(x,w.children||[]),x.return=y,x)}function u(y,x,w,j,N){return x===null||x.tag!==7?(x=$s(w,y.mode,j,N),x.return=y,x):(x=s(x,w),x.return=y,x)}function m(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=_u(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case hl:return w=oc(x.type,x.key,x.props,null,y.mode,w),w.ref=Uo(y,null,x),w.return=y,w;case _a:return x=Nu(x,y.mode,w),x.return=y,x;case On:var j=x._init;return m(y,j(x._payload),w)}if(Go(x)||Do(x))return x=$s(x,y.mode,w,null),x.return=y,x;_l(y,x)}return null}function p(y,x,w,j){var N=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(y,x,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case hl:return w.key===N?c(y,x,w,j):null;case _a:return w.key===N?d(y,x,w,j):null;case On:return N=w._init,p(y,x,N(w._payload),j)}if(Go(w)||Do(w))return N!==null?null:u(y,x,w,j,null);_l(y,w)}return null}function f(y,x,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(w)||null,l(x,y,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case hl:return y=y.get(j.key===null?w:j.key)||null,c(x,y,j,N);case _a:return y=y.get(j.key===null?w:j.key)||null,d(x,y,j,N);case On:var S=j._init;return f(y,x,w,S(j._payload),N)}if(Go(j)||Do(j))return y=y.get(w)||null,u(x,y,j,N,null);_l(x,j)}return null}function b(y,x,w,j){for(var N=null,S=null,E=x,k=x=0,T=null;E!==null&&k<w.length;k++){E.index>k?(T=E,E=null):T=E.sibling;var O=p(y,E,w[k],j);if(O===null){E===null&&(E=T);break}e&&E&&O.alternate===null&&t(y,E),x=o(O,x,k),S===null?N=O:S.sibling=O,S=O,E=T}if(k===w.length)return r(y,E),Ve&&ws(y,k),N;if(E===null){for(;k<w.length;k++)E=m(y,w[k],j),E!==null&&(x=o(E,x,k),S===null?N=E:S.sibling=E,S=E);return Ve&&ws(y,k),N}for(E=n(y,E);k<w.length;k++)T=f(E,y,k,w[k],j),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?k:T.key),x=o(T,x,k),S===null?N=T:S.sibling=T,S=T);return e&&E.forEach(function(I){return t(y,I)}),Ve&&ws(y,k),N}function g(y,x,w,j){var N=Do(w);if(typeof N!="function")throw Error(Y(150));if(w=N.call(w),w==null)throw Error(Y(151));for(var S=N=null,E=x,k=x=0,T=null,O=w.next();E!==null&&!O.done;k++,O=w.next()){E.index>k?(T=E,E=null):T=E.sibling;var I=p(y,E,O.value,j);if(I===null){E===null&&(E=T);break}e&&E&&I.alternate===null&&t(y,E),x=o(I,x,k),S===null?N=I:S.sibling=I,S=I,E=T}if(O.done)return r(y,E),Ve&&ws(y,k),N;if(E===null){for(;!O.done;k++,O=w.next())O=m(y,O.value,j),O!==null&&(x=o(O,x,k),S===null?N=O:S.sibling=O,S=O);return Ve&&ws(y,k),N}for(E=n(y,E);!O.done;k++,O=w.next())O=f(E,y,k,O.value,j),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?k:O.key),x=o(O,x,k),S===null?N=O:S.sibling=O,S=O);return e&&E.forEach(function($){return t(y,$)}),Ve&&ws(y,k),N}function v(y,x,w,j){if(typeof w=="object"&&w!==null&&w.type===Na&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case hl:e:{for(var N=w.key,S=x;S!==null;){if(S.key===N){if(N=w.type,N===Na){if(S.tag===7){r(y,S.sibling),x=s(S,w.props.children),x.return=y,y=x;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===On&&wg(N)===S.type){r(y,S.sibling),x=s(S,w.props),x.ref=Uo(y,S,w),x.return=y,y=x;break e}r(y,S);break}else t(y,S);S=S.sibling}w.type===Na?(x=$s(w.props.children,y.mode,j,w.key),x.return=y,y=x):(j=oc(w.type,w.key,w.props,null,y.mode,j),j.ref=Uo(y,x,w),j.return=y,y=j)}return i(y);case _a:e:{for(S=w.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(y,x.sibling),x=s(x,w.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=Nu(w,y.mode,j),x.return=y,y=x}return i(y);case On:return S=w._init,v(y,x,S(w._payload),j)}if(Go(w))return b(y,x,w,j);if(Do(w))return g(y,x,w,j);_l(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(y,x.sibling),x=s(x,w),x.return=y,y=x):(r(y,x),x=_u(w,y.mode,j),x.return=y,y=x),i(y)):r(y,x)}return v}var io=ey(!0),ty=ey(!1),Sc=cs(null),kc=null,Oa=null,sm=null;function am(){sm=Oa=kc=null}function om(e){var t=Sc.current;qe(Sc),e._currentValue=t}function Eh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function za(e,t){kc=e,sm=Oa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bt=!0),e.firstContext=null)}function ur(e){var t=e._currentValue;if(sm!==e)if(e={context:e,memoizedValue:t,next:null},Oa===null){if(kc===null)throw Error(Y(308));Oa=e,kc.dependencies={lanes:0,firstContext:e}}else Oa=Oa.next=e;return t}var Es=null;function im(e){Es===null?Es=[e]:Es.push(e)}function ry(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,im(t)):(r.next=s.next,s.next=r),t.interleaved=r,fn(e,n)}function fn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var An=!1;function lm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ny(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function an(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Oe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,fn(e,r)}return s=n.interleaved,s===null?(t.next=t,im(n)):(t.next=s.next,s.next=t),n.interleaved=t,fn(e,r)}function ec(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kf(e,r)}}function bg(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Cc(e,t,r,n){var s=e.updateQueue;An=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?o=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(o!==null){var m=s.baseState;i=0,u=d=c=null,l=o;do{var p=l.lane,f=l.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,g=l;switch(p=t,f=r,g.tag){case 1:if(b=g.payload,typeof b=="function"){m=b.call(f,m,p);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=g.payload,p=typeof b=="function"?b.call(f,m,p):b,p==null)break e;m=Qe({},m,p);break e;case 2:An=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=m):u=u.next=f,i|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Vs|=i,e.lanes=i,e.memoizedState=m}}function jg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Y(191,s));s.call(n)}}}var Gi={},Vr=cs(Gi),Ni=cs(Gi),Si=cs(Gi);function Ps(e){if(e===Gi)throw Error(Y(174));return e}function cm(e,t){switch($e(Si,t),$e(Ni,e),$e(Vr,Gi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lh(t,e)}qe(Vr),$e(Vr,t)}function lo(){qe(Vr),qe(Ni),qe(Si)}function sy(e){Ps(Si.current);var t=Ps(Vr.current),r=lh(t,e.type);t!==r&&($e(Ni,e),$e(Vr,r))}function dm(e){Ni.current===e&&(qe(Vr),qe(Ni))}var Ge=cs(0);function Ec(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vu=[];function um(){for(var e=0;e<vu.length;e++)vu[e]._workInProgressVersionPrimary=null;vu.length=0}var tc=yn.ReactCurrentDispatcher,xu=yn.ReactCurrentBatchConfig,Ws=0,Ye=null,ht=null,vt=null,Pc=!1,ai=!1,ki=0,m2=0;function St(){throw Error(Y(321))}function hm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rr(e[r],t[r]))return!1;return!0}function fm(e,t,r,n,s,o){if(Ws=o,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tc.current=e===null||e.memoizedState===null?x2:y2,e=r(n,s),ai){o=0;do{if(ai=!1,ki=0,25<=o)throw Error(Y(301));o+=1,vt=ht=null,t.updateQueue=null,tc.current=w2,e=r(n,s)}while(ai)}if(tc.current=Tc,t=ht!==null&&ht.next!==null,Ws=0,vt=ht=Ye=null,Pc=!1,t)throw Error(Y(300));return e}function mm(){var e=ki!==0;return ki=0,e}function $r(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ye.memoizedState=vt=e:vt=vt.next=e,vt}function hr(){if(ht===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=vt===null?Ye.memoizedState:vt.next;if(t!==null)vt=t,ht=e;else{if(e===null)throw Error(Y(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},vt===null?Ye.memoizedState=vt=e:vt=vt.next=e}return vt}function Ci(e,t){return typeof t=="function"?t(e):t}function yu(e){var t=hr(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var n=ht,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((Ws&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,i=n):c=c.next=m,Ye.lanes|=u,Vs|=u}d=d.next}while(d!==null&&d!==o);c===null?i=n:c.next=l,Rr(n,t.memoizedState)||(Bt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Ye.lanes|=o,Vs|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function wu(e){var t=hr(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Rr(o,t.memoizedState)||(Bt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function ay(){}function oy(e,t){var r=Ye,n=hr(),s=t(),o=!Rr(n.memoizedState,s);if(o&&(n.memoizedState=s,Bt=!0),n=n.queue,pm(cy.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||vt!==null&&vt.memoizedState.tag&1){if(r.flags|=2048,Ei(9,ly.bind(null,r,n,s,t),void 0,null),xt===null)throw Error(Y(349));Ws&30||iy(r,t,s)}return s}function iy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ly(e,t,r,n){t.value=r,t.getSnapshot=n,dy(t)&&uy(e)}function cy(e,t,r){return r(function(){dy(t)&&uy(e)})}function dy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rr(e,r)}catch{return!0}}function uy(e){var t=fn(e,1);t!==null&&Tr(t,e,1,-1)}function _g(e){var t=$r();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},t.queue=e,e=e.dispatch=v2.bind(null,Ye,e),[t.memoizedState,e]}function Ei(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hy(){return hr().memoizedState}function rc(e,t,r,n){var s=$r();Ye.flags|=e,s.memoizedState=Ei(1|t,r,void 0,n===void 0?null:n)}function od(e,t,r,n){var s=hr();n=n===void 0?null:n;var o=void 0;if(ht!==null){var i=ht.memoizedState;if(o=i.destroy,n!==null&&hm(n,i.deps)){s.memoizedState=Ei(t,r,o,n);return}}Ye.flags|=e,s.memoizedState=Ei(1|t,r,o,n)}function Ng(e,t){return rc(8390656,8,e,t)}function pm(e,t){return od(2048,8,e,t)}function fy(e,t){return od(4,2,e,t)}function my(e,t){return od(4,4,e,t)}function py(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gy(e,t,r){return r=r!=null?r.concat([e]):null,od(4,4,py.bind(null,t,e),r)}function gm(){}function vy(e,t){var r=hr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function xy(e,t){var r=hr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function yy(e,t,r){return Ws&21?(Rr(r,t)||(r=Nx(),Ye.lanes|=r,Vs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bt=!0),e.memoizedState=r)}function p2(e,t){var r=De;De=r!==0&&4>r?r:4,e(!0);var n=xu.transition;xu.transition={};try{e(!1),t()}finally{De=r,xu.transition=n}}function wy(){return hr().memoizedState}function g2(e,t,r){var n=Jn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},by(e))jy(t,r);else if(r=ry(e,t,r,n),r!==null){var s=It();Tr(r,e,n,s),_y(r,t,n)}}function v2(e,t,r){var n=Jn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(by(e))jy(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(s.hasEagerState=!0,s.eagerState=l,Rr(l,i)){var c=t.interleaved;c===null?(s.next=s,im(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=ry(e,t,s,n),r!==null&&(s=It(),Tr(r,e,n,s),_y(r,t,n))}}function by(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function jy(e,t){ai=Pc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _y(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kf(e,r)}}var Tc={readContext:ur,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},x2={readContext:ur,useCallback:function(e,t){return $r().memoizedState=[e,t===void 0?null:t],e},useContext:ur,useEffect:Ng,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,rc(4194308,4,py.bind(null,t,e),r)},useLayoutEffect:function(e,t){return rc(4194308,4,e,t)},useInsertionEffect:function(e,t){return rc(4,2,e,t)},useMemo:function(e,t){var r=$r();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$r();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=g2.bind(null,Ye,e),[n.memoizedState,e]},useRef:function(e){var t=$r();return e={current:e},t.memoizedState=e},useState:_g,useDebugValue:gm,useDeferredValue:function(e){return $r().memoizedState=e},useTransition:function(){var e=_g(!1),t=e[0];return e=p2.bind(null,e[1]),$r().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ye,s=$r();if(Ve){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=t(),xt===null)throw Error(Y(349));Ws&30||iy(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,Ng(cy.bind(null,n,o,e),[e]),n.flags|=2048,Ei(9,ly.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=$r(),t=xt.identifierPrefix;if(Ve){var r=sn,n=nn;r=(n&~(1<<32-Pr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ki++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=m2++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},y2={readContext:ur,useCallback:vy,useContext:ur,useEffect:pm,useImperativeHandle:gy,useInsertionEffect:fy,useLayoutEffect:my,useMemo:xy,useReducer:yu,useRef:hy,useState:function(){return yu(Ci)},useDebugValue:gm,useDeferredValue:function(e){var t=hr();return yy(t,ht.memoizedState,e)},useTransition:function(){var e=yu(Ci)[0],t=hr().memoizedState;return[e,t]},useMutableSource:ay,useSyncExternalStore:oy,useId:wy,unstable_isNewReconciler:!1},w2={readContext:ur,useCallback:vy,useContext:ur,useEffect:pm,useImperativeHandle:gy,useInsertionEffect:fy,useLayoutEffect:my,useMemo:xy,useReducer:wu,useRef:hy,useState:function(){return wu(Ci)},useDebugValue:gm,useDeferredValue:function(e){var t=hr();return ht===null?t.memoizedState=e:yy(t,ht.memoizedState,e)},useTransition:function(){var e=wu(Ci)[0],t=hr().memoizedState;return[e,t]},useMutableSource:ay,useSyncExternalStore:oy,useId:wy,unstable_isNewReconciler:!1};function br(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ph(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Qe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var id={isMounted:function(e){return(e=e._reactInternals)?sa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=It(),s=Jn(e),o=an(n,s);o.payload=t,r!=null&&(o.callback=r),t=Yn(e,o,s),t!==null&&(Tr(t,e,s,n),ec(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=It(),s=Jn(e),o=an(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Yn(e,o,s),t!==null&&(Tr(t,e,s,n),ec(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=It(),n=Jn(e),s=an(r,n);s.tag=2,t!=null&&(s.callback=t),t=Yn(e,s,n),t!==null&&(Tr(t,e,n,r),ec(t,e,n))}};function Sg(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!wi(r,n)||!wi(s,o):!0}function Ny(e,t,r){var n=!1,s=as,o=t.contextType;return typeof o=="object"&&o!==null?o=ur(o):(s=qt(t)?zs:Pt.current,n=t.contextTypes,o=(n=n!=null)?ao(e,s):as),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=id,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function kg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&id.enqueueReplaceState(t,t.state,null)}function Th(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},lm(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=ur(o):(o=qt(t)?zs:Pt.current,s.context=ao(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ph(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&id.enqueueReplaceState(s,s.state,null),Cc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function co(e,t){try{var r="",n=t;do r+=GS(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function bu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Rh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var b2=typeof WeakMap=="function"?WeakMap:Map;function Sy(e,t,r){r=an(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Oc||(Oc=!0,Bh=n),Rh(e,t)},r}function ky(e,t,r){r=an(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Rh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Rh(e,t),typeof n!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Cg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new b2;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=D2.bind(null,e,t,r),t.then(e,e))}function Eg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pg(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=an(-1,1),t.tag=2,Yn(r,t,1))),r.lanes|=1),e)}var j2=yn.ReactCurrentOwner,Bt=!1;function Rt(e,t,r,n){t.child=e===null?ty(t,null,r,n):io(t,e.child,r,n)}function Tg(e,t,r,n,s){r=r.render;var o=t.ref;return za(t,s),n=fm(e,t,r,n,o,s),r=mm(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mn(e,t,s)):(Ve&&r&&tm(t),t.flags|=1,Rt(e,t,n,s),t.child)}function Rg(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!Nm(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Cy(e,t,o,n,s)):(e=oc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:wi,r(i,n)&&e.ref===t.ref)return mn(e,t,s)}return t.flags|=1,e=Xn(o,n),e.ref=t.ref,e.return=t,t.child=e}function Cy(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(wi(o,n)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(Bt=!0);else return t.lanes=e.lanes,mn(e,t,s)}return Oh(e,t,r,n,s)}function Ey(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Ia,Gt),Gt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(Ia,Gt),Gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,$e(Ia,Gt),Gt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,$e(Ia,Gt),Gt|=n;return Rt(e,t,s,r),t.child}function Py(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Oh(e,t,r,n,s){var o=qt(r)?zs:Pt.current;return o=ao(t,o),za(t,s),r=fm(e,t,r,n,o,s),n=mm(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mn(e,t,s)):(Ve&&n&&tm(t),t.flags|=1,Rt(e,t,r,s),t.child)}function Og(e,t,r,n,s){if(qt(r)){var o=!0;jc(t)}else o=!1;if(za(t,s),t.stateNode===null)nc(e,t),Ny(t,r,n),Th(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=ur(d):(d=qt(r)?zs:Pt.current,d=ao(t,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==d)&&kg(t,i,n,d),An=!1;var p=t.memoizedState;i.state=p,Cc(t,n,i,s),c=t.memoizedState,l!==n||p!==c||zt.current||An?(typeof u=="function"&&(Ph(t,r,u,n),c=t.memoizedState),(l=An||Sg(t,r,l,n,p,c,d))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=d,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,ny(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:br(t.type,l),i.props=d,m=t.pendingProps,p=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=ur(c):(c=qt(r)?zs:Pt.current,c=ao(t,c));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==m||p!==c)&&kg(t,i,n,c),An=!1,p=t.memoizedState,i.state=p,Cc(t,n,i,s);var b=t.memoizedState;l!==m||p!==b||zt.current||An?(typeof f=="function"&&(Ph(t,r,f,n),b=t.memoizedState),(d=An||Sg(t,r,d,n,p,b,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),i.props=n,i.state=b,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Ah(e,t,r,n,o,s)}function Ah(e,t,r,n,s,o){Py(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&vg(t,r,!1),mn(e,t,o);n=t.stateNode,j2.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=io(t,e.child,null,o),t.child=io(t,null,l,o)):Rt(e,t,l,o),t.memoizedState=n.state,s&&vg(t,r,!0),t.child}function Ty(e){var t=e.stateNode;t.pendingContext?gg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gg(e,t.context,!1),cm(e,t.containerInfo)}function Ag(e,t,r,n,s){return oo(),nm(s),t.flags|=256,Rt(e,t,r,n),t.child}var Ih={dehydrated:null,treeContext:null,retryLane:0};function Dh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ry(e,t,r){var n=t.pendingProps,s=Ge.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),$e(Ge,s&1),e===null)return Ch(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=dd(i,n,0,null),e=$s(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Dh(r),t.memoizedState=Ih,e):vm(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return _2(e,t,i,n,l,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Xn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Xn(l,o):(o=$s(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?Dh(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=Ih,n}return o=e.child,e=o.sibling,n=Xn(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function vm(e,t){return t=dd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nl(e,t,r,n){return n!==null&&nm(n),io(t,e.child,null,r),e=vm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _2(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=bu(Error(Y(422))),Nl(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=dd({mode:"visible",children:n.children},s,0,null),o=$s(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&io(t,e.child,null,i),t.child.memoizedState=Dh(i),t.memoizedState=Ih,o);if(!(t.mode&1))return Nl(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(Y(419)),n=bu(o,n,void 0),Nl(e,t,i,n)}if(l=(i&e.childLanes)!==0,Bt||l){if(n=xt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,fn(e,s),Tr(n,e,s,-1))}return _m(),n=bu(Error(Y(421))),Nl(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=M2.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Xt=Gn(s.nextSibling),Zt=t,Ve=!0,Er=null,e!==null&&(ar[or++]=nn,ar[or++]=sn,ar[or++]=qs,nn=e.id,sn=e.overflow,qs=t),t=vm(t,n.children),t.flags|=4096,t)}function Ig(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Eh(e.return,t,r)}function ju(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Oy(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(Rt(e,t,n.children,r),n=Ge.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ig(e,r,t);else if(e.tag===19)Ig(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if($e(Ge,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ec(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ju(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ec(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ju(t,!0,r,null,o);break;case"together":ju(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,r=Xn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function N2(e,t,r){switch(t.tag){case 3:Ty(t),oo();break;case 5:sy(t);break;case 1:qt(t.type)&&jc(t);break;case 4:cm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;$e(Sc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?($e(Ge,Ge.current&1),t.flags|=128,null):r&t.child.childLanes?Ry(e,t,r):($e(Ge,Ge.current&1),e=mn(e,t,r),e!==null?e.sibling:null);$e(Ge,Ge.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Oy(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$e(Ge,Ge.current),n)break;return null;case 22:case 23:return t.lanes=0,Ey(e,t,r)}return mn(e,t,r)}var Ay,Mh,Iy,Dy;Ay=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Mh=function(){};Iy=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ps(Vr.current);var o=null;switch(r){case"input":s=sh(e,s),n=sh(e,n),o=[];break;case"select":s=Qe({},s,{value:void 0}),n=Qe({},n,{value:void 0}),o=[];break;case"textarea":s=ih(e,s),n=ih(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=wc)}ch(r,n);var i;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(fi.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(fi.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ze("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};Dy=function(e,t,r,n){r!==n&&(t.flags|=4)};function Bo(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function S2(e,t,r){var n=t.pendingProps;switch(rm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return qt(t.type)&&bc(),kt(t),null;case 3:return n=t.stateNode,lo(),qe(zt),qe(Pt),um(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(jl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Er!==null&&(Wh(Er),Er=null))),Mh(e,t),kt(t),null;case 5:dm(t);var s=Ps(Si.current);if(r=t.type,e!==null&&t.stateNode!=null)Iy(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Y(166));return kt(t),null}if(e=Ps(Vr.current),jl(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[zr]=t,n[_i]=o,e=(t.mode&1)!==0,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(s=0;s<Qo.length;s++)ze(Qo[s],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":qp(n,o),ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ze("invalid",n);break;case"textarea":Vp(n,o),ze("invalid",n)}ch(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&bl(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&bl(n.textContent,l,e),s=["children",""+l]):fi.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ze("scroll",n)}switch(r){case"input":fl(n),Wp(n,o,!0);break;case"textarea":fl(n),Hp(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=wc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cx(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[zr]=t,e[_i]=n,Ay(e,t,!1,!1),t.stateNode=e;e:{switch(i=dh(r,n),r){case"dialog":ze("cancel",e),ze("close",e),s=n;break;case"iframe":case"object":case"embed":ze("load",e),s=n;break;case"video":case"audio":for(s=0;s<Qo.length;s++)ze(Qo[s],e);s=n;break;case"source":ze("error",e),s=n;break;case"img":case"image":case"link":ze("error",e),ze("load",e),s=n;break;case"details":ze("toggle",e),s=n;break;case"input":qp(e,n),s=sh(e,n),ze("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Qe({},n,{value:void 0}),ze("invalid",e);break;case"textarea":Vp(e,n),s=ih(e,n),ze("invalid",e);break;default:s=n}ch(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?hx(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&dx(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&mi(e,c):typeof c=="number"&&mi(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(fi.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ze("scroll",e):c!=null&&Bf(e,o,c,i))}switch(r){case"input":fl(e),Wp(e,n,!1);break;case"textarea":fl(e),Hp(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ss(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?$a(e,!!n.multiple,o,!1):n.defaultValue!=null&&$a(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=wc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kt(t),null;case 6:if(e&&t.stateNode!=null)Dy(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Y(166));if(r=Ps(Si.current),Ps(Vr.current),jl(t)){if(n=t.stateNode,r=t.memoizedProps,n[zr]=t,(o=n.nodeValue!==r)&&(e=Zt,e!==null))switch(e.tag){case 3:bl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bl(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zr]=t,t.stateNode=n}return kt(t),null;case 13:if(qe(Ge),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&Xt!==null&&t.mode&1&&!(t.flags&128))Zx(),oo(),t.flags|=98560,o=!1;else if(o=jl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(Y(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Y(317));o[zr]=t}else oo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kt(t),o=!1}else Er!==null&&(Wh(Er),Er=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?pt===0&&(pt=3):_m())),t.updateQueue!==null&&(t.flags|=4),kt(t),null);case 4:return lo(),Mh(e,t),e===null&&bi(t.stateNode.containerInfo),kt(t),null;case 10:return om(t.type._context),kt(t),null;case 17:return qt(t.type)&&bc(),kt(t),null;case 19:if(qe(Ge),o=t.memoizedState,o===null)return kt(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Bo(o,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ec(e),i!==null){for(t.flags|=128,Bo(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $e(Ge,Ge.current&1|2),t.child}e=e.sibling}o.tail!==null&&tt()>uo&&(t.flags|=128,n=!0,Bo(o,!1),t.lanes=4194304)}else{if(!n)if(e=Ec(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Bo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ve)return kt(t),null}else 2*tt()-o.renderingStartTime>uo&&r!==1073741824&&(t.flags|=128,n=!0,Bo(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=tt(),t.sibling=null,r=Ge.current,$e(Ge,n?r&1|2:r&1),t):(kt(t),null);case 22:case 23:return jm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Gt&1073741824&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function k2(e,t){switch(rm(t),t.tag){case 1:return qt(t.type)&&bc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lo(),qe(zt),qe(Pt),um(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dm(t),null;case 13:if(qe(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));oo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Ge),null;case 4:return lo(),null;case 10:return om(t.type._context),null;case 22:case 23:return jm(),null;case 24:return null;default:return null}}var Sl=!1,Et=!1,C2=typeof WeakSet=="function"?WeakSet:Set,le=null;function Aa(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ze(e,t,n)}else r.current=null}function Lh(e,t,r){try{r()}catch(n){Ze(e,t,n)}}var Dg=!1;function E2(e,t){if(wh=vc,e=Ux(),em(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var f;m!==r||s!==0&&m.nodeType!==3||(l=i+s),m!==o||n!==0&&m.nodeType!==3||(c=i+n),m.nodeType===3&&(i+=m.nodeValue.length),(f=m.firstChild)!==null;)p=m,m=f;for(;;){if(m===e)break t;if(p===r&&++d===s&&(l=i),p===o&&++u===n&&(c=i),(f=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(bh={focusedElem:e,selectionRange:r},vc=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var g=b.memoizedProps,v=b.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:br(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(j){Ze(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return b=Dg,Dg=!1,b}function oi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Lh(t,r,o)}s=s.next}while(s!==n)}}function ld(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function $h(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function My(e){var t=e.alternate;t!==null&&(e.alternate=null,My(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zr],delete t[_i],delete t[Nh],delete t[d2],delete t[u2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ly(e){return e.tag===5||e.tag===3||e.tag===4}function Mg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ly(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=wc));else if(n!==4&&(e=e.child,e!==null))for(Fh(e,t,r),e=e.sibling;e!==null;)Fh(e,t,r),e=e.sibling}function Uh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Uh(e,t,r),e=e.sibling;e!==null;)Uh(e,t,r),e=e.sibling}var bt=null,kr=!1;function Sn(e,t,r){for(r=r.child;r!==null;)$y(e,t,r),r=r.sibling}function $y(e,t,r){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(ed,r)}catch{}switch(r.tag){case 5:Et||Aa(r,t);case 6:var n=bt,s=kr;bt=null,Sn(e,t,r),bt=n,kr=s,bt!==null&&(kr?(e=bt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):bt.removeChild(r.stateNode));break;case 18:bt!==null&&(kr?(e=bt,r=r.stateNode,e.nodeType===8?pu(e.parentNode,r):e.nodeType===1&&pu(e,r),xi(e)):pu(bt,r.stateNode));break;case 4:n=bt,s=kr,bt=r.stateNode.containerInfo,kr=!0,Sn(e,t,r),bt=n,kr=s;break;case 0:case 11:case 14:case 15:if(!Et&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Lh(r,t,i),s=s.next}while(s!==n)}Sn(e,t,r);break;case 1:if(!Et&&(Aa(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ze(r,t,l)}Sn(e,t,r);break;case 21:Sn(e,t,r);break;case 22:r.mode&1?(Et=(n=Et)||r.memoizedState!==null,Sn(e,t,r),Et=n):Sn(e,t,r);break;default:Sn(e,t,r)}}function Lg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new C2),t.forEach(function(n){var s=L2.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function vr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:bt=l.stateNode,kr=!1;break e;case 3:bt=l.stateNode.containerInfo,kr=!0;break e;case 4:bt=l.stateNode.containerInfo,kr=!0;break e}l=l.return}if(bt===null)throw Error(Y(160));$y(o,i,s),bt=null,kr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Ze(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fy(t,e),t=t.sibling}function Fy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vr(t,e),Lr(e),n&4){try{oi(3,e,e.return),ld(3,e)}catch(g){Ze(e,e.return,g)}try{oi(5,e,e.return)}catch(g){Ze(e,e.return,g)}}break;case 1:vr(t,e),Lr(e),n&512&&r!==null&&Aa(r,r.return);break;case 5:if(vr(t,e),Lr(e),n&512&&r!==null&&Aa(r,r.return),e.flags&32){var s=e.stateNode;try{mi(s,"")}catch(g){Ze(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&ix(s,o),dh(l,i);var d=dh(l,o);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];u==="style"?hx(s,m):u==="dangerouslySetInnerHTML"?dx(s,m):u==="children"?mi(s,m):Bf(s,u,m,d)}switch(l){case"input":ah(s,o);break;case"textarea":lx(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?$a(s,!!o.multiple,f,!1):p!==!!o.multiple&&(o.defaultValue!=null?$a(s,!!o.multiple,o.defaultValue,!0):$a(s,!!o.multiple,o.multiple?[]:"",!1))}s[_i]=o}catch(g){Ze(e,e.return,g)}}break;case 6:if(vr(t,e),Lr(e),n&4){if(e.stateNode===null)throw Error(Y(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){Ze(e,e.return,g)}}break;case 3:if(vr(t,e),Lr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{xi(t.containerInfo)}catch(g){Ze(e,e.return,g)}break;case 4:vr(t,e),Lr(e);break;case 13:vr(t,e),Lr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(wm=tt())),n&4&&Lg(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Et=(d=Et)||u,vr(t,e),Et=d):vr(t,e),Lr(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(le=e,u=e.child;u!==null;){for(m=le=u;le!==null;){switch(p=le,f=p.child,p.tag){case 0:case 11:case 14:case 15:oi(4,p,p.return);break;case 1:Aa(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(g){Ze(n,r,g)}}break;case 5:Aa(p,p.return);break;case 22:if(p.memoizedState!==null){Fg(m);continue}}f!==null?(f.return=p,le=f):Fg(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{s=m.stateNode,d?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,c=m.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ux("display",i))}catch(g){Ze(e,e.return,g)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(g){Ze(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:vr(t,e),Lr(e),n&4&&Lg(e);break;case 21:break;default:vr(t,e),Lr(e)}}function Lr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ly(r)){var n=r;break e}r=r.return}throw Error(Y(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(mi(s,""),n.flags&=-33);var o=Mg(e);Uh(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Mg(e);Fh(e,l,i);break;default:throw Error(Y(161))}}catch(c){Ze(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function P2(e,t,r){le=e,Uy(e)}function Uy(e,t,r){for(var n=(e.mode&1)!==0;le!==null;){var s=le,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Sl;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Et;l=Sl;var d=Et;if(Sl=i,(Et=c)&&!d)for(le=s;le!==null;)i=le,c=i.child,i.tag===22&&i.memoizedState!==null?Ug(s):c!==null?(c.return=i,le=c):Ug(s);for(;o!==null;)le=o,Uy(o),o=o.sibling;le=s,Sl=l,Et=d}$g(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,le=o):$g(e)}}function $g(e){for(;le!==null;){var t=le;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Et||ld(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Et)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:br(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&jg(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}jg(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&xi(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Et||t.flags&512&&$h(t)}catch(p){Ze(t,t.return,p)}}if(t===e){le=null;break}if(r=t.sibling,r!==null){r.return=t.return,le=r;break}le=t.return}}function Fg(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,le=r;break}le=t.return}}function Ug(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ld(4,t)}catch(c){Ze(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ze(t,s,c)}}var o=t.return;try{$h(t)}catch(c){Ze(t,o,c)}break;case 5:var i=t.return;try{$h(t)}catch(c){Ze(t,i,c)}}}catch(c){Ze(t,t.return,c)}if(t===e){le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,le=l;break}le=t.return}}var T2=Math.ceil,Rc=yn.ReactCurrentDispatcher,xm=yn.ReactCurrentOwner,cr=yn.ReactCurrentBatchConfig,Oe=0,xt=null,it=null,jt=0,Gt=0,Ia=cs(0),pt=0,Pi=null,Vs=0,cd=0,ym=0,ii=null,Ut=null,wm=0,uo=1/0,Zr=null,Oc=!1,Bh=null,Qn=null,kl=!1,qn=null,Ac=0,li=0,zh=null,sc=-1,ac=0;function It(){return Oe&6?tt():sc!==-1?sc:sc=tt()}function Jn(e){return e.mode&1?Oe&2&&jt!==0?jt&-jt:f2.transition!==null?(ac===0&&(ac=Nx()),ac):(e=De,e!==0||(e=window.event,e=e===void 0?16:Rx(e.type)),e):1}function Tr(e,t,r,n){if(50<li)throw li=0,zh=null,Error(Y(185));Vi(e,r,n),(!(Oe&2)||e!==xt)&&(e===xt&&(!(Oe&2)&&(cd|=r),pt===4&&Dn(e,jt)),Wt(e,n),r===1&&Oe===0&&!(t.mode&1)&&(uo=tt()+500,ad&&ds()))}function Wt(e,t){var r=e.callbackNode;fk(e,t);var n=gc(e,e===xt?jt:0);if(n===0)r!==null&&Yp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Yp(r),t===1)e.tag===0?h2(Bg.bind(null,e)):Qx(Bg.bind(null,e)),l2(function(){!(Oe&6)&&ds()}),r=null;else{switch(Sx(n)){case 1:r=Hf;break;case 4:r=jx;break;case 16:r=pc;break;case 536870912:r=_x;break;default:r=pc}r=Gy(r,By.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function By(e,t){if(sc=-1,ac=0,Oe&6)throw Error(Y(327));var r=e.callbackNode;if(qa()&&e.callbackNode!==r)return null;var n=gc(e,e===xt?jt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ic(e,n);else{t=n;var s=Oe;Oe|=2;var o=qy();(xt!==e||jt!==t)&&(Zr=null,uo=tt()+500,Ls(e,t));do try{A2();break}catch(l){zy(e,l)}while(!0);am(),Rc.current=o,Oe=s,it!==null?t=0:(xt=null,jt=0,t=pt)}if(t!==0){if(t===2&&(s=ph(e),s!==0&&(n=s,t=qh(e,s))),t===1)throw r=Pi,Ls(e,0),Dn(e,n),Wt(e,tt()),r;if(t===6)Dn(e,n);else{if(s=e.current.alternate,!(n&30)&&!R2(s)&&(t=Ic(e,n),t===2&&(o=ph(e),o!==0&&(n=o,t=qh(e,o))),t===1))throw r=Pi,Ls(e,0),Dn(e,n),Wt(e,tt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Y(345));case 2:bs(e,Ut,Zr);break;case 3:if(Dn(e,n),(n&130023424)===n&&(t=wm+500-tt(),10<t)){if(gc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){It(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=_h(bs.bind(null,e,Ut,Zr),t);break}bs(e,Ut,Zr);break;case 4:if(Dn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Pr(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=tt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*T2(n/1960))-n,10<n){e.timeoutHandle=_h(bs.bind(null,e,Ut,Zr),n);break}bs(e,Ut,Zr);break;case 5:bs(e,Ut,Zr);break;default:throw Error(Y(329))}}}return Wt(e,tt()),e.callbackNode===r?By.bind(null,e):null}function qh(e,t){var r=ii;return e.current.memoizedState.isDehydrated&&(Ls(e,t).flags|=256),e=Ic(e,t),e!==2&&(t=Ut,Ut=r,t!==null&&Wh(t)),e}function Wh(e){Ut===null?Ut=e:Ut.push.apply(Ut,e)}function R2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Rr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dn(e,t){for(t&=~ym,t&=~cd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pr(t),n=1<<r;e[r]=-1,t&=~n}}function Bg(e){if(Oe&6)throw Error(Y(327));qa();var t=gc(e,0);if(!(t&1))return Wt(e,tt()),null;var r=Ic(e,t);if(e.tag!==0&&r===2){var n=ph(e);n!==0&&(t=n,r=qh(e,n))}if(r===1)throw r=Pi,Ls(e,0),Dn(e,t),Wt(e,tt()),r;if(r===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bs(e,Ut,Zr),Wt(e,tt()),null}function bm(e,t){var r=Oe;Oe|=1;try{return e(t)}finally{Oe=r,Oe===0&&(uo=tt()+500,ad&&ds())}}function Hs(e){qn!==null&&qn.tag===0&&!(Oe&6)&&qa();var t=Oe;Oe|=1;var r=cr.transition,n=De;try{if(cr.transition=null,De=1,e)return e()}finally{De=n,cr.transition=r,Oe=t,!(Oe&6)&&ds()}}function jm(){Gt=Ia.current,qe(Ia)}function Ls(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,i2(r)),it!==null)for(r=it.return;r!==null;){var n=r;switch(rm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bc();break;case 3:lo(),qe(zt),qe(Pt),um();break;case 5:dm(n);break;case 4:lo();break;case 13:qe(Ge);break;case 19:qe(Ge);break;case 10:om(n.type._context);break;case 22:case 23:jm()}r=r.return}if(xt=e,it=e=Xn(e.current,null),jt=Gt=t,pt=0,Pi=null,ym=cd=Vs=0,Ut=ii=null,Es!==null){for(t=0;t<Es.length;t++)if(r=Es[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}Es=null}return e}function zy(e,t){do{var r=it;try{if(am(),tc.current=Tc,Pc){for(var n=Ye.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Pc=!1}if(Ws=0,vt=ht=Ye=null,ai=!1,ki=0,xm.current=null,r===null||r.return===null){pt=1,Pi=t,it=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=jt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Eg(i);if(f!==null){f.flags&=-257,Pg(f,i,l,o,t),f.mode&1&&Cg(o,d,t),t=f,c=d;var b=t.updateQueue;if(b===null){var g=new Set;g.add(c),t.updateQueue=g}else b.add(c);break e}else{if(!(t&1)){Cg(o,d,t),_m();break e}c=Error(Y(426))}}else if(Ve&&l.mode&1){var v=Eg(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Pg(v,i,l,o,t),nm(co(c,l));break e}}o=c=co(c,l),pt!==4&&(pt=2),ii===null?ii=[o]:ii.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=Sy(o,c,t);bg(o,y);break e;case 1:l=c;var x=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Qn===null||!Qn.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=ky(o,l,t);bg(o,j);break e}}o=o.return}while(o!==null)}Vy(r)}catch(N){t=N,it===r&&r!==null&&(it=r=r.return);continue}break}while(!0)}function qy(){var e=Rc.current;return Rc.current=Tc,e===null?Tc:e}function _m(){(pt===0||pt===3||pt===2)&&(pt=4),xt===null||!(Vs&268435455)&&!(cd&268435455)||Dn(xt,jt)}function Ic(e,t){var r=Oe;Oe|=2;var n=qy();(xt!==e||jt!==t)&&(Zr=null,Ls(e,t));do try{O2();break}catch(s){zy(e,s)}while(!0);if(am(),Oe=r,Rc.current=n,it!==null)throw Error(Y(261));return xt=null,jt=0,pt}function O2(){for(;it!==null;)Wy(it)}function A2(){for(;it!==null&&!sk();)Wy(it)}function Wy(e){var t=Ky(e.alternate,e,Gt);e.memoizedProps=e.pendingProps,t===null?Vy(e):it=t,xm.current=null}function Vy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=k2(r,t),r!==null){r.flags&=32767,it=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pt=6,it=null;return}}else if(r=S2(r,t,Gt),r!==null){it=r;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);pt===0&&(pt=5)}function bs(e,t,r){var n=De,s=cr.transition;try{cr.transition=null,De=1,I2(e,t,r,n)}finally{cr.transition=s,De=n}return null}function I2(e,t,r,n){do qa();while(qn!==null);if(Oe&6)throw Error(Y(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(mk(e,o),e===xt&&(it=xt=null,jt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||kl||(kl=!0,Gy(pc,function(){return qa(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=cr.transition,cr.transition=null;var i=De;De=1;var l=Oe;Oe|=4,xm.current=null,E2(e,r),Fy(r,e),e2(bh),vc=!!wh,bh=wh=null,e.current=r,P2(r),ak(),Oe=l,De=i,cr.transition=o}else e.current=r;if(kl&&(kl=!1,qn=e,Ac=s),o=e.pendingLanes,o===0&&(Qn=null),lk(r.stateNode),Wt(e,tt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Oc)throw Oc=!1,e=Bh,Bh=null,e;return Ac&1&&e.tag!==0&&qa(),o=e.pendingLanes,o&1?e===zh?li++:(li=0,zh=e):li=0,ds(),null}function qa(){if(qn!==null){var e=Sx(Ac),t=cr.transition,r=De;try{if(cr.transition=null,De=16>e?16:e,qn===null)var n=!1;else{if(e=qn,qn=null,Ac=0,Oe&6)throw Error(Y(331));var s=Oe;for(Oe|=4,le=e.current;le!==null;){var o=le,i=o.child;if(le.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(le=d;le!==null;){var u=le;switch(u.tag){case 0:case 11:case 15:oi(8,u,o)}var m=u.child;if(m!==null)m.return=u,le=m;else for(;le!==null;){u=le;var p=u.sibling,f=u.return;if(My(u),u===d){le=null;break}if(p!==null){p.return=f,le=p;break}le=f}}}var b=o.alternate;if(b!==null){var g=b.child;if(g!==null){b.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}le=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,le=i;else e:for(;le!==null;){if(o=le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:oi(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,le=y;break e}le=o.return}}var x=e.current;for(le=x;le!==null;){i=le;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,le=w;else e:for(i=x;le!==null;){if(l=le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ld(9,l)}}catch(N){Ze(l,l.return,N)}if(l===i){le=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,le=j;break e}le=l.return}}if(Oe=s,ds(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(ed,e)}catch{}n=!0}return n}finally{De=r,cr.transition=t}}return!1}function zg(e,t,r){t=co(r,t),t=Sy(e,t,1),e=Yn(e,t,1),t=It(),e!==null&&(Vi(e,1,t),Wt(e,t))}function Ze(e,t,r){if(e.tag===3)zg(e,e,r);else for(;t!==null;){if(t.tag===3){zg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qn===null||!Qn.has(n))){e=co(r,e),e=ky(t,e,1),t=Yn(t,e,1),e=It(),t!==null&&(Vi(t,1,e),Wt(t,e));break}}t=t.return}}function D2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=It(),e.pingedLanes|=e.suspendedLanes&r,xt===e&&(jt&r)===r&&(pt===4||pt===3&&(jt&130023424)===jt&&500>tt()-wm?Ls(e,0):ym|=r),Wt(e,t)}function Hy(e,t){t===0&&(e.mode&1?(t=gl,gl<<=1,!(gl&130023424)&&(gl=4194304)):t=1);var r=It();e=fn(e,t),e!==null&&(Vi(e,t,r),Wt(e,r))}function M2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Hy(e,r)}function L2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Y(314))}n!==null&&n.delete(t),Hy(e,r)}var Ky;Ky=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||zt.current)Bt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Bt=!1,N2(e,t,r);Bt=!!(e.flags&131072)}else Bt=!1,Ve&&t.flags&1048576&&Jx(t,Nc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;nc(e,t),e=t.pendingProps;var s=ao(t,Pt.current);za(t,r),s=fm(null,t,n,e,s,r);var o=mm();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qt(n)?(o=!0,jc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lm(t),s.updater=id,t.stateNode=s,s._reactInternals=t,Th(t,n,e,r),t=Ah(null,t,n,!0,o,r)):(t.tag=0,Ve&&o&&tm(t),Rt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(nc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=F2(n),e=br(n,e),s){case 0:t=Oh(null,t,n,e,r);break e;case 1:t=Og(null,t,n,e,r);break e;case 11:t=Tg(null,t,n,e,r);break e;case 14:t=Rg(null,t,n,br(n.type,e),r);break e}throw Error(Y(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:br(n,s),Oh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:br(n,s),Og(e,t,n,s,r);case 3:e:{if(Ty(t),e===null)throw Error(Y(387));n=t.pendingProps,o=t.memoizedState,s=o.element,ny(e,t),Cc(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=co(Error(Y(423)),t),t=Ag(e,t,n,r,s);break e}else if(n!==s){s=co(Error(Y(424)),t),t=Ag(e,t,n,r,s);break e}else for(Xt=Gn(t.stateNode.containerInfo.firstChild),Zt=t,Ve=!0,Er=null,r=ty(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(oo(),n===s){t=mn(e,t,r);break e}Rt(e,t,n,r)}t=t.child}return t;case 5:return sy(t),e===null&&Ch(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,jh(n,s)?i=null:o!==null&&jh(n,o)&&(t.flags|=32),Py(e,t),Rt(e,t,i,r),t.child;case 6:return e===null&&Ch(t),null;case 13:return Ry(e,t,r);case 4:return cm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=io(t,null,n,r):Rt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:br(n,s),Tg(e,t,n,s,r);case 7:return Rt(e,t,t.pendingProps,r),t.child;case 8:return Rt(e,t,t.pendingProps.children,r),t.child;case 12:return Rt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,$e(Sc,n._currentValue),n._currentValue=i,o!==null)if(Rr(o.value,i)){if(o.children===s.children&&!zt.current){t=mn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=an(-1,r&-r),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Eh(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(Y(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Eh(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Rt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,za(t,r),s=ur(s),n=n(s),t.flags|=1,Rt(e,t,n,r),t.child;case 14:return n=t.type,s=br(n,t.pendingProps),s=br(n.type,s),Rg(e,t,n,s,r);case 15:return Cy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:br(n,s),nc(e,t),t.tag=1,qt(n)?(e=!0,jc(t)):e=!1,za(t,r),Ny(t,n,s),Th(t,n,s,r),Ah(null,t,n,!0,e,r);case 19:return Oy(e,t,r);case 22:return Ey(e,t,r)}throw Error(Y(156,t.tag))};function Gy(e,t){return bx(e,t)}function $2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(e,t,r,n){return new $2(e,t,r,n)}function Nm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function F2(e){if(typeof e=="function")return Nm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qf)return 11;if(e===Wf)return 14}return 2}function Xn(e,t){var r=e.alternate;return r===null?(r=lr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function oc(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")Nm(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Na:return $s(r.children,s,o,t);case zf:i=8,s|=8;break;case eh:return e=lr(12,r,t,s|2),e.elementType=eh,e.lanes=o,e;case th:return e=lr(13,r,t,s),e.elementType=th,e.lanes=o,e;case rh:return e=lr(19,r,t,s),e.elementType=rh,e.lanes=o,e;case sx:return dd(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rx:i=10;break e;case nx:i=9;break e;case qf:i=11;break e;case Wf:i=14;break e;case On:i=16,n=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=lr(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function $s(e,t,r,n){return e=lr(7,e,n,t),e.lanes=r,e}function dd(e,t,r,n){return e=lr(22,e,n,t),e.elementType=sx,e.lanes=r,e.stateNode={isHidden:!1},e}function _u(e,t,r){return e=lr(6,e,null,t),e.lanes=r,e}function Nu(e,t,r){return t=lr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function U2(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=su(0),this.expirationTimes=su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=su(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Sm(e,t,r,n,s,o,i,l,c){return e=new U2(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=lr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},lm(o),e}function B2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_a,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Yy(e){if(!e)return as;e=e._reactInternals;e:{if(sa(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var r=e.type;if(qt(r))return Yx(e,r,t)}return t}function Qy(e,t,r,n,s,o,i,l,c){return e=Sm(r,n,!0,e,s,o,i,l,c),e.context=Yy(null),r=e.current,n=It(),s=Jn(r),o=an(n,s),o.callback=t??null,Yn(r,o,s),e.current.lanes=s,Vi(e,s,n),Wt(e,n),e}function ud(e,t,r,n){var s=t.current,o=It(),i=Jn(s);return r=Yy(r),t.context===null?t.context=r:t.pendingContext=r,t=an(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Yn(s,t,i),e!==null&&(Tr(e,s,i,o),ec(e,s,i)),i}function Dc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function km(e,t){qg(e,t),(e=e.alternate)&&qg(e,t)}function z2(){return null}var Jy=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cm(e){this._internalRoot=e}hd.prototype.render=Cm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));ud(e,t,null,null)};hd.prototype.unmount=Cm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hs(function(){ud(null,e,null,null)}),t[hn]=null}};function hd(e){this._internalRoot=e}hd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ex();e={blockedOn:null,target:e,priority:t};for(var r=0;r<In.length&&t!==0&&t<In[r].priority;r++);In.splice(r,0,e),r===0&&Tx(e)}};function Em(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wg(){}function q2(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var d=Dc(i);o.call(d)}}var i=Qy(t,n,e,0,null,!1,!1,"",Wg);return e._reactRootContainer=i,e[hn]=i.current,bi(e.nodeType===8?e.parentNode:e),Hs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=Dc(c);l.call(d)}}var c=Sm(e,0,!1,null,null,!1,!1,"",Wg);return e._reactRootContainer=c,e[hn]=c.current,bi(e.nodeType===8?e.parentNode:e),Hs(function(){ud(t,c,r,n)}),c}function md(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=Dc(i);l.call(c)}}ud(t,i,e,s)}else i=q2(r,t,e,s,n);return Dc(i)}kx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Yo(t.pendingLanes);r!==0&&(Kf(t,r|1),Wt(t,tt()),!(Oe&6)&&(uo=tt()+500,ds()))}break;case 13:Hs(function(){var n=fn(e,1);if(n!==null){var s=It();Tr(n,e,1,s)}}),km(e,1)}};Gf=function(e){if(e.tag===13){var t=fn(e,134217728);if(t!==null){var r=It();Tr(t,e,134217728,r)}km(e,134217728)}};Cx=function(e){if(e.tag===13){var t=Jn(e),r=fn(e,t);if(r!==null){var n=It();Tr(r,e,t,n)}km(e,t)}};Ex=function(){return De};Px=function(e,t){var r=De;try{return De=e,t()}finally{De=r}};hh=function(e,t,r){switch(t){case"input":if(ah(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=sd(n);if(!s)throw Error(Y(90));ox(n),ah(n,s)}}}break;case"textarea":lx(e,r);break;case"select":t=r.value,t!=null&&$a(e,!!r.multiple,t,!1)}};px=bm;gx=Hs;var W2={usingClientEntryPoint:!1,Events:[Ki,Ea,sd,fx,mx,bm]},zo={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V2={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yx(e),e===null?null:e.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance||z2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cl.isDisabled&&Cl.supportsFiber)try{ed=Cl.inject(V2),Wr=Cl}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W2;rr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Em(t))throw Error(Y(200));return B2(e,t,null,r)};rr.createRoot=function(e,t){if(!Em(e))throw Error(Y(299));var r=!1,n="",s=Jy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Sm(e,1,!1,null,null,r,!1,n,s),e[hn]=t.current,bi(e.nodeType===8?e.parentNode:e),new Cm(t)};rr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=yx(t),e=e===null?null:e.stateNode,e};rr.flushSync=function(e){return Hs(e)};rr.hydrate=function(e,t,r){if(!fd(t))throw Error(Y(200));return md(null,e,t,!0,r)};rr.hydrateRoot=function(e,t,r){if(!Em(e))throw Error(Y(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=Jy;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Qy(t,null,e,1,r??null,s,!1,o,i),e[hn]=t.current,bi(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new hd(t)};rr.render=function(e,t,r){if(!fd(t))throw Error(Y(200));return md(null,e,t,!1,r)};rr.unmountComponentAtNode=function(e){if(!fd(e))throw Error(Y(40));return e._reactRootContainer?(Hs(function(){md(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};rr.unstable_batchedUpdates=bm;rr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!fd(r))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return md(e,t,r,!1,n)};rr.version="18.3.1-next-f1338f8080-20240426";function Xy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xy)}catch(e){console.error(e)}}Xy(),X0.exports=rr;var aa=X0.exports;const Zy=U0(aa);var ew,Vg=aa;ew=Vg.createRoot,Vg.hydrateRoot;const H2=1,K2=1e6;let Su=0;function G2(){return Su=(Su+1)%Number.MAX_SAFE_INTEGER,Su.toString()}const ku=new Map,Hg=e=>{if(ku.has(e))return;const t=setTimeout(()=>{ku.delete(e),ci({type:"REMOVE_TOAST",toastId:e})},K2);ku.set(e,t)},Y2=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,H2)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Hg(r):e.toasts.forEach(n=>{Hg(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},ic=[];let lc={toasts:[]};function ci(e){lc=Y2(lc,e),ic.forEach(t=>{t(lc)})}function Q2({...e}){const t=G2(),r=s=>ci({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>ci({type:"DISMISS_TOAST",toastId:t});return ci({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function J2(){const[e,t]=h.useState(lc);return h.useEffect(()=>(ic.push(t),()=>{const r=ic.indexOf(t);r>-1&&ic.splice(r,1)}),[e]),{...e,toast:Q2,dismiss:r=>ci({type:"DISMISS_TOAST",toastId:r})}}function ae(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Kg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function tw(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Kg(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Kg(e[s],null)}}}}function Se(...e){return h.useCallback(tw(...e),e)}function X2(e,t){const r=h.createContext(t),n=o=>{const{children:i,...l}=o,c=h.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=h.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function Lt(e,t=[]){let r=[];function n(o,i){const l=h.createContext(i),c=r.length;r=[...r,i];const d=m=>{var y;const{scope:p,children:f,...b}=m,g=((y=p==null?void 0:p[e])==null?void 0:y[c])||l,v=h.useMemo(()=>b,Object.values(b));return a.jsx(g.Provider,{value:v,children:f})};d.displayName=o+"Provider";function u(m,p){var g;const f=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,b=h.useContext(f);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[d,u]}const s=()=>{const o=r.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Z2(s,...t)]}function Z2(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Ks(e){const t=tC(e),r=h.forwardRef((n,s)=>{const{children:o,...i}=n,l=h.Children.toArray(o),c=l.find(rC);if(c){const d=c.props.children,u=l.map(m=>m===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return a.jsx(t,{...i,ref:s,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return a.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}var eC=Ks("Slot");function tC(e){const t=h.forwardRef((r,n)=>{const{children:s,...o}=r;if(h.isValidElement(s)){const i=sC(s),l=nC(o,s.props);return s.type!==h.Fragment&&(l.ref=n?tw(n,i):i),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rw=Symbol("radix.slottable");function nw(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=rw,t}function rC(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rw}function nC(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function sC(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Pm(e){const t=e+"CollectionProvider",[r,n]=Lt(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:v,children:y}=g,x=J.useRef(null),w=J.useRef(new Map).current;return a.jsx(s,{scope:v,itemMap:w,collectionRef:x,children:y})};i.displayName=t;const l=e+"CollectionSlot",c=Ks(l),d=J.forwardRef((g,v)=>{const{scope:y,children:x}=g,w=o(l,y),j=Se(v,w.collectionRef);return a.jsx(c,{ref:j,children:x})});d.displayName=l;const u=e+"CollectionItemSlot",m="data-radix-collection-item",p=Ks(u),f=J.forwardRef((g,v)=>{const{scope:y,children:x,...w}=g,j=J.useRef(null),N=Se(v,j),S=o(u,y);return J.useEffect(()=>(S.itemMap.set(j,{ref:j,...w}),()=>void S.itemMap.delete(j))),a.jsx(p,{[m]:"",ref:N,children:x})});f.displayName=u;function b(g){const v=o(e+"CollectionConsumer",g);return J.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${m}]`));return Array.from(v.itemMap.values()).sort((S,E)=>w.indexOf(S.ref.current)-w.indexOf(E.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:d,ItemSlot:f},b,n]}var aC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ge=aC.reduce((e,t)=>{const r=Ks(`Primitive.${t}`),n=h.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function sw(e,t){e&&aa.flushSync(()=>e.dispatchEvent(t))}function lt(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function oC(e,t=globalThis==null?void 0:globalThis.document){const r=lt(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var iC="DismissableLayer",Vh="dismissableLayer.update",lC="dismissableLayer.pointerDownOutside",cC="dismissableLayer.focusOutside",Gg,aw=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_o=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,d=h.useContext(aw),[u,m]=h.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=h.useState({}),b=Se(t,E=>m(E)),g=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),x=u?g.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,j=x>=y,N=uC(E=>{const k=E.target,T=[...d.branches].some(O=>O.contains(k));!j||T||(s==null||s(E),i==null||i(E),E.defaultPrevented||l==null||l())},p),S=hC(E=>{const k=E.target;[...d.branches].some(O=>O.contains(k))||(o==null||o(E),i==null||i(E),E.defaultPrevented||l==null||l())},p);return oC(E=>{x===d.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},p),h.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Gg=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Yg(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Gg)}},[u,p,r,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Yg())},[u,d]),h.useEffect(()=>{const E=()=>f({});return document.addEventListener(Vh,E),()=>document.removeEventListener(Vh,E)},[]),a.jsx(ge.div,{...c,ref:b,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:ae(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ae(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ae(e.onPointerDownCapture,N.onPointerDownCapture)})});_o.displayName=iC;var dC="DismissableLayerBranch",ow=h.forwardRef((e,t)=>{const r=h.useContext(aw),n=h.useRef(null),s=Se(t,n);return h.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(ge.div,{...e,ref:s})});ow.displayName=dC;function uC(e,t=globalThis==null?void 0:globalThis.document){const r=lt(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){iw(lC,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function hC(e,t=globalThis==null?void 0:globalThis.document){const r=lt(e),n=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!n.current&&iw(cC,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Yg(){const e=new CustomEvent(Vh);document.dispatchEvent(e)}function iw(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?sw(s,o):s.dispatchEvent(o)}var fC=_o,mC=ow,nt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},pC="Portal",Yi=h.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=h.useState(!1);nt(()=>o(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Zy.createPortal(a.jsx(ge.div,{...n,ref:t}),i):null});Yi.displayName=pC;function gC(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var Vt=e=>{const{present:t,children:r}=e,n=vC(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=Se(n.ref,xC(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:o}):null};Vt.displayName="Presence";function vC(e){const[t,r]=h.useState(),n=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=gC(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=El(n.current);o.current=l==="mounted"?d:"none"},[l]),nt(()=>{const d=n.current,u=s.current;if(u!==e){const p=o.current,f=El(d);e?c("MOUNT"):f==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),nt(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,m=f=>{const g=El(n.current).includes(f.animationName);if(f.target===t&&g&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},p=f=>{f.target===t&&(o.current=El(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function El(e){return(e==null?void 0:e.animationName)||"none"}function xC(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var yC=$f[" useInsertionEffect ".trim().toString()]||nt;function pn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,i]=wC({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const u=h.useRef(e!==void 0);h.useEffect(()=>{const m=u.current;m!==l&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=h.useCallback(u=>{var m;if(l){const p=bC(u)?u(e):u;p!==e&&((m=i.current)==null||m.call(i,p))}else o(u)},[l,e,o,i]);return[c,d]}function wC({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),s=h.useRef(r),o=h.useRef(t);return yC(()=>{o.current=t},[t]),h.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function bC(e){return typeof e=="function"}var lw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jC="VisuallyHidden",pd=h.forwardRef((e,t)=>a.jsx(ge.span,{...e,ref:t,style:{...lw,...e.style}}));pd.displayName=jC;var _C=pd,Tm="ToastProvider",[Rm,NC,SC]=Pm("Toast"),[cw,lL]=Lt("Toast",[SC]),[kC,gd]=cw(Tm),dw=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=h.useState(null),[d,u]=h.useState(0),m=h.useRef(!1),p=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Tm}\`. Expected non-empty \`string\`.`),a.jsx(Rm.Provider,{scope:t,children:a.jsx(kC,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>u(f=>f+1),[]),onToastRemove:h.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:p,children:i})})};dw.displayName=Tm;var uw="ToastViewport",CC=["F8"],Hh="toast.viewportPause",Kh="toast.viewportResume",hw=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=CC,label:s="Notifications ({hotkey})",...o}=e,i=gd(uw,r),l=NC(r),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),m=h.useRef(null),p=Se(t,m,i.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;h.useEffect(()=>{const v=y=>{var w;n.length!==0&&n.every(j=>y[j]||y.code===j)&&((w=m.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),h.useEffect(()=>{const v=c.current,y=m.current;if(b&&v&&y){const x=()=>{if(!i.isClosePausedRef.current){const S=new CustomEvent(Hh);y.dispatchEvent(S),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const S=new CustomEvent(Kh);y.dispatchEvent(S),i.isClosePausedRef.current=!1}},j=S=>{!v.contains(S.relatedTarget)&&w()},N=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",x),v.addEventListener("focusout",j),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",N),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[b,i.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:v})=>{const x=l().map(w=>{const j=w.ref.current,N=[j,...UC(j)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?x.reverse():x).flat()},[l]);return h.useEffect(()=>{const v=m.current;if(v){const y=x=>{var N,S,E;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const k=document.activeElement,T=x.shiftKey;if(x.target===v&&T){(N=d.current)==null||N.focus();return}const $=g({tabbingDirection:T?"backwards":"forwards"}),B=$.findIndex(M=>M===k);Cu($.slice(B+1))?x.preventDefault():T?(S=d.current)==null||S.focus():(E=u.current)==null||E.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[l,g]),a.jsxs(mC,{ref:c,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&a.jsx(Gh,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});Cu(v)}}),a.jsx(Rm.Slot,{scope:r,children:a.jsx(ge.ol,{tabIndex:-1,...o,ref:p})}),b&&a.jsx(Gh,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});Cu(v)}})]})});hw.displayName=uw;var fw="ToastFocusProxy",Gh=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=gd(fw,r);return a.jsx(pd,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var d;const l=i.relatedTarget;!((d=o.viewport)!=null&&d.contains(l))&&n()}})});Gh.displayName=fw;var Qi="Toast",EC="toast.swipeStart",PC="toast.swipeMove",TC="toast.swipeCancel",RC="toast.swipeEnd",mw=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[l,c]=pn({prop:n,defaultProp:s??!0,onChange:o,caller:Qi});return a.jsx(Vt,{present:r||l,children:a.jsx(IC,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:lt(e.onPause),onResume:lt(e.onResume),onSwipeStart:ae(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ae(e.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:ae(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ae(e.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});mw.displayName=Qi;var[OC,AC]=cw(Qi,{onClose(){}}),IC=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:p,onSwipeEnd:f,...b}=e,g=gd(Qi,r),[v,y]=h.useState(null),x=Se(t,M=>y(M)),w=h.useRef(null),j=h.useRef(null),N=s||g.duration,S=h.useRef(0),E=h.useRef(N),k=h.useRef(0),{onToastAdd:T,onToastRemove:O}=g,I=lt(()=>{var G;(v==null?void 0:v.contains(document.activeElement))&&((G=g.viewport)==null||G.focus()),i()}),$=h.useCallback(M=>{!M||M===1/0||(window.clearTimeout(k.current),S.current=new Date().getTime(),k.current=window.setTimeout(I,M))},[I]);h.useEffect(()=>{const M=g.viewport;if(M){const G=()=>{$(E.current),d==null||d()},P=()=>{const H=new Date().getTime()-S.current;E.current=E.current-H,window.clearTimeout(k.current),c==null||c()};return M.addEventListener(Hh,P),M.addEventListener(Kh,G),()=>{M.removeEventListener(Hh,P),M.removeEventListener(Kh,G)}}},[g.viewport,N,c,d,$]),h.useEffect(()=>{o&&!g.isClosePausedRef.current&&$(N)},[o,N,g.isClosePausedRef,$]),h.useEffect(()=>(T(),()=>O()),[T,O]);const B=h.useMemo(()=>v?bw(v):null,[v]);return g.viewport?a.jsxs(a.Fragment,{children:[B&&a.jsx(DC,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),a.jsx(OC,{scope:r,onClose:I,children:aa.createPortal(a.jsx(Rm.ItemSlot,{scope:r,children:a.jsx(fC,{asChild:!0,onEscapeKeyDown:ae(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ae(e.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:ae(e.onPointerDown,M=>{M.button===0&&(w.current={x:M.clientX,y:M.clientY})}),onPointerMove:ae(e.onPointerMove,M=>{if(!w.current)return;const G=M.clientX-w.current.x,P=M.clientY-w.current.y,H=!!j.current,C=["left","right"].includes(g.swipeDirection),R=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,K=C?R(0,G):0,te=C?0:R(0,P),Z=M.pointerType==="touch"?10:2,oe={x:K,y:te},he={originalEvent:M,delta:oe};H?(j.current=oe,Pl(PC,m,he,{discrete:!1})):Qg(oe,g.swipeDirection,Z)?(j.current=oe,Pl(EC,u,he,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(G)>Z||Math.abs(P)>Z)&&(w.current=null)}),onPointerUp:ae(e.onPointerUp,M=>{const G=j.current,P=M.target;if(P.hasPointerCapture(M.pointerId)&&P.releasePointerCapture(M.pointerId),j.current=null,w.current=null,G){const H=M.currentTarget,C={originalEvent:M,delta:G};Qg(G,g.swipeDirection,g.swipeThreshold)?Pl(RC,f,C,{discrete:!0}):Pl(TC,p,C,{discrete:!0}),H.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),DC=e=>{const{__scopeToast:t,children:r,...n}=e,s=gd(Qi,t),[o,i]=h.useState(!1),[l,c]=h.useState(!1);return $C(()=>i(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:a.jsx(Yi,{asChild:!0,children:a.jsx(pd,{...n,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},MC="ToastTitle",pw=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(ge.div,{...n,ref:t})});pw.displayName=MC;var LC="ToastDescription",gw=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(ge.div,{...n,ref:t})});gw.displayName=LC;var vw="ToastAction",xw=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(ww,{altText:r,asChild:!0,children:a.jsx(Om,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${vw}\`. Expected non-empty \`string\`.`),null)});xw.displayName=vw;var yw="ToastClose",Om=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=AC(yw,r);return a.jsx(ww,{asChild:!0,children:a.jsx(ge.button,{type:"button",...n,ref:t,onClick:ae(e.onClick,s.onClose)})})});Om.displayName=yw;var ww=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function bw(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),FC(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...bw(n))}}),t}function Pl(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?sw(s,o):s.dispatchEvent(o)}var Qg=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function $C(e=()=>{}){const t=lt(e);nt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function FC(e){return e.nodeType===e.ELEMENT_NODE}function UC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Cu(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var BC=dw,jw=hw,_w=mw,Nw=pw,Sw=gw,kw=xw,Cw=Om;function Ew(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Ew(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Pw(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Ew(e))&&(n&&(n+=" "),n+=t);return n}const Jg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Xg=Pw,Ji=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Xg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(d=>{const u=r==null?void 0:r[d],m=o==null?void 0:o[d];if(u===null)return null;const p=Jg(u)||Jg(m);return s[d][p]}),l=r&&Object.entries(r).reduce((d,u)=>{let[m,p]=u;return p===void 0||(d[m]=p),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:m,className:p,...f}=u;return Object.entries(f).every(b=>{let[g,v]=b;return Array.isArray(v)?v.includes({...o,...l}[g]):{...o,...l}[g]===v})?[...d,m,p]:d},[]);return Xg(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tw=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...l},c)=>h.createElement("svg",{ref:c,...qC,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Tw("lucide",s),...l},[...i.map(([d,u])=>h.createElement(d,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(e,t)=>{const r=h.forwardRef(({className:n,...s},o)=>h.createElement(WC,{ref:o,iconNode:t,className:Tw(`lucide-${zC(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=ce("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=ce("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=ce("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=ce("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=ce("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=ce("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=ce("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=ce("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=ce("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=ce("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=ce("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=ce("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=ce("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=ce("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=ce("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=ce("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=ce("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=ce("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=ce("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ce("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=ce("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=ce("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=ce("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=ce("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=ce("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=ce("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=ce("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=ce("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=ce("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=ce("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=ce("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=ce("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=ce("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=ce("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=ce("Vibrate",[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=ce("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=ce("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Fm="-",uE=e=>{const t=fE(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Fm);return l[0]===""&&l.length!==1&&l.shift(),$w(l,t)||hE(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},$w=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?$w(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Fm);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},nv=/^\[(.+)\]$/,hE=e=>{if(nv.test(e)){const t=nv.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},fE=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return pE(Object.entries(e.classGroups),r).forEach(([o,i])=>{tf(i,n,o,t)}),n},tf=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:sv(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(mE(s)){tf(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{tf(i,sv(t,o),r,n)})})},sv=(e,t)=>{let r=e;return t.split(Fm).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},mE=e=>e.isThemeGetter,pE=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,s]}):e,gE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},Fw="!",vE=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=l=>{const c=[];let d=0,u=0,m;for(let v=0;v<l.length;v++){let y=l[v];if(d===0){if(y===s&&(n||l.slice(v,v+o)===t)){c.push(l.slice(u,v)),u=v+o;continue}if(y==="/"){m=v;continue}}y==="["?d++:y==="]"&&d--}const p=c.length===0?l:l.substring(u),f=p.startsWith(Fw),b=f?p.substring(1):p,g=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:b,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:i}):i},xE=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},yE=e=>({cache:gE(e.cacheSize),parseClassName:vE(e),...uE(e)}),wE=/\s+/,bE=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(wE);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:u,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:f}=r(d);let b=!!f,g=n(b?p.substring(0,f):p);if(!g){if(!b){l=d+(l.length>0?" "+l:l);continue}if(g=n(p),!g){l=d+(l.length>0?" "+l:l);continue}b=!1}const v=xE(u).join(":"),y=m?v+Fw:v,x=y+g;if(o.includes(x))continue;o.push(x);const w=s(g,b);for(let j=0;j<w.length;++j){const N=w[j];o.push(y+N)}l=d+(l.length>0?" "+l:l)}return l};function jE(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Uw(t))&&(n&&(n+=" "),n+=r);return n}const Uw=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Uw(e[n]))&&(r&&(r+=" "),r+=t);return r};function _E(e,...t){let r,n,s,o=i;function i(c){const d=t.reduce((u,m)=>m(u),e());return r=yE(d),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=bE(c,r);return s(c,u),u}return function(){return o(jE.apply(null,arguments))}}const Be=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Bw=/^\[(?:([a-z-]+):)?(.+)\]$/i,NE=/^\d+\/\d+$/,SE=new Set(["px","full","screen"]),kE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,PE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jr=e=>Va(e)||SE.has(e)||NE.test(e),kn=e=>So(e,"length",$E),Va=e=>!!e&&!Number.isNaN(Number(e)),Pu=e=>So(e,"number",Va),qo=e=>!!e&&Number.isInteger(Number(e)),RE=e=>e.endsWith("%")&&Va(e.slice(0,-1)),Ne=e=>Bw.test(e),Cn=e=>kE.test(e),OE=new Set(["length","size","percentage"]),AE=e=>So(e,OE,zw),IE=e=>So(e,"position",zw),DE=new Set(["image","url"]),ME=e=>So(e,DE,UE),LE=e=>So(e,"",FE),Wo=()=>!0,So=(e,t,r)=>{const n=Bw.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},$E=e=>CE.test(e)&&!EE.test(e),zw=()=>!1,FE=e=>PE.test(e),UE=e=>TE.test(e),BE=()=>{const e=Be("colors"),t=Be("spacing"),r=Be("blur"),n=Be("brightness"),s=Be("borderColor"),o=Be("borderRadius"),i=Be("borderSpacing"),l=Be("borderWidth"),c=Be("contrast"),d=Be("grayscale"),u=Be("hueRotate"),m=Be("invert"),p=Be("gap"),f=Be("gradientColorStops"),b=Be("gradientColorStopPositions"),g=Be("inset"),v=Be("margin"),y=Be("opacity"),x=Be("padding"),w=Be("saturate"),j=Be("scale"),N=Be("sepia"),S=Be("skew"),E=Be("space"),k=Be("translate"),T=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Ne,t],$=()=>[Ne,t],B=()=>["",Jr,kn],M=()=>["auto",Va,Ne],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],P=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",Ne],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[Va,Ne];return{cacheSize:500,separator:":",theme:{colors:[Wo],spacing:[Jr,kn],blur:["none","",Cn,Ne],brightness:te(),borderColor:[e],borderRadius:["none","","full",Cn,Ne],borderSpacing:$(),borderWidth:B(),contrast:te(),grayscale:R(),hueRotate:te(),invert:R(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[RE,kn],inset:I(),margin:I(),opacity:te(),padding:$(),saturate:te(),scale:te(),sepia:R(),skew:te(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[Cn]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),Ne]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qo,Ne]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",qo,Ne]}],"grid-cols":[{"grid-cols":[Wo]}],"col-start-end":[{col:["auto",{span:["full",qo,Ne]},Ne]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Wo]}],"row-start-end":[{row:["auto",{span:[qo,Ne]},Ne]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,t]}],"min-w":[{"min-w":[Ne,t,"min","max","fit"]}],"max-w":[{"max-w":[Ne,t,"none","full","min","max","fit","prose",{screen:[Cn]},Cn]}],h:[{h:[Ne,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Cn,kn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pu]}],"font-family":[{font:[Wo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",Va,Pu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jr,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jr,kn]}],"underline-offset":[{"underline-offset":["auto",Jr,Ne]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),IE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",AE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ME]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...P(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:P()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...P()]}],"outline-offset":[{"outline-offset":[Jr,Ne]}],"outline-w":[{outline:[Jr,kn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Jr,kn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Cn,LE]}],"shadow-color":[{shadow:[Wo]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Cn,Ne]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[qo,Ne]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Jr,kn,Pu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},zE=_E(BE);function ue(...e){return zE(Pw(e))}const qE=BC,qw=h.forwardRef(({className:e,...t},r)=>a.jsx(jw,{ref:r,className:ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));qw.displayName=jw.displayName;const WE=Ji("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ww=h.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(_w,{ref:n,className:ue(WE({variant:t}),e),...r}));Ww.displayName=_w.displayName;const VE=h.forwardRef(({className:e,...t},r)=>a.jsx(kw,{ref:r,className:ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));VE.displayName=kw.displayName;const Vw=h.forwardRef(({className:e,...t},r)=>a.jsx(Cw,{ref:r,className:ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Ys,{className:"h-4 w-4"})}));Vw.displayName=Cw.displayName;const Hw=h.forwardRef(({className:e,...t},r)=>a.jsx(Nw,{ref:r,className:ue("text-sm font-semibold",e),...t}));Hw.displayName=Nw.displayName;const Kw=h.forwardRef(({className:e,...t},r)=>a.jsx(Sw,{ref:r,className:ue("text-sm opacity-90",e),...t}));Kw.displayName=Sw.displayName;function HE(){const{toasts:e}=J2();return a.jsxs(qE,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return a.jsxs(Ww,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(Hw,{children:r}),n&&a.jsx(Kw,{children:n})]}),s,a.jsx(Vw,{})]},t)}),a.jsx(qw,{})]})}var av=["light","dark"],KE="(prefers-color-scheme: dark)",GE=h.createContext(void 0),YE={setTheme:e=>{},themes:[]},QE=()=>{var e;return(e=h.useContext(GE))!=null?e:YE};h.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let d=o==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,m=s?av.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(b,g=!1,v=!0)=>{let y=i?i[b]:b,x=g?b+"|| ''":`'${y}'`,w="";return s&&v&&!g&&av.includes(b)&&(w+=`d.style.colorScheme = '${b}';`),r==="class"?g||y?w+=`c.add(${x})`:w+="null":y&&(w+=`d[s](n,${x})`),w},f=e?`!function(){${u}${p(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${KE}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}${d?"":"else{"+p(o,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(o,!1,!1)};}${m}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var JE=e=>{switch(e){case"success":return eP;case"info":return rP;case"warning":return tP;case"error":return nP;default:return null}},XE=Array(12).fill(0),ZE=({visible:e,className:t})=>J.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},J.createElement("div",{className:"sonner-spinner"},XE.map((r,n)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),eP=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),tP=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),rP=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nP=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),sP=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),aP=()=>{let[e,t]=J.useState(document.hidden);return J.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},rf=1,oP=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:rf++,o=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,o,i=n.then(async c=>{if(o=["resolve",c],J.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(lP(c)&&!c.ok){s=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){s=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>i.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||rf++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},$t=new oP,iP=(e,t)=>{let r=(t==null?void 0:t.id)||rf++;return $t.addToast({title:e,...t,id:r}),r},lP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",cP=iP,dP=()=>$t.toasts,uP=()=>$t.getActiveToasts(),U=Object.assign(cP,{success:$t.success,info:$t.info,warning:$t.warning,error:$t.error,custom:$t.custom,message:$t.message,promise:$t.promise,dismiss:$t.dismiss,loading:$t.loading},{getHistory:dP,getToasts:uP});function hP(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}hP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ol(e){return e.label!==void 0}var fP=3,mP="32px",pP="16px",ov=4e3,gP=356,vP=14,xP=20,yP=200;function xr(...e){return e.filter(Boolean).join(" ")}function wP(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var bP=e=>{var t,r,n,s,o,i,l,c,d,u,m;let{invert:p,toast:f,unstyled:b,interacting:g,setHeights:v,visibleToasts:y,heights:x,index:w,toasts:j,expanded:N,removeToast:S,defaultRichColors:E,closeButton:k,style:T,cancelButtonStyle:O,actionButtonStyle:I,className:$="",descriptionClassName:B="",duration:M,position:G,gap:P,loadingIcon:H,expandByDefault:C,classNames:R,icons:K,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:Z}=e,[oe,he]=J.useState(null),[ke,Re]=J.useState(null),[Q,z]=J.useState(!1),[de,ve]=J.useState(!1),[fe,ie]=J.useState(!1),[D,ee]=J.useState(!1),[F,_]=J.useState(!1),[L,X]=J.useState(0),[re,ye]=J.useState(0),Ue=J.useRef(f.duration||M||ov),ct=J.useRef(null),yt=J.useRef(null),Io=w===0,gs=w+1<=y,Ce=f.type,st=f.dismissible!==!1,Ht=f.className||"",Gd=f.descriptionClassName||"",at=J.useMemo(()=>x.findIndex(je=>je.toastId===f.id)||0,[x,f.id]),Yd=J.useMemo(()=>{var je;return(je=f.closeButton)!=null?je:k},[f.closeButton,k]),Op=J.useMemo(()=>f.duration||M||ov,[f.duration,M]),Qd=J.useRef(0),ca=J.useRef(0),Ap=J.useRef(0),da=J.useRef(null),[gS,vS]=G.split("-"),Ip=J.useMemo(()=>x.reduce((je,Me,We)=>We>=at?je:je+Me.height,0),[x,at]),Dp=aP(),xS=f.invert||p,Jd=Ce==="loading";ca.current=J.useMemo(()=>at*P+Ip,[at,Ip]),J.useEffect(()=>{Ue.current=Op},[Op]),J.useEffect(()=>{z(!0)},[]),J.useEffect(()=>{let je=yt.current;if(je){let Me=je.getBoundingClientRect().height;return ye(Me),v(We=>[{toastId:f.id,height:Me,position:f.position},...We]),()=>v(We=>We.filter(mr=>mr.toastId!==f.id))}},[v,f.id]),J.useLayoutEffect(()=>{if(!Q)return;let je=yt.current,Me=je.style.height;je.style.height="auto";let We=je.getBoundingClientRect().height;je.style.height=Me,ye(We),v(mr=>mr.find(pr=>pr.toastId===f.id)?mr.map(pr=>pr.toastId===f.id?{...pr,height:We}:pr):[{toastId:f.id,height:We,position:f.position},...mr])},[Q,f.title,f.description,v,f.id]);let jn=J.useCallback(()=>{ve(!0),X(ca.current),v(je=>je.filter(Me=>Me.toastId!==f.id)),setTimeout(()=>{S(f)},yP)},[f,S,v,ca]);J.useEffect(()=>{if(f.promise&&Ce==="loading"||f.duration===1/0||f.type==="loading")return;let je;return N||g||Z&&Dp?(()=>{if(Ap.current<Qd.current){let Me=new Date().getTime()-Qd.current;Ue.current=Ue.current-Me}Ap.current=new Date().getTime()})():Ue.current!==1/0&&(Qd.current=new Date().getTime(),je=setTimeout(()=>{var Me;(Me=f.onAutoClose)==null||Me.call(f,f),jn()},Ue.current)),()=>clearTimeout(je)},[N,g,f,Ce,Z,Dp,jn]),J.useEffect(()=>{f.delete&&jn()},[jn,f.delete]);function yS(){var je,Me,We;return K!=null&&K.loading?J.createElement("div",{className:xr(R==null?void 0:R.loader,(je=f==null?void 0:f.classNames)==null?void 0:je.loader,"sonner-loader"),"data-visible":Ce==="loading"},K.loading):H?J.createElement("div",{className:xr(R==null?void 0:R.loader,(Me=f==null?void 0:f.classNames)==null?void 0:Me.loader,"sonner-loader"),"data-visible":Ce==="loading"},H):J.createElement(ZE,{className:xr(R==null?void 0:R.loader,(We=f==null?void 0:f.classNames)==null?void 0:We.loader),visible:Ce==="loading"})}return J.createElement("li",{tabIndex:0,ref:yt,className:xr($,Ht,R==null?void 0:R.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,R==null?void 0:R.default,R==null?void 0:R[Ce],(r=f==null?void 0:f.classNames)==null?void 0:r[Ce]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:E,"data-styled":!(f.jsx||f.unstyled||b),"data-mounted":Q,"data-promise":!!f.promise,"data-swiped":F,"data-removed":de,"data-visible":gs,"data-y-position":gS,"data-x-position":vS,"data-index":w,"data-front":Io,"data-swiping":fe,"data-dismissible":st,"data-type":Ce,"data-invert":xS,"data-swipe-out":D,"data-swipe-direction":ke,"data-expanded":!!(N||C&&Q),style:{"--index":w,"--toasts-before":w,"--z-index":j.length-w,"--offset":`${de?L:ca.current}px`,"--initial-height":C?"auto":`${re}px`,...T,...f.style},onDragEnd:()=>{ie(!1),he(null),da.current=null},onPointerDown:je=>{Jd||!st||(ct.current=new Date,X(ca.current),je.target.setPointerCapture(je.pointerId),je.target.tagName!=="BUTTON"&&(ie(!0),da.current={x:je.clientX,y:je.clientY}))},onPointerUp:()=>{var je,Me,We,mr;if(D||!st)return;da.current=null;let pr=Number(((je=yt.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),_n=Number(((Me=yt.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),vs=new Date().getTime()-((We=ct.current)==null?void 0:We.getTime()),gr=oe==="x"?pr:_n,Nn=Math.abs(gr)/vs;if(Math.abs(gr)>=xP||Nn>.11){X(ca.current),(mr=f.onDismiss)==null||mr.call(f,f),Re(oe==="x"?pr>0?"right":"left":_n>0?"down":"up"),jn(),ee(!0),_(!1);return}ie(!1),he(null)},onPointerMove:je=>{var Me,We,mr,pr;if(!da.current||!st||((Me=window.getSelection())==null?void 0:Me.toString().length)>0)return;let _n=je.clientY-da.current.y,vs=je.clientX-da.current.x,gr=(We=e.swipeDirections)!=null?We:wP(G);!oe&&(Math.abs(vs)>1||Math.abs(_n)>1)&&he(Math.abs(vs)>Math.abs(_n)?"x":"y");let Nn={x:0,y:0};oe==="y"?(gr.includes("top")||gr.includes("bottom"))&&(gr.includes("top")&&_n<0||gr.includes("bottom")&&_n>0)&&(Nn.y=_n):oe==="x"&&(gr.includes("left")||gr.includes("right"))&&(gr.includes("left")&&vs<0||gr.includes("right")&&vs>0)&&(Nn.x=vs),(Math.abs(Nn.x)>0||Math.abs(Nn.y)>0)&&_(!0),(mr=yt.current)==null||mr.style.setProperty("--swipe-amount-x",`${Nn.x}px`),(pr=yt.current)==null||pr.style.setProperty("--swipe-amount-y",`${Nn.y}px`)}},Yd&&!f.jsx?J.createElement("button",{"aria-label":te,"data-disabled":Jd,"data-close-button":!0,onClick:Jd||!st?()=>{}:()=>{var je;jn(),(je=f.onDismiss)==null||je.call(f,f)},className:xr(R==null?void 0:R.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(o=K==null?void 0:K.close)!=null?o:sP):null,f.jsx||h.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:J.createElement(J.Fragment,null,Ce||f.icon||f.promise?J.createElement("div",{"data-icon":"",className:xr(R==null?void 0:R.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||yS():null,f.type!=="loading"?f.icon||(K==null?void 0:K[Ce])||JE(Ce):null):null,J.createElement("div",{"data-content":"",className:xr(R==null?void 0:R.content,(l=f==null?void 0:f.classNames)==null?void 0:l.content)},J.createElement("div",{"data-title":"",className:xr(R==null?void 0:R.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?J.createElement("div",{"data-description":"",className:xr(B,Gd,R==null?void 0:R.description,(d=f==null?void 0:f.classNames)==null?void 0:d.description)},typeof f.description=="function"?f.description():f.description):null),h.isValidElement(f.cancel)?f.cancel:f.cancel&&Ol(f.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||O,onClick:je=>{var Me,We;Ol(f.cancel)&&st&&((We=(Me=f.cancel).onClick)==null||We.call(Me,je),jn())},className:xr(R==null?void 0:R.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,h.isValidElement(f.action)?f.action:f.action&&Ol(f.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||I,onClick:je=>{var Me,We;Ol(f.action)&&((We=(Me=f.action).onClick)==null||We.call(Me,je),!je.defaultPrevented&&jn())},className:xr(R==null?void 0:R.actionButton,(m=f==null?void 0:f.classNames)==null?void 0:m.actionButton)},f.action.label):null))};function iv(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function jP(e,t){let r={};return[e,t].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",l=o?pP:mP;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${i}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${i}-${d}`]=l:r[`${i}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}var _P=h.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:m,duration:p,style:f,visibleToasts:b=fP,toastOptions:g,dir:v=iv(),gap:y=vP,loadingIcon:x,icons:w,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:N}=e,[S,E]=J.useState([]),k=J.useMemo(()=>Array.from(new Set([n].concat(S.filter(Z=>Z.position).map(Z=>Z.position)))),[S,n]),[T,O]=J.useState([]),[I,$]=J.useState(!1),[B,M]=J.useState(!1),[G,P]=J.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=J.useRef(null),C=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=J.useRef(null),K=J.useRef(!1),te=J.useCallback(Z=>{E(oe=>{var he;return(he=oe.find(ke=>ke.id===Z.id))!=null&&he.delete||$t.dismiss(Z.id),oe.filter(({id:ke})=>ke!==Z.id)})},[]);return J.useEffect(()=>$t.subscribe(Z=>{if(Z.dismiss){E(oe=>oe.map(he=>he.id===Z.id?{...he,delete:!0}:he));return}setTimeout(()=>{Zy.flushSync(()=>{E(oe=>{let he=oe.findIndex(ke=>ke.id===Z.id);return he!==-1?[...oe.slice(0,he),{...oe[he],...Z},...oe.slice(he+1)]:[Z,...oe]})})})}),[]),J.useEffect(()=>{if(u!=="system"){P(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?P("dark"):P("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:oe})=>{P(oe?"dark":"light")})}catch{Z.addListener(({matches:he})=>{try{P(he?"dark":"light")}catch(ke){console.error(ke)}})}},[u]),J.useEffect(()=>{S.length<=1&&$(!1)},[S]),J.useEffect(()=>{let Z=oe=>{var he,ke;s.every(Re=>oe[Re]||oe.code===Re)&&($(!0),(he=H.current)==null||he.focus()),oe.code==="Escape"&&(document.activeElement===H.current||(ke=H.current)!=null&&ke.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[s]),J.useEffect(()=>{if(H.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,K.current=!1)}},[H.current]),J.createElement("section",{ref:t,"aria-label":`${j} ${C}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((Z,oe)=>{var he;let[ke,Re]=Z.split("-");return S.length?J.createElement("ol",{key:Z,dir:v==="auto"?iv():v,tabIndex:-1,ref:H,className:l,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":ke,"data-lifted":I&&S.length>1&&!o,"data-x-position":Re,style:{"--front-toast-height":`${((he=T[0])==null?void 0:he.height)||0}px`,"--width":`${gP}px`,"--gap":`${y}px`,...f,...jP(c,d)},onBlur:Q=>{K.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(K.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||K.current||(K.current=!0,R.current=Q.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{B||$(!1)},onDragEnd:()=>$(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},S.filter(Q=>!Q.position&&oe===0||Q.position===Z).map((Q,z)=>{var de,ve;return J.createElement(bP,{key:Q.id,icons:w,index:z,toast:Q,defaultRichColors:m,duration:(de=g==null?void 0:g.duration)!=null?de:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:b,closeButton:(ve=g==null?void 0:g.closeButton)!=null?ve:i,interacting:B,position:Z,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:te,toasts:S.filter(fe=>fe.position==Q.position),heights:T.filter(fe=>fe.position==Q.position),setHeights:O,expandByDefault:o,gap:y,loadingIcon:x,expanded:I,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const NP=({...e})=>{const{theme:t="system"}=QE();return a.jsx(_P,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var SP=$f[" useId ".trim().toString()]||(()=>{}),kP=0;function on(e){const[t,r]=h.useState(SP());return nt(()=>{e||r(n=>n??String(kP++))},[e]),e||(t?`radix-${t}`:"")}const CP=["top","right","bottom","left"],os=Math.min,Yt=Math.max,$c=Math.round,Al=Math.floor,Hr=e=>({x:e,y:e}),EP={left:"right",right:"left",bottom:"top",top:"bottom"},PP={start:"end",end:"start"};function nf(e,t,r){return Yt(e,os(t,r))}function gn(e,t){return typeof e=="function"?e(t):e}function vn(e){return e.split("-")[0]}function ko(e){return e.split("-")[1]}function Um(e){return e==="x"?"y":"x"}function Bm(e){return e==="y"?"height":"width"}const TP=new Set(["top","bottom"]);function qr(e){return TP.has(vn(e))?"y":"x"}function zm(e){return Um(qr(e))}function RP(e,t,r){r===void 0&&(r=!1);const n=ko(e),s=zm(e),o=Bm(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Fc(i)),[i,Fc(i)]}function OP(e){const t=Fc(e);return[sf(e),t,sf(t)]}function sf(e){return e.replace(/start|end/g,t=>PP[t])}const lv=["left","right"],cv=["right","left"],AP=["top","bottom"],IP=["bottom","top"];function DP(e,t,r){switch(e){case"top":case"bottom":return r?t?cv:lv:t?lv:cv;case"left":case"right":return t?AP:IP;default:return[]}}function MP(e,t,r,n){const s=ko(e);let o=DP(vn(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(sf)))),o}function Fc(e){return e.replace(/left|right|bottom|top/g,t=>EP[t])}function LP(e){return{top:0,right:0,bottom:0,left:0,...e}}function Gw(e){return typeof e!="number"?LP(e):{top:e,right:e,bottom:e,left:e}}function Uc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function dv(e,t,r){let{reference:n,floating:s}=e;const o=qr(t),i=zm(t),l=Bm(i),c=vn(t),d=o==="y",u=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let f;switch(c){case"top":f={x:u,y:n.y-s.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:m};break;case"left":f={x:n.x-s.width,y:m};break;default:f={x:n.x,y:n.y}}switch(ko(t)){case"start":f[i]-=p*(r&&d?-1:1);break;case"end":f[i]+=p*(r&&d?-1:1);break}return f}const $P=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:m}=dv(d,n,c),p=n,f={},b=0;for(let g=0;g<l.length;g++){const{name:v,fn:y}=l[g],{x,y:w,data:j,reset:N}=await y({x:u,y:m,initialPlacement:n,placement:p,strategy:s,middlewareData:f,rects:d,platform:i,elements:{reference:e,floating:t}});u=x??u,m=w??m,f={...f,[v]:{...f[v],...j}},N&&b<=50&&(b++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(d=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:u,y:m}=dv(d,p,c)),g=-1)}return{x:u,y:m,placement:p,strategy:s,middlewareData:f}};async function Oi(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:p=!1,padding:f=0}=gn(t,e),b=Gw(f),v=l[p?m==="floating"?"reference":"floating":m],y=Uc(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(v)))==null||r?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),x=m==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Uc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(y.top-N.top+b.top)/j.y,bottom:(N.bottom-y.bottom+b.bottom)/j.y,left:(y.left-N.left+b.left)/j.x,right:(N.right-y.right+b.right)/j.x}}const FP=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=gn(e,t)||{};if(d==null)return{};const m=Gw(u),p={x:r,y:n},f=zm(s),b=Bm(f),g=await i.getDimensions(d),v=f==="y",y=v?"top":"left",x=v?"bottom":"right",w=v?"clientHeight":"clientWidth",j=o.reference[b]+o.reference[f]-p[f]-o.floating[b],N=p[f]-o.reference[f],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let E=S?S[w]:0;(!E||!await(i.isElement==null?void 0:i.isElement(S)))&&(E=l.floating[w]||o.floating[b]);const k=j/2-N/2,T=E/2-g[b]/2-1,O=os(m[y],T),I=os(m[x],T),$=O,B=E-g[b]-I,M=E/2-g[b]/2+k,G=nf($,M,B),P=!c.arrow&&ko(s)!=null&&M!==G&&o.reference[b]/2-(M<$?O:I)-g[b]/2<0,H=P?M<$?M-$:M-B:0;return{[f]:p[f]+H,data:{[f]:G,centerOffset:M-G-H,...P&&{alignmentOffset:H}},reset:P}}}),UP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...v}=gn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=vn(s),x=qr(l),w=vn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=p||(w||!g?[Fc(l)]:OP(l)),S=b!=="none";!p&&S&&N.push(...MP(l,g,b,j));const E=[l,...N],k=await Oi(t,v),T=[];let O=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&T.push(k[y]),m){const M=RP(s,i,j);T.push(k[M[0]],k[M[1]])}if(O=[...O,{placement:s,overflows:T}],!T.every(M=>M<=0)){var I,$;const M=(((I=o.flip)==null?void 0:I.index)||0)+1,G=E[M];if(G&&(!(m==="alignment"?x!==qr(G):!1)||O.every(C=>C.overflows[0]>0&&qr(C.placement)===x)))return{data:{index:M,overflows:O},reset:{placement:G}};let P=($=O.filter(H=>H.overflows[0]<=0).sort((H,C)=>H.overflows[1]-C.overflows[1])[0])==null?void 0:$.placement;if(!P)switch(f){case"bestFit":{var B;const H=(B=O.filter(C=>{if(S){const R=qr(C.placement);return R===x||R==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(R=>R>0).reduce((R,K)=>R+K,0)]).sort((C,R)=>C[1]-R[1])[0])==null?void 0:B[0];H&&(P=H);break}case"initialPlacement":P=l;break}if(s!==P)return{reset:{placement:P}}}return{}}}};function uv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function hv(e){return CP.some(t=>e[t]>=0)}const BP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=gn(e,t);switch(n){case"referenceHidden":{const o=await Oi(t,{...s,elementContext:"reference"}),i=uv(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:hv(i)}}}case"escaped":{const o=await Oi(t,{...s,altBoundary:!0}),i=uv(o,r.floating);return{data:{escapedOffsets:i,escaped:hv(i)}}}default:return{}}}}},Yw=new Set(["left","top"]);async function zP(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=vn(r),l=ko(r),c=qr(r)==="y",d=Yw.has(i)?-1:1,u=o&&c?-1:1,m=gn(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof b=="number"&&(f=l==="end"?b*-1:b),c?{x:f*u,y:p*d}:{x:p*d,y:f*u}}const qP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await zP(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},WP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:v=>{let{x:y,y:x}=v;return{x:y,y:x}}},...c}=gn(e,t),d={x:r,y:n},u=await Oi(t,c),m=qr(vn(s)),p=Um(m);let f=d[p],b=d[m];if(o){const v=p==="y"?"top":"left",y=p==="y"?"bottom":"right",x=f+u[v],w=f-u[y];f=nf(x,f,w)}if(i){const v=m==="y"?"top":"left",y=m==="y"?"bottom":"right",x=b+u[v],w=b-u[y];b=nf(x,b,w)}const g=l.fn({...t,[p]:f,[m]:b});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[p]:o,[m]:i}}}}}},VP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=gn(e,t),u={x:r,y:n},m=qr(s),p=Um(m);let f=u[p],b=u[m];const g=gn(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=p==="y"?"height":"width",j=o.reference[p]-o.floating[w]+v.mainAxis,N=o.reference[p]+o.reference[w]-v.mainAxis;f<j?f=j:f>N&&(f=N)}if(d){var y,x;const w=p==="y"?"width":"height",j=Yw.has(vn(s)),N=o.reference[m]-o.floating[w]+(j&&((y=i.offset)==null?void 0:y[m])||0)+(j?0:v.crossAxis),S=o.reference[m]+o.reference[w]+(j?0:((x=i.offset)==null?void 0:x[m])||0)-(j?v.crossAxis:0);b<N?b=N:b>S&&(b=S)}return{[p]:f,[m]:b}}}},HP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...d}=gn(e,t),u=await Oi(t,d),m=vn(s),p=ko(s),f=qr(s)==="y",{width:b,height:g}=o.floating;let v,y;m==="top"||m==="bottom"?(v=m,y=p===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=m,v=p==="end"?"top":"bottom");const x=g-u.top-u.bottom,w=b-u.left-u.right,j=os(g-u[v],x),N=os(b-u[y],w),S=!t.middlewareData.shift;let E=j,k=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=x),S&&!p){const O=Yt(u.left,0),I=Yt(u.right,0),$=Yt(u.top,0),B=Yt(u.bottom,0);f?k=b-2*(O!==0||I!==0?O+I:Yt(u.left,u.right)):E=g-2*($!==0||B!==0?$+B:Yt(u.top,u.bottom))}await c({...t,availableWidth:k,availableHeight:E});const T=await i.getDimensions(l.floating);return b!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function vd(){return typeof window<"u"}function Co(e){return Qw(e)?(e.nodeName||"").toLowerCase():"#document"}function er(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Yr(e){var t;return(t=(Qw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Qw(e){return vd()?e instanceof Node||e instanceof er(e).Node:!1}function Or(e){return vd()?e instanceof Element||e instanceof er(e).Element:!1}function Gr(e){return vd()?e instanceof HTMLElement||e instanceof er(e).HTMLElement:!1}function fv(e){return!vd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof er(e).ShadowRoot}const KP=new Set(["inline","contents"]);function el(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Ar(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!KP.has(s)}const GP=new Set(["table","td","th"]);function YP(e){return GP.has(Co(e))}const QP=[":popover-open",":modal"];function xd(e){return QP.some(t=>{try{return e.matches(t)}catch{return!1}})}const JP=["transform","translate","scale","rotate","perspective"],XP=["transform","translate","scale","rotate","perspective","filter"],ZP=["paint","layout","strict","content"];function qm(e){const t=Wm(),r=Or(e)?Ar(e):e;return JP.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||XP.some(n=>(r.willChange||"").includes(n))||ZP.some(n=>(r.contain||"").includes(n))}function eT(e){let t=is(e);for(;Gr(t)&&!mo(t);){if(qm(t))return t;if(xd(t))return null;t=is(t)}return null}function Wm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tT=new Set(["html","body","#document"]);function mo(e){return tT.has(Co(e))}function Ar(e){return er(e).getComputedStyle(e)}function yd(e){return Or(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function is(e){if(Co(e)==="html")return e;const t=e.assignedSlot||e.parentNode||fv(e)&&e.host||Yr(e);return fv(t)?t.host:t}function Jw(e){const t=is(e);return mo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gr(t)&&el(t)?t:Jw(t)}function Ai(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Jw(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=er(s);if(o){const l=af(i);return t.concat(i,i.visualViewport||[],el(s)?s:[],l&&r?Ai(l):[])}return t.concat(s,Ai(s,[],r))}function af(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Xw(e){const t=Ar(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Gr(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=$c(r)!==o||$c(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function Vm(e){return Or(e)?e:e.contextElement}function Ha(e){const t=Vm(e);if(!Gr(t))return Hr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=Xw(t);let i=(o?$c(r.width):r.width)/n,l=(o?$c(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const rT=Hr(0);function Zw(e){const t=er(e);return!Wm()||!t.visualViewport?rT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function nT(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==er(e)?!1:t}function Qs(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=Vm(e);let i=Hr(1);t&&(n?Or(n)&&(i=Ha(n)):i=Ha(e));const l=nT(o,r,n)?Zw(o):Hr(0);let c=(s.left+l.x)/i.x,d=(s.top+l.y)/i.y,u=s.width/i.x,m=s.height/i.y;if(o){const p=er(o),f=n&&Or(n)?er(n):n;let b=p,g=af(b);for(;g&&n&&f!==b;){const v=Ha(g),y=g.getBoundingClientRect(),x=Ar(g),w=y.left+(g.clientLeft+parseFloat(x.paddingLeft))*v.x,j=y.top+(g.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,m*=v.y,c+=w,d+=j,b=er(g),g=af(b)}}return Uc({width:u,height:m,x:c,y:d})}function Hm(e,t){const r=yd(e).scrollLeft;return t?t.left+r:Qs(Yr(e)).left+r}function eb(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Hm(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function sT(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Yr(n),l=t?xd(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},d=Hr(1);const u=Hr(0),m=Gr(n);if((m||!m&&!o)&&((Co(n)!=="body"||el(i))&&(c=yd(n)),Gr(n))){const f=Qs(n);d=Ha(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}const p=i&&!m&&!o?eb(i,c,!0):Hr(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+p.x,y:r.y*d.y-c.scrollTop*d.y+u.y+p.y}}function aT(e){return Array.from(e.getClientRects())}function oT(e){const t=Yr(e),r=yd(e),n=e.ownerDocument.body,s=Yt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Yt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Hm(e);const l=-r.scrollTop;return Ar(n).direction==="rtl"&&(i+=Yt(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:l}}function iT(e,t){const r=er(e),n=Yr(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const d=Wm();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}const lT=new Set(["absolute","fixed"]);function cT(e,t){const r=Qs(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Gr(e)?Ha(e):Hr(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,d=n*o.y;return{width:i,height:l,x:c,y:d}}function mv(e,t,r){let n;if(t==="viewport")n=iT(e,r);else if(t==="document")n=oT(Yr(e));else if(Or(t))n=cT(t,r);else{const s=Zw(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Uc(n)}function tb(e,t){const r=is(e);return r===t||!Or(r)||mo(r)?!1:Ar(r).position==="fixed"||tb(r,t)}function dT(e,t){const r=t.get(e);if(r)return r;let n=Ai(e,[],!1).filter(l=>Or(l)&&Co(l)!=="body"),s=null;const o=Ar(e).position==="fixed";let i=o?is(e):e;for(;Or(i)&&!mo(i);){const l=Ar(i),c=qm(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&lT.has(s.position)||el(i)&&!c&&tb(e,i))?n=n.filter(u=>u!==i):s=l,i=is(i)}return t.set(e,n),n}function uT(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?xd(t)?[]:dT(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((d,u)=>{const m=mv(t,u,s);return d.top=Yt(m.top,d.top),d.right=os(m.right,d.right),d.bottom=os(m.bottom,d.bottom),d.left=Yt(m.left,d.left),d},mv(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function hT(e){const{width:t,height:r}=Xw(e);return{width:t,height:r}}function fT(e,t,r){const n=Gr(t),s=Yr(t),o=r==="fixed",i=Qs(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Hr(0);function d(){c.x=Hm(s)}if(n||!n&&!o)if((Co(t)!=="body"||el(s))&&(l=yd(t)),n){const f=Qs(t,!0,o,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&d();o&&!n&&s&&d();const u=s&&!n&&!o?eb(s,l):Hr(0),m=i.left+l.scrollLeft-c.x-u.x,p=i.top+l.scrollTop-c.y-u.y;return{x:m,y:p,width:i.width,height:i.height}}function Tu(e){return Ar(e).position==="static"}function pv(e,t){if(!Gr(e)||Ar(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Yr(e)===r&&(r=r.ownerDocument.body),r}function rb(e,t){const r=er(e);if(xd(e))return r;if(!Gr(e)){let s=is(e);for(;s&&!mo(s);){if(Or(s)&&!Tu(s))return s;s=is(s)}return r}let n=pv(e,t);for(;n&&YP(n)&&Tu(n);)n=pv(n,t);return n&&mo(n)&&Tu(n)&&!qm(n)?r:n||eT(e)||r}const mT=async function(e){const t=this.getOffsetParent||rb,r=this.getDimensions,n=await r(e.floating);return{reference:fT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function pT(e){return Ar(e).direction==="rtl"}const gT={convertOffsetParentRelativeRectToViewportRelativeRect:sT,getDocumentElement:Yr,getClippingRect:uT,getOffsetParent:rb,getElementRects:mT,getClientRects:aT,getDimensions:hT,getScale:Ha,isElement:Or,isRTL:pT};function nb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vT(e,t){let r=null,n;const s=Yr(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const d=e.getBoundingClientRect(),{left:u,top:m,width:p,height:f}=d;if(l||t(),!p||!f)return;const b=Al(m),g=Al(s.clientWidth-(u+p)),v=Al(s.clientHeight-(m+f)),y=Al(u),w={rootMargin:-b+"px "+-g+"px "+-v+"px "+-y+"px",threshold:Yt(0,os(1,c))||1};let j=!0;function N(S){const E=S[0].intersectionRatio;if(E!==c){if(!j)return i();E?i(!1,E):n=setTimeout(()=>{i(!1,1e-7)},1e3)}E===1&&!nb(d,e.getBoundingClientRect())&&i(),j=!1}try{r=new IntersectionObserver(N,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(e)}return i(!0),o}function xT(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=Vm(e),u=s||o?[...d?Ai(d):[],...Ai(t)]:[];u.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const m=d&&l?vT(d,r):null;let p=-1,f=null;i&&(f=new ResizeObserver(y=>{let[x]=y;x&&x.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(t)})),r()}),d&&!c&&f.observe(d),f.observe(t));let b,g=c?Qs(e):null;c&&v();function v(){const y=Qs(e);g&&!nb(g,y)&&r(),g=y,b=requestAnimationFrame(v)}return r(),()=>{var y;u.forEach(x=>{s&&x.removeEventListener("scroll",r),o&&x.removeEventListener("resize",r)}),m==null||m(),(y=f)==null||y.disconnect(),f=null,c&&cancelAnimationFrame(b)}}const yT=qP,wT=WP,bT=UP,jT=HP,_T=BP,gv=FP,NT=VP,ST=(e,t,r)=>{const n=new Map,s={platform:gT,...r},o={...s.platform,_c:n};return $P(e,t,{...s,platform:o})};var kT=typeof document<"u",CT=function(){},cc=kT?h.useLayoutEffect:CT;function Bc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Bc(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!Bc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function sb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function vv(e,t){const r=sb(e);return Math.round(t*r)/r}function Ru(e){const t=h.useRef(e);return cc(()=>{t.current=e}),t}function ET(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,m]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=h.useState(n);Bc(p,n)||f(n);const[b,g]=h.useState(null),[v,y]=h.useState(null),x=h.useCallback(C=>{C!==S.current&&(S.current=C,g(C))},[]),w=h.useCallback(C=>{C!==E.current&&(E.current=C,y(C))},[]),j=o||b,N=i||v,S=h.useRef(null),E=h.useRef(null),k=h.useRef(u),T=c!=null,O=Ru(c),I=Ru(s),$=Ru(d),B=h.useCallback(()=>{if(!S.current||!E.current)return;const C={placement:t,strategy:r,middleware:p};I.current&&(C.platform=I.current),ST(S.current,E.current,C).then(R=>{const K={...R,isPositioned:$.current!==!1};M.current&&!Bc(k.current,K)&&(k.current=K,aa.flushSync(()=>{m(K)}))})},[p,t,r,I,$]);cc(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,m(C=>({...C,isPositioned:!1})))},[d]);const M=h.useRef(!1);cc(()=>(M.current=!0,()=>{M.current=!1}),[]),cc(()=>{if(j&&(S.current=j),N&&(E.current=N),j&&N){if(O.current)return O.current(j,N,B);B()}},[j,N,B,O,T]);const G=h.useMemo(()=>({reference:S,floating:E,setReference:x,setFloating:w}),[x,w]),P=h.useMemo(()=>({reference:j,floating:N}),[j,N]),H=h.useMemo(()=>{const C={position:r,left:0,top:0};if(!P.floating)return C;const R=vv(P.floating,u.x),K=vv(P.floating,u.y);return l?{...C,transform:"translate("+R+"px, "+K+"px)",...sb(P.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:K}},[r,l,P.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:B,refs:G,elements:P,floatingStyles:H}),[u,B,G,P,H])}const PT=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?gv({element:n.current,padding:s}).fn(r):{}:n?gv({element:n,padding:s}).fn(r):{}}}},TT=(e,t)=>({...yT(e),options:[e,t]}),RT=(e,t)=>({...wT(e),options:[e,t]}),OT=(e,t)=>({...NT(e),options:[e,t]}),AT=(e,t)=>({...bT(e),options:[e,t]}),IT=(e,t)=>({...jT(e),options:[e,t]}),DT=(e,t)=>({..._T(e),options:[e,t]}),MT=(e,t)=>({...PT(e),options:[e,t]});var LT="Arrow",ab=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return a.jsx(ge.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});ab.displayName=LT;var $T=ab;function Km(e){const[t,r]=h.useState(void 0);return nt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Gm="Popper",[ob,Eo]=Lt(Gm),[FT,ib]=ob(Gm),lb=e=>{const{__scopePopper:t,children:r}=e,[n,s]=h.useState(null);return a.jsx(FT,{scope:t,anchor:n,onAnchorChange:s,children:r})};lb.displayName=Gm;var cb="PopperAnchor",db=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=ib(cb,r),i=h.useRef(null),l=Se(t,i);return h.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:a.jsx(ge.div,{...s,ref:l})});db.displayName=cb;var Ym="PopperContent",[UT,BT]=ob(Ym),ub=h.forwardRef((e,t)=>{var Q,z,de,ve,fe,ie;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:b,...g}=e,v=ib(Ym,r),[y,x]=h.useState(null),w=Se(t,D=>x(D)),[j,N]=h.useState(null),S=Km(j),E=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,T=n+(o!=="center"?"-"+o:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},I=Array.isArray(d)?d:[d],$=I.length>0,B={padding:O,boundary:I.filter(qT),altBoundary:$},{refs:M,floatingStyles:G,placement:P,isPositioned:H,middlewareData:C}=ET({strategy:"fixed",placement:T,whileElementsMounted:(...D)=>xT(...D,{animationFrame:f==="always"}),elements:{reference:v.anchor},middleware:[TT({mainAxis:s+k,alignmentAxis:i}),c&&RT({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?OT():void 0,...B}),c&&AT({...B}),IT({...B,apply:({elements:D,rects:ee,availableWidth:F,availableHeight:_})=>{const{width:L,height:X}=ee.reference,re=D.floating.style;re.setProperty("--radix-popper-available-width",`${F}px`),re.setProperty("--radix-popper-available-height",`${_}px`),re.setProperty("--radix-popper-anchor-width",`${L}px`),re.setProperty("--radix-popper-anchor-height",`${X}px`)}}),j&&MT({element:j,padding:l}),WT({arrowWidth:E,arrowHeight:k}),p&&DT({strategy:"referenceHidden",...B})]}),[R,K]=mb(P),te=lt(b);nt(()=>{H&&(te==null||te())},[H,te]);const Z=(Q=C.arrow)==null?void 0:Q.x,oe=(z=C.arrow)==null?void 0:z.y,he=((de=C.arrow)==null?void 0:de.centerOffset)!==0,[ke,Re]=h.useState();return nt(()=>{y&&Re(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:H?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(ve=C.transformOrigin)==null?void 0:ve.x,(fe=C.transformOrigin)==null?void 0:fe.y].join(" "),...((ie=C.hide)==null?void 0:ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(UT,{scope:r,placedSide:R,onArrowChange:N,arrowX:Z,arrowY:oe,shouldHideArrow:he,children:a.jsx(ge.div,{"data-side":R,"data-align":K,...g,ref:w,style:{...g.style,animation:H?void 0:"none"}})})})});ub.displayName=Ym;var hb="PopperArrow",zT={top:"bottom",right:"left",bottom:"top",left:"right"},fb=h.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=BT(hb,n),i=zT[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx($T,{...s,ref:r,style:{...s.style,display:"block"}})})});fb.displayName=hb;function qT(e){return e!==null}var WT=e=>({name:"transformOrigin",options:e,fn(t){var v,y,x;const{placement:r,rects:n,middlewareData:s}=t,i=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[d,u]=mb(r),m={start:"0%",center:"50%",end:"100%"}[u],p=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,f=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let b="",g="";return d==="bottom"?(b=i?m:`${p}px`,g=`${-c}px`):d==="top"?(b=i?m:`${p}px`,g=`${n.floating.height+c}px`):d==="right"?(b=`${-c}px`,g=i?m:`${f}px`):d==="left"&&(b=`${n.floating.width+c}px`,g=i?m:`${f}px`),{data:{x:b,y:g}}}});function mb(e){const[t,r="center"]=e.split("-");return[t,r]}var pb=lb,wd=db,Qm=ub,Jm=fb,[bd,cL]=Lt("Tooltip",[Eo]),Xm=Eo(),gb="TooltipProvider",VT=700,xv="tooltip.open",[HT,vb]=bd(gb),xb=e=>{const{__scopeTooltip:t,delayDuration:r=VT,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,i=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),a.jsx(HT,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:o})};xb.displayName=gb;var yb="Tooltip",[dL,jd]=bd(yb),of="TooltipTrigger",KT=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=jd(of,r),o=vb(of,r),i=Xm(r),l=h.useRef(null),c=Se(t,l,s.onTriggerChange),d=h.useRef(!1),u=h.useRef(!1),m=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),a.jsx(wd,{asChild:!0,...i,children:a.jsx(ge.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:ae(e.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:ae(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:ae(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ae(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:ae(e.onBlur,s.onClose),onClick:ae(e.onClick,s.onClose)})})});KT.displayName=of;var GT="TooltipPortal",[uL,YT]=bd(GT,{forceMount:void 0}),po="TooltipContent",wb=h.forwardRef((e,t)=>{const r=YT(po,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=jd(po,e.__scopeTooltip);return a.jsx(Vt,{present:n||i.open,children:i.disableHoverableContent?a.jsx(bb,{side:s,...o,ref:t}):a.jsx(QT,{side:s,...o,ref:t})})}),QT=h.forwardRef((e,t)=>{const r=jd(po,e.__scopeTooltip),n=vb(po,e.__scopeTooltip),s=h.useRef(null),o=Se(t,s),[i,l]=h.useState(null),{trigger:c,onClose:d}=r,u=s.current,{onPointerInTransitChange:m}=n,p=h.useCallback(()=>{l(null),m(!1)},[m]),f=h.useCallback((b,g)=>{const v=b.currentTarget,y={x:b.clientX,y:b.clientY},x=tR(y,v.getBoundingClientRect()),w=rR(y,x),j=nR(g.getBoundingClientRect()),N=aR([...w,...j]);l(N),m(!0)},[m]);return h.useEffect(()=>()=>p(),[p]),h.useEffect(()=>{if(c&&u){const b=v=>f(v,u),g=v=>f(v,c);return c.addEventListener("pointerleave",b),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",b),u.removeEventListener("pointerleave",g)}}},[c,u,f,p]),h.useEffect(()=>{if(i){const b=g=>{const v=g.target,y={x:g.clientX,y:g.clientY},x=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),w=!sR(y,i);x?p():w&&(p(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,u,i,d,p]),a.jsx(bb,{...e,ref:o})}),[JT,XT]=bd(yb,{isInside:!1}),ZT=nw("TooltipContent"),bb=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=jd(po,r),d=Xm(r),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener(xv,u),()=>document.removeEventListener(xv,u)),[u]),h.useEffect(()=>{if(c.trigger){const m=p=>{const f=p.target;f!=null&&f.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),a.jsx(_o,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:a.jsxs(Qm,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(ZT,{children:n}),a.jsx(JT,{scope:r,isInside:!0,children:a.jsx(_C,{id:c.contentId,role:"tooltip",children:s||n})})]})})});wb.displayName=po;var jb="TooltipArrow",eR=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Xm(r);return XT(jb,r).isInside?null:a.jsx(Jm,{...s,...n,ref:t})});eR.displayName=jb;function tR(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function rR(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function nR(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function sR(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],d=l.x,u=l.y,m=c.x,p=c.y;u>n!=p>n&&r<(m-d)*(n-u)/(p-u)+d&&(s=!s)}return s}function aR(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),oR(t)}function oR(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var iR=xb,_b=wb;const lR=iR,cR=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(_b,{ref:n,sideOffset:t,className:ue("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));cR.displayName=_b.displayName;var _d=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Nd=typeof window>"u"||"Deno"in globalThis;function jr(){}function dR(e,t){return typeof e=="function"?e(t):e}function uR(e){return typeof e=="number"&&e>=0&&e!==1/0}function hR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function lf(e,t){return typeof e=="function"?e(t):e}function fR(e,t){return typeof e=="function"?e(t):e}function yv(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==Zm(i,t.options))return!1}else if(!Di(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function wv(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Ii(t.options.mutationKey)!==Ii(o))return!1}else if(!Di(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Zm(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ii)(e)}function Ii(e){return JSON.stringify(e,(t,r)=>cf(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Di(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Di(e[r],t[r])):!1}function Nb(e,t){if(e===t)return e;const r=bv(e)&&bv(t);if(r||cf(e)&&cf(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,l=r?[]:{},c=new Set(n);let d=0;for(let u=0;u<i;u++){const m=r?u:o[u];(!r&&c.has(m)||r)&&e[m]===void 0&&t[m]===void 0?(l[m]=void 0,d++):(l[m]=Nb(e[m],t[m]),l[m]===e[m]&&e[m]!==void 0&&d++)}return s===i&&d===s?e:l}return t}function bv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function cf(e){if(!jv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!jv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jv(e){return Object.prototype.toString.call(e)==="[object Object]"}function mR(e){return new Promise(t=>{setTimeout(t,e)})}function pR(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Nb(e,t):t}function gR(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function vR(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ep=Symbol();function Sb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ep?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Rs,Ln,Qa,R0,xR=(R0=class extends _d{constructor(){super();Ae(this,Rs);Ae(this,Ln);Ae(this,Qa);_e(this,Qa,t=>{if(!Nd&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){W(this,Ln)||this.setEventListener(W(this,Qa))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,Ln))==null||t.call(this),_e(this,Ln,void 0))}setEventListener(t){var r;_e(this,Qa,t),(r=W(this,Ln))==null||r.call(this),_e(this,Ln,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){W(this,Rs)!==t&&(_e(this,Rs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof W(this,Rs)=="boolean"?W(this,Rs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Rs=new WeakMap,Ln=new WeakMap,Qa=new WeakMap,R0),kb=new xR,Ja,$n,Xa,O0,yR=(O0=class extends _d{constructor(){super();Ae(this,Ja,!0);Ae(this,$n);Ae(this,Xa);_e(this,Xa,t=>{if(!Nd&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){W(this,$n)||this.setEventListener(W(this,Xa))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,$n))==null||t.call(this),_e(this,$n,void 0))}setEventListener(t){var r;_e(this,Xa,t),(r=W(this,$n))==null||r.call(this),_e(this,$n,t(this.setOnline.bind(this)))}setOnline(t){W(this,Ja)!==t&&(_e(this,Ja,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return W(this,Ja)}},Ja=new WeakMap,$n=new WeakMap,Xa=new WeakMap,O0),zc=new yR;function wR(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function bR(e){return Math.min(1e3*2**e,3e4)}function Cb(e){return(e??"online")==="online"?zc.isOnline():!0}var Eb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ou(e){return e instanceof Eb}function Pb(e){let t=!1,r=0,n=!1,s;const o=wR(),i=g=>{var v;n||(p(new Eb(g)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>kb.isFocused()&&(e.networkMode==="always"||zc.isOnline())&&e.canRun(),u=()=>Cb(e.networkMode)&&e.canRun(),m=g=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,g),s==null||s(),o.resolve(g))},p=g=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,g),s==null||s(),o.reject(g))},f=()=>new Promise(g=>{var v;s=y=>{(n||d())&&g(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),b=()=>{if(n)return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(m).catch(y=>{var S;if(n)return;const x=e.retry??(Nd?0:3),w=e.retryDelay??bR,j=typeof w=="function"?w(r,y):w,N=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(t||!N){p(y);return}r++,(S=e.onFail)==null||S.call(e,r,y),mR(j).then(()=>d()?void 0:f()).then(()=>{t?p(y):b()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?b():f().then(b),o)}}var jR=e=>setTimeout(e,0);function _R(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=jR;const o=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Ot=_R(),Os,A0,Tb=(A0=class{constructor(){Ae(this,Os)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uR(this.gcTime)&&_e(this,Os,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Nd?1/0:5*60*1e3))}clearGcTimeout(){W(this,Os)&&(clearTimeout(W(this,Os)),_e(this,Os,void 0))}},Os=new WeakMap,A0),Za,As,sr,Is,Ct,zi,Ds,Nr,Xr,I0,NR=(I0=class extends Tb{constructor(t){super();Ae(this,Nr);Ae(this,Za);Ae(this,As);Ae(this,sr);Ae(this,Is);Ae(this,Ct);Ae(this,zi);Ae(this,Ds);_e(this,Ds,!1),_e(this,zi,t.defaultOptions),this.setOptions(t.options),this.observers=[],_e(this,Is,t.client),_e(this,sr,W(this,Is).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,_e(this,Za,kR(this.options)),this.state=t.state??W(this,Za),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=W(this,Ct))==null?void 0:t.promise}setOptions(t){this.options={...W(this,zi),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,sr).remove(this)}setData(t,r){const n=pR(this.state.data,t,this.options);return Nt(this,Nr,Xr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Nt(this,Nr,Xr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=W(this,Ct))==null?void 0:n.promise;return(s=W(this,Ct))==null||s.cancel(t),r?r.then(jr).catch(jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,Za))}isActive(){return this.observers.some(t=>fR(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ep||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>lf(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!hR(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=W(this,Ct))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=W(this,Ct))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),W(this,sr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(W(this,Ct)&&(W(this,Ds)?W(this,Ct).cancel({revert:!0}):W(this,Ct).cancelRetry()),this.scheduleGc()),W(this,sr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Nt(this,Nr,Xr).call(this,{type:"invalidate"})}fetch(t,r){var d,u,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(W(this,Ct))return W(this,Ct).continueRetry(),W(this,Ct).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(f=>f.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(_e(this,Ds,!0),n.signal)})},o=()=>{const p=Sb(this.options,r),b=(()=>{const g={client:W(this,Is),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return _e(this,Ds,!1),this.options.persister?this.options.persister(p,b,this):p(b)},l=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:W(this,Is),state:this.state,fetchFn:o};return s(p),p})();(d=this.options.behavior)==null||d.onFetch(l,this),_e(this,As,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&Nt(this,Nr,Xr).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const c=p=>{var f,b,g,v;Ou(p)&&p.silent||Nt(this,Nr,Xr).call(this,{type:"error",error:p}),Ou(p)||((b=(f=W(this,sr).config).onError)==null||b.call(f,p,this),(v=(g=W(this,sr).config).onSettled)==null||v.call(g,this.state.data,p,this)),this.scheduleGc()};return _e(this,Ct,Pb({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var f,b,g,v;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(y){c(y);return}(b=(f=W(this,sr).config).onSuccess)==null||b.call(f,p,this),(v=(g=W(this,sr).config).onSettled)==null||v.call(g,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,f)=>{Nt(this,Nr,Xr).call(this,{type:"failed",failureCount:p,error:f})},onPause:()=>{Nt(this,Nr,Xr).call(this,{type:"pause"})},onContinue:()=>{Nt(this,Nr,Xr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),W(this,Ct).start()}},Za=new WeakMap,As=new WeakMap,sr=new WeakMap,Is=new WeakMap,Ct=new WeakMap,zi=new WeakMap,Ds=new WeakMap,Nr=new WeakSet,Xr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...SR(n.data,this.options),fetchMeta:t.meta??null};case"success":return _e(this,As,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Ou(s)&&s.revert&&W(this,As)?{...W(this,As),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ot.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),W(this,sr).notify({query:this,type:"updated",action:t})})},I0);function SR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Cb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function kR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Fr,D0,CR=(D0=class extends _d{constructor(t={}){super();Ae(this,Fr);this.config=t,_e(this,Fr,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??Zm(s,r);let i=this.get(o);return i||(i=new NR({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){W(this,Fr).has(t.queryHash)||(W(this,Fr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=W(this,Fr).get(t.queryHash);r&&(t.destroy(),r===t&&W(this,Fr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ot.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return W(this,Fr).get(t)}getAll(){return[...W(this,Fr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>yv(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>yv(t,n)):r}notify(t){Ot.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ot.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ot.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Fr=new WeakMap,D0),Ur,Tt,Ms,Br,Tn,M0,ER=(M0=class extends Tb{constructor(t){super();Ae(this,Br);Ae(this,Ur);Ae(this,Tt);Ae(this,Ms);this.mutationId=t.mutationId,_e(this,Tt,t.mutationCache),_e(this,Ur,[]),this.state=t.state||PR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){W(this,Ur).includes(t)||(W(this,Ur).push(t),this.clearGcTimeout(),W(this,Tt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){_e(this,Ur,W(this,Ur).filter(r=>r!==t)),this.scheduleGc(),W(this,Tt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){W(this,Ur).length||(this.state.status==="pending"?this.scheduleGc():W(this,Tt).remove(this))}continue(){var t;return((t=W(this,Ms))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,l,c,d,u,m,p,f,b,g,v,y,x,w,j,N,S,E,k;const r=()=>{Nt(this,Br,Tn).call(this,{type:"continue"})};_e(this,Ms,Pb({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,O)=>{Nt(this,Br,Tn).call(this,{type:"failed",failureCount:T,error:O})},onPause:()=>{Nt(this,Br,Tn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,Tt).canRun(this)}));const n=this.state.status==="pending",s=!W(this,Ms).canStart();try{if(n)r();else{Nt(this,Br,Tn).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=W(this,Tt).config).onMutate)==null?void 0:i.call(o,t,this));const O=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));O!==this.state.context&&Nt(this,Br,Tn).call(this,{type:"pending",context:O,variables:t,isPaused:s})}const T=await W(this,Ms).start();return await((u=(d=W(this,Tt).config).onSuccess)==null?void 0:u.call(d,T,t,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,T,t,this.state.context)),await((b=(f=W(this,Tt).config).onSettled)==null?void 0:b.call(f,T,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,T,null,t,this.state.context)),Nt(this,Br,Tn).call(this,{type:"success",data:T}),T}catch(T){try{throw await((x=(y=W(this,Tt).config).onError)==null?void 0:x.call(y,T,t,this.state.context,this)),await((j=(w=this.options).onError)==null?void 0:j.call(w,T,t,this.state.context)),await((S=(N=W(this,Tt).config).onSettled)==null?void 0:S.call(N,void 0,T,this.state.variables,this.state.context,this)),await((k=(E=this.options).onSettled)==null?void 0:k.call(E,void 0,T,t,this.state.context)),T}finally{Nt(this,Br,Tn).call(this,{type:"error",error:T})}}finally{W(this,Tt).runNext(this)}}},Ur=new WeakMap,Tt=new WeakMap,Ms=new WeakMap,Br=new WeakSet,Tn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ot.batch(()=>{W(this,Ur).forEach(n=>{n.onMutationUpdate(t)}),W(this,Tt).notify({mutation:this,type:"updated",action:t})})},M0);function PR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rn,Sr,qi,L0,TR=(L0=class extends _d{constructor(t={}){super();Ae(this,rn);Ae(this,Sr);Ae(this,qi);this.config=t,_e(this,rn,new Set),_e(this,Sr,new Map),_e(this,qi,0)}build(t,r,n){const s=new ER({mutationCache:this,mutationId:++dl(this,qi)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){W(this,rn).add(t);const r=Il(t);if(typeof r=="string"){const n=W(this,Sr).get(r);n?n.push(t):W(this,Sr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(W(this,rn).delete(t)){const r=Il(t);if(typeof r=="string"){const n=W(this,Sr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&W(this,Sr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Il(t);if(typeof r=="string"){const n=W(this,Sr).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Il(t);if(typeof r=="string"){const s=(n=W(this,Sr).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ot.batch(()=>{W(this,rn).forEach(t=>{this.notify({type:"removed",mutation:t})}),W(this,rn).clear(),W(this,Sr).clear()})}getAll(){return Array.from(W(this,rn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>wv(r,n))}findAll(t={}){return this.getAll().filter(r=>wv(t,r))}notify(t){Ot.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ot.batch(()=>Promise.all(t.map(r=>r.continue().catch(jr))))}},rn=new WeakMap,Sr=new WeakMap,qi=new WeakMap,L0);function Il(e){var t;return(t=e.options.scope)==null?void 0:t.id}function _v(e){return{onFetch:(t,r)=>{var u,m,p,f,b;const n=t.options,s=(p=(m=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:p.direction,o=((f=t.state.data)==null?void 0:f.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=Sb(t.options,t.fetchOptions),x=async(w,j,N)=>{if(g)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const E=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return v(I),I})(),k=await y(E),{maxPages:T}=t.options,O=N?vR:gR;return{pages:O(w.pages,k,T),pageParams:O(w.pageParams,j,T)}};if(s&&o.length){const w=s==="backward",j=w?RR:Nv,N={pages:o,pageParams:i},S=j(n,N);l=await x(N,S,w)}else{const w=e??o.length;do{const j=c===0?i[0]??n.initialPageParam:Nv(n,l);if(c>0&&j==null)break;l=await x(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,v;return(v=(g=t.options).persister)==null?void 0:v.call(g,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function Nv(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function RR(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Xe,Fn,Un,eo,to,Bn,ro,no,$0,OR=($0=class{constructor(e={}){Ae(this,Xe);Ae(this,Fn);Ae(this,Un);Ae(this,eo);Ae(this,to);Ae(this,Bn);Ae(this,ro);Ae(this,no);_e(this,Xe,e.queryCache||new CR),_e(this,Fn,e.mutationCache||new TR),_e(this,Un,e.defaultOptions||{}),_e(this,eo,new Map),_e(this,to,new Map),_e(this,Bn,0)}mount(){dl(this,Bn)._++,W(this,Bn)===1&&(_e(this,ro,kb.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,Xe).onFocus())})),_e(this,no,zc.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,Xe).onOnline())})))}unmount(){var e,t;dl(this,Bn)._--,W(this,Bn)===0&&((e=W(this,ro))==null||e.call(this),_e(this,ro,void 0),(t=W(this,no))==null||t.call(this),_e(this,no,void 0))}isFetching(e){return W(this,Xe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return W(this,Fn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=W(this,Xe).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=W(this,Xe).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(lf(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return W(this,Xe).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=W(this,Xe).get(n.queryHash),o=s==null?void 0:s.state.data,i=dR(t,o);if(i!==void 0)return W(this,Xe).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Ot.batch(()=>W(this,Xe).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=W(this,Xe).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=W(this,Xe);Ot.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=W(this,Xe);return Ot.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ot.batch(()=>W(this,Xe).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(jr).catch(jr)}invalidateQueries(e,t={}){return Ot.batch(()=>(W(this,Xe).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ot.batch(()=>W(this,Xe).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(jr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(jr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=W(this,Xe).build(this,t);return r.isStaleByTime(lf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(jr).catch(jr)}fetchInfiniteQuery(e){return e.behavior=_v(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(jr).catch(jr)}ensureInfiniteQueryData(e){return e.behavior=_v(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return zc.isOnline()?W(this,Fn).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,Xe)}getMutationCache(){return W(this,Fn)}getDefaultOptions(){return W(this,Un)}setDefaultOptions(e){_e(this,Un,e)}setQueryDefaults(e,t){W(this,eo).set(Ii(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...W(this,eo).values()],r={};return t.forEach(n=>{Di(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){W(this,to).set(Ii(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...W(this,to).values()],r={};return t.forEach(n=>{Di(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...W(this,Un).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Zm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ep&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...W(this,Un).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){W(this,Xe).clear(),W(this,Fn).clear()}},Xe=new WeakMap,Fn=new WeakMap,Un=new WeakMap,eo=new WeakMap,to=new WeakMap,Bn=new WeakMap,ro=new WeakMap,no=new WeakMap,$0),AR=h.createContext(void 0),IR=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(AR.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mi.apply(this,arguments)}var Wn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wn||(Wn={}));const Sv="popstate";function DR(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:l}=n.location;return df("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ob(s)}return LR(t,r,null,e)}function gt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MR(){return Math.random().toString(36).substr(2,8)}function kv(e,t){return{usr:e.state,key:e.key,idx:t}}function df(e,t,r,n){return r===void 0&&(r=null),Mi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Po(t):t,{state:r,key:t&&t.key||n||MR()})}function Ob(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Po(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function LR(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,l=Wn.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(Mi({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function m(){l=Wn.Pop;let v=u(),y=v==null?null:v-d;d=v,c&&c({action:l,location:g.location,delta:y})}function p(v,y){l=Wn.Push;let x=df(g.location,v,y);d=u()+1;let w=kv(x,d),j=g.createHref(x);try{i.pushState(w,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}o&&c&&c({action:l,location:g.location,delta:1})}function f(v,y){l=Wn.Replace;let x=df(g.location,v,y);d=u();let w=kv(x,d),j=g.createHref(x);i.replaceState(w,"",j),o&&c&&c({action:l,location:g.location,delta:0})}function b(v){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof v=="string"?v:Ob(v);return x=x.replace(/ $/,"%20"),gt(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return l},get location(){return e(s,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Sv,m),c=v,()=>{s.removeEventListener(Sv,m),c=null}},createHref(v){return t(s,v)},createURL:b,encodeLocation(v){let y=b(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:f,go(v){return i.go(v)}};return g}var Cv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cv||(Cv={}));function $R(e,t,r){return r===void 0&&(r="/"),FR(e,t,r,!1)}function FR(e,t,r,n){let s=typeof t=="string"?Po(t):t,o=Db(s.pathname||"/",r);if(o==null)return null;let i=Ab(e);UR(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=JR(o);l=YR(i[c],d,n)}return l}function Ab(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(gt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Us([n,c.relativePath]),u=r.concat(c);o.children&&o.children.length>0&&(gt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Ab(o.children,t,u,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:KR(d,o.index),routesMeta:u})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of Ib(o.path))s(o,i,c)}),t}function Ib(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=Ib(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function UR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:GR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const BR=/^:[\w-]+$/,zR=3,qR=2,WR=1,VR=10,HR=-2,Ev=e=>e==="*";function KR(e,t){let r=e.split("/"),n=r.length;return r.some(Ev)&&(n+=HR),t&&(n+=qR),r.filter(s=>!Ev(s)).reduce((s,o)=>s+(BR.test(o)?zR:o===""?WR:VR),n)}function GR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function YR(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=o==="/"?t:t.slice(o.length)||"/",m=Pv({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=Pv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(s,m.params),i.push({params:s,pathname:Us([o,m.pathname]),pathnameBase:nO(Us([o,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(o=Us([o,m.pathnameBase]))}return i}function Pv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=QR(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,u,m)=>{let{paramName:p,isOptional:f}=u;if(p==="*"){let g=l[m]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const b=l[m];return f&&!b?d[p]=void 0:d[p]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:i,pattern:e}}function QR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Rb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function JR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Rb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Db(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function XR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Po(e):e;return{pathname:r?r.startsWith("/")?r:ZR(r,t):t,search:sO(n),hash:aO(s)}}function ZR(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Au(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eO(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function tO(e,t){let r=eO(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function rO(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Po(e):(s=Mi({},e),gt(!s.pathname||!s.pathname.includes("?"),Au("?","pathname","search",s)),gt(!s.pathname||!s.pathname.includes("#"),Au("#","pathname","hash",s)),gt(!s.search||!s.search.includes("#"),Au("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=r;else{let m=t.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}l=m>=0?t[m]:"/"}let c=XR(s,l),d=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Us=e=>e.join("/").replace(/\/\/+/g,"/"),nO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,aO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Mb=["post","put","patch","delete"];new Set(Mb);const iO=["get",...Mb];new Set(iO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Li.apply(this,arguments)}const tp=h.createContext(null),lO=h.createContext(null),Sd=h.createContext(null),kd=h.createContext(null),ia=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Lb=h.createContext(null);function Cd(){return h.useContext(kd)!=null}function la(){return Cd()||gt(!1),h.useContext(kd).location}function $b(e){h.useContext(Sd).static||h.useLayoutEffect(e)}function Je(){let{isDataRoute:e}=h.useContext(ia);return e?jO():cO()}function cO(){Cd()||gt(!1);let e=h.useContext(tp),{basename:t,future:r,navigator:n}=h.useContext(Sd),{matches:s}=h.useContext(ia),{pathname:o}=la(),i=JSON.stringify(tO(s,r.v7_relativeSplatPath)),l=h.useRef(!1);return $b(()=>{l.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=rO(d,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Us([t,m.pathname])),(u.replace?n.replace:n.push)(m,u.state,u)},[t,n,i,o,e])}function dO(){let{matches:e}=h.useContext(ia),t=e[e.length-1];return t?t.params:{}}function uO(e,t){return hO(e,t)}function hO(e,t,r,n){Cd()||gt(!1);let{navigator:s}=h.useContext(Sd),{matches:o}=h.useContext(ia),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=la(),u;if(t){var m;let v=typeof t=="string"?Po(t):t;c==="/"||(m=v.pathname)!=null&&m.startsWith(c)||gt(!1),u=v}else u=d;let p=u.pathname||"/",f=p;if(c!=="/"){let v=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let b=$R(e,{pathname:f}),g=vO(b&&b.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Us([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Us([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,r,n);return t&&g?h.createElement(kd.Provider,{value:{location:Li({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wn.Pop}},g):g}function fO(){let e=bO(),t=oO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:s},r):null,null)}const mO=h.createElement(fO,null);class pO extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(ia.Provider,{value:this.props.routeContext},h.createElement(Lb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gO(e){let{routeContext:t,match:r,children:n}=e,s=h.useContext(tp);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(ia.Provider,{value:t},n)}function vO(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let u=i.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||gt(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let m=i[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:p,errors:f}=r,b=m.route.loader&&p[m.route.id]===void 0&&(!f||f[m.route.id]===void 0);if(m.route.lazy||b){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,m,p)=>{let f,b=!1,g=null,v=null;r&&(f=l&&m.route.id?l[m.route.id]:void 0,g=m.route.errorElement||mO,c&&(d<0&&p===0?(b=!0,v=null):d===p&&(b=!0,v=m.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,p+1)),x=()=>{let w;return f?w=g:b?w=v:m.route.Component?w=h.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=u,h.createElement(gO,{match:m,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:w})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?h.createElement(pO,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var Fb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Fb||{}),qc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qc||{});function xO(e){let t=h.useContext(tp);return t||gt(!1),t}function yO(e){let t=h.useContext(lO);return t||gt(!1),t}function wO(e){let t=h.useContext(ia);return t||gt(!1),t}function Ub(e){let t=wO(),r=t.matches[t.matches.length-1];return r.route.id||gt(!1),r.route.id}function bO(){var e;let t=h.useContext(Lb),r=yO(qc.UseRouteError),n=Ub(qc.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function jO(){let{router:e}=xO(Fb.UseNavigateStable),t=Ub(qc.UseNavigateStable),r=h.useRef(!1);return $b(()=>{r.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Li({fromRouteId:t},o)))},[e,t])}function _O(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function dt(e){gt(!1)}function NO(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Wn.Pop,navigator:o,static:i=!1,future:l}=e;Cd()&&gt(!1);let c=t.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:o,static:i,future:Li({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=Po(n));let{pathname:u="/",search:m="",hash:p="",state:f=null,key:b="default"}=n,g=h.useMemo(()=>{let v=Db(u,c);return v==null?null:{location:{pathname:v,search:m,hash:p,state:f,key:b},navigationType:s}},[c,u,m,p,f,b,s]);return g==null?null:h.createElement(Sd.Provider,{value:d},h.createElement(kd.Provider,{children:r,value:g}))}function SO(e){let{children:t,location:r}=e;return uO(uf(t),r)}new Promise(()=>{});function uf(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,s)=>{if(!h.isValidElement(n))return;let o=[...t,s];if(n.type===h.Fragment){r.push.apply(r,uf(n.props.children,o));return}n.type!==dt&&gt(!1),!n.props.index||!n.props.children||gt(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=uf(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hf(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function kO(e,t){let r=hf(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const CO="6";try{window.__reactRouterVersion=CO}catch{}const EO="startTransition",Tv=$f[EO];function PO(e){let{basename:t,children:r,future:n,window:s}=e,o=h.useRef();o.current==null&&(o.current=DR({window:s,v5Compat:!0}));let i=o.current,[l,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},u=h.useCallback(m=>{d&&Tv?Tv(()=>c(m)):c(m)},[c,d]);return h.useLayoutEffect(()=>i.listen(u),[i,u]),h.useEffect(()=>_O(n),[n]),h.createElement(NO,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}var Rv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Rv||(Rv={}));var Ov;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ov||(Ov={}));function Bb(e){let t=h.useRef(hf(e)),r=h.useRef(!1),n=la(),s=h.useMemo(()=>kO(n.search,r.current?null:t.current),[n.search]),o=Je(),i=h.useCallback((l,c)=>{const d=hf(typeof l=="function"?l(s):l);r.current=!0,o("?"+d,c)},[o,s]);return[s,i]}var ff=function(e,t){return ff=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},ff(e,t)};function zb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ff(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ir=function(){return ir=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ir.apply(this,arguments)};function us(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function qb(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function Wb(e,t){return function(r,n){t(r,n,e)}}function Vb(e,t,r,n,s,o){function i(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),m,p=!1,f=r.length-1;f>=0;f--){var b={};for(var g in n)b[g]=g==="access"?{}:n[g];for(var g in n.access)b.access[g]=n.access[g];b.addInitializer=function(y){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(y||null))};var v=(0,r[f])(l==="accessor"?{get:u.get,set:u.set}:u[c],b);if(l==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(m=i(v.get))&&(u.get=m),(m=i(v.set))&&(u.set=m),(m=i(v.init))&&s.unshift(m)}else(m=i(v))&&(l==="field"?s.unshift(m):u[c]=m)}d&&Object.defineProperty(d,n.name,u),p=!0}function Hb(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function Kb(e){return typeof e=="symbol"?e:"".concat(e)}function Gb(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Yb(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function me(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(m){i(m)}}function c(u){try{d(n.throw(u))}catch(m){i(m)}}function d(u){u.done?o(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})}function Qb(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(u){d=[6,u],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Ed=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function Jb(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ed(t,e,r)}function Wc(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function rp(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],i;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(l){i={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function Xb(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(rp(arguments[t]));return e}function Zb(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],i=0,l=o.length;i<l;i++,s++)n[s]=o[i];return n}function np(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function go(e){return this instanceof go?(this.v=e,this):new go(e)}function e1(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(f){return function(b){return Promise.resolve(b).then(f,m)}}function l(f,b){n[f]&&(s[f]=function(g){return new Promise(function(v,y){o.push([f,g,v,y])>1||c(f,g)})},b&&(s[f]=b(s[f])))}function c(f,b){try{d(n[f](b))}catch(g){p(o[0][3],g)}}function d(f){f.value instanceof go?Promise.resolve(f.value.v).then(u,m):p(o[0][2],f)}function u(f){c("next",f)}function m(f){c("throw",f)}function p(f,b){f(b),o.shift(),o.length&&c(o[0][0],o[0][1])}}function t1(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,o){t[s]=e[s]?function(i){return(r=!r)?{value:go(e[s](i)),done:!1}:o?o(i):i}:o}}function r1(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Wc=="function"?Wc(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(i){return new Promise(function(l,c){i=e[o](i),s(l,c,i.done,i.value)})}}function s(o,i,l,c){Promise.resolve(c).then(function(d){o({value:d,done:l})},i)}}function n1(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var TO=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},mf=function(e){return mf=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},mf(e)};function s1(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=mf(e),n=0;n<r.length;n++)r[n]!=="default"&&Ed(t,e,r[n]);return TO(t,e),t}function a1(e){return e&&e.__esModule?e:{default:e}}function o1(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function i1(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function l1(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function c1(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var RO=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function d1(e){function t(o){e.error=e.hasError?new RO(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(i){return t(i),s()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function u1(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,i){return n?t?".jsx":".js":s&&(!o||!i)?r:s+o+"."+i.toLowerCase()+"js"}):e}const OO={__extends:zb,__assign:ir,__rest:us,__decorate:qb,__param:Wb,__esDecorate:Vb,__runInitializers:Hb,__propKey:Kb,__setFunctionName:Gb,__metadata:Yb,__awaiter:me,__generator:Qb,__createBinding:Ed,__exportStar:Jb,__values:Wc,__read:rp,__spread:Xb,__spreadArrays:Zb,__spreadArray:np,__await:go,__asyncGenerator:e1,__asyncDelegator:t1,__asyncValues:r1,__makeTemplateObject:n1,__importStar:s1,__importDefault:a1,__classPrivateFieldGet:o1,__classPrivateFieldSet:i1,__classPrivateFieldIn:l1,__addDisposableResource:c1,__disposeResources:d1,__rewriteRelativeImportExtension:u1},AO=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:c1,get __assign(){return ir},__asyncDelegator:t1,__asyncGenerator:e1,__asyncValues:r1,__await:go,__awaiter:me,__classPrivateFieldGet:o1,__classPrivateFieldIn:l1,__classPrivateFieldSet:i1,__createBinding:Ed,__decorate:qb,__disposeResources:d1,__esDecorate:Vb,__exportStar:Jb,__extends:zb,__generator:Qb,__importDefault:a1,__importStar:s1,__makeTemplateObject:n1,__metadata:Yb,__param:Wb,__propKey:Kb,__read:rp,__rest:us,__rewriteRelativeImportExtension:u1,__runInitializers:Hb,__setFunctionName:Gb,__spread:Xb,__spreadArray:np,__spreadArrays:Zb,__values:Wc,default:OO},Symbol.toStringTag,{value:"Module"})),IO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class sp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class DO extends sp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Av extends sp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Iv extends sp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(pf||(pf={}));class MO{constructor(t,{headers:r={},customFetch:n,region:s=pf.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=IO(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return me(this,arguments,void 0,function*(r,n={}){var s;let o,i;try{const{headers:l,method:c,body:d,signal:u,timeout:m}=n;let p={},{region:f}=n;f||(f=this.region);const b=new URL(`${this.url}/${r}`);f&&f!=="any"&&(p["x-region"]=f,b.searchParams.set("forceFunctionRegion",f));let g;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=d):typeof d=="string"?(p["Content-Type"]="text/plain",g=d):typeof FormData<"u"&&d instanceof FormData?g=d:(p["Content-Type"]="application/json",g=JSON.stringify(d)):g=d;let v=u;m&&(i=new AbortController,o=setTimeout(()=>i.abort(),m),u?(v=i.signal,u.addEventListener("abort",()=>i.abort())):v=i.signal);const y=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:g,signal:v}).catch(N=>{throw new DO(N)}),x=y.headers.get("x-relay-error");if(x&&x==="true")throw new Av(y);if(!y.ok)throw new Iv(y);let w=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return w==="application/json"?j=yield y.json():w==="application/octet-stream"||w==="application/pdf"?j=yield y.blob():w==="text/event-stream"?j=y:w==="multipart/form-data"?j=yield y.formData():j=yield y.text(),{data:j,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof Iv||l instanceof Av?l.context:void 0}}finally{o&&clearTimeout(o)}})}}var At={};const To=wS(AO);var Dl={},Ml={},Ll={},$l={},Fl={},Ul={},Dv;function h1(){if(Dv)return Ul;Dv=1,Object.defineProperty(Ul,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ul.default=e,Ul}var Mv;function f1(){if(Mv)return Fl;Mv=1,Object.defineProperty(Fl,"__esModule",{value:!0});const t=To.__importDefault(h1());class r{constructor(s){var o,i;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(i=s.isMaybeSingle)!==null&&i!==void 0?i:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let l=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,u,m,p;let f=null,b=null,g=null,v=c.status,y=c.statusText;if(c.ok){if(this.method!=="HEAD"){const N=await c.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?b=N:b=JSON.parse(N))}const w=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),j=(m=c.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");w&&j&&j.length>1&&(g=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(f={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,g=null,v=406,y="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const w=await c.text();try{f=JSON.parse(w),Array.isArray(f)&&c.status===404&&(b=[],f=null,v=200,y="OK")}catch{c.status===404&&w===""?(v=204,y="No Content"):f={message:w}}if(f&&this.isMaybeSingle&&(!((p=f==null?void 0:f.details)===null||p===void 0)&&p.includes("0 rows"))&&(f=null,v=200,y="OK"),f&&this.shouldThrowOnError)throw new t.default(f)}return{error:f,data:b,count:g,status:v,statusText:y}});return this.shouldThrowOnError||(l=l.catch(c=>{var d,u,m,p,f,b;let g="";const v=c==null?void 0:c.cause;if(v){const y=(d=v==null?void 0:v.message)!==null&&d!==void 0?d:"",x=(u=v==null?void 0:v.code)!==null&&u!==void 0?u:"";g=`${(m=c==null?void 0:c.name)!==null&&m!==void 0?m:"FetchError"}: ${c==null?void 0:c.message}`,g+=`

Caused by: ${(p=v==null?void 0:v.name)!==null&&p!==void 0?p:"Error"}: ${y}`,x&&(g+=` (${x})`),v!=null&&v.stack&&(g+=`
${v.stack}`)}else g=(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:"";return{error:{message:`${(b=c==null?void 0:c.name)!==null&&b!==void 0?b:"FetchError"}: ${c==null?void 0:c.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,o)}returns(){return this}overrideTypes(){return this}}return Fl.default=r,Fl}var Lv;function m1(){if(Lv)return $l;Lv=1,Object.defineProperty($l,"__esModule",{value:!0});const t=To.__importDefault(f1());class r extends t.default{select(s){let o=!1;const i=(s??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:i,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",u=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${u?`${u},`:""}${s}.${o?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:i=o}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,o,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(d,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:i=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var u;const m=[s?"analyze":null,o?"verbose":null,i?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return $l.default=r,$l}var $v;function ap(){if($v)return Ll;$v=1,Object.defineProperty(Ll,"__esModule",{value:!0});const t=To.__importDefault(m1()),r=new RegExp("[,()]");class n extends t.default{eq(o,i){return this.url.searchParams.append(o,`eq.${i}`),this}neq(o,i){return this.url.searchParams.append(o,`neq.${i}`),this}gt(o,i){return this.url.searchParams.append(o,`gt.${i}`),this}gte(o,i){return this.url.searchParams.append(o,`gte.${i}`),this}lt(o,i){return this.url.searchParams.append(o,`lt.${i}`),this}lte(o,i){return this.url.searchParams.append(o,`lte.${i}`),this}like(o,i){return this.url.searchParams.append(o,`like.${i}`),this}likeAllOf(o,i){return this.url.searchParams.append(o,`like(all).{${i.join(",")}}`),this}likeAnyOf(o,i){return this.url.searchParams.append(o,`like(any).{${i.join(",")}}`),this}ilike(o,i){return this.url.searchParams.append(o,`ilike.${i}`),this}ilikeAllOf(o,i){return this.url.searchParams.append(o,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(o,i){return this.url.searchParams.append(o,`ilike(any).{${i.join(",")}}`),this}regexMatch(o,i){return this.url.searchParams.append(o,`match.${i}`),this}regexIMatch(o,i){return this.url.searchParams.append(o,`imatch.${i}`),this}is(o,i){return this.url.searchParams.append(o,`is.${i}`),this}isDistinct(o,i){return this.url.searchParams.append(o,`isdistinct.${i}`),this}in(o,i){const l=Array.from(new Set(i)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(o,`in.(${l})`),this}contains(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cs.{${i.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(i)}`),this}containedBy(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cd.{${i.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(i)}`),this}rangeGt(o,i){return this.url.searchParams.append(o,`sr.${i}`),this}rangeGte(o,i){return this.url.searchParams.append(o,`nxl.${i}`),this}rangeLt(o,i){return this.url.searchParams.append(o,`sl.${i}`),this}rangeLte(o,i){return this.url.searchParams.append(o,`nxr.${i}`),this}rangeAdjacent(o,i){return this.url.searchParams.append(o,`adj.${i}`),this}overlaps(o,i){return typeof i=="string"?this.url.searchParams.append(o,`ov.${i}`):this.url.searchParams.append(o,`ov.{${i.join(",")}}`),this}textSearch(o,i,{config:l,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const u=l===void 0?"":`(${l})`;return this.url.searchParams.append(o,`${d}fts${u}.${i}`),this}match(o){return Object.entries(o).forEach(([i,l])=>{this.url.searchParams.append(i,`eq.${l}`)}),this}not(o,i,l){return this.url.searchParams.append(o,`not.${i}.${l}`),this}or(o,{foreignTable:i,referencedTable:l=i}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${o})`),this}filter(o,i,l){return this.url.searchParams.append(o,`${i}.${l}`),this}}return Ll.default=n,Ll}var Fv;function p1(){if(Fv)return Ml;Fv=1,Object.defineProperty(Ml,"__esModule",{value:!0});const t=To.__importDefault(ap());class r{constructor(s,{headers:o={},schema:i,fetch:l}){this.url=s,this.headers=new Headers(o),this.schema=i,this.fetch=l}select(s,o){const{head:i=!1,count:l}=o??{},c=i?"HEAD":"GET";let d=!1;const u=(s??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",u),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:i=!0}={}){var l;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((u,m)=>u.concat(Object.keys(m)),[]);if(d.length>0){const u=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:i=!1,count:l,defaultToNull:c=!0}={}){var d;const u="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((p,f)=>p.concat(Object.keys(f)),[]);if(m.length>0){const p=[...new Set(m)].map(f=>`"${f}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:o}={}){var i;const l="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var o;const i="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Ml.default=r,Ml}var Uv;function LO(){if(Uv)return Dl;Uv=1,Object.defineProperty(Dl,"__esModule",{value:!0});const e=To,t=e.__importDefault(p1()),r=e.__importDefault(ap());class n{constructor(o,{headers:i={},schema:l,fetch:c}={}){this.url=o,this.headers=new Headers(i),this.schemaName=l,this.fetch=c}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const i=new URL(`${this.url}/${o}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,i={},{head:l=!1,get:c=!1,count:d}={}){var u;let m;const p=new URL(`${this.url}/rpc/${o}`);let f;l||c?(m=l?"HEAD":"GET",Object.entries(i).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{p.searchParams.append(g,v)})):(m="POST",f=i);const b=new Headers(this.headers);return d&&b.set("Prefer",`count=${d}`),new r.default({method:m,url:p,headers:b,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Dl.default=n,Dl}Object.defineProperty(At,"__esModule",{value:!0});var g1=At.PostgrestError=k1=At.PostgrestBuilder=N1=At.PostgrestTransformBuilder=j1=At.PostgrestFilterBuilder=w1=At.PostgrestQueryBuilder=x1=At.PostgrestClient=void 0;const Ro=To,v1=Ro.__importDefault(LO());var x1=At.PostgrestClient=v1.default;const y1=Ro.__importDefault(p1());var w1=At.PostgrestQueryBuilder=y1.default;const b1=Ro.__importDefault(ap());var j1=At.PostgrestFilterBuilder=b1.default;const _1=Ro.__importDefault(m1());var N1=At.PostgrestTransformBuilder=_1.default;const S1=Ro.__importDefault(f1());var k1=At.PostgrestBuilder=S1.default;const C1=Ro.__importDefault(h1());g1=At.PostgrestError=C1.default;var E1=At.default={PostgrestClient:v1.default,PostgrestQueryBuilder:y1.default,PostgrestFilterBuilder:b1.default,PostgrestTransformBuilder:_1.default,PostgrestBuilder:S1.default,PostgrestError:C1.default};const $O=F0({__proto__:null,get PostgrestBuilder(){return k1},get PostgrestClient(){return x1},get PostgrestError(){return g1},get PostgrestFilterBuilder(){return j1},get PostgrestQueryBuilder(){return w1},get PostgrestTransformBuilder(){return N1},default:E1},[At]),{PostgrestClient:FO,PostgrestQueryBuilder:hL,PostgrestFilterBuilder:fL,PostgrestTransformBuilder:mL,PostgrestBuilder:pL,PostgrestError:gL}=E1||$O;class UO{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const BO="2.84.0",zO=`realtime-js/${BO}`,P1="1.0.0",qO="2.0.0",Bv=P1,gf=1e4,WO=1e3,VO=100;var Ns;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ns||(Ns={}));var ut;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ut||(ut={}));var Cr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Cr||(Cr={}));var vf;(function(e){e.websocket="websocket"})(vf||(vf={}));var Ss;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ss||(Ss={}));class HO{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n,s,o;const i=t.topic,l=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",d=t.payload.event,u=(o=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+i.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+m);let f=new DataView(p),b=0;f.setUint8(b++,this.KINDS.userBroadcastPush),f.setUint8(b++,c.length),f.setUint8(b++,l.length),f.setUint8(b++,i.length),f.setUint8(b++,d.length),f.setUint8(b++,this.BINARY_ENCODING),Array.from(c,v=>f.setUint8(b++,v.charCodeAt(0))),Array.from(l,v=>f.setUint8(b++,v.charCodeAt(0))),Array.from(i,v=>f.setUint8(b++,v.charCodeAt(0))),Array.from(d,v=>f.setUint8(b++,v.charCodeAt(0)));var g=new Uint8Array(p.byteLength+u.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(u),p.byteLength),g.buffer}_encodeJsonUserBroadcastPush(t){var r,n,s,o;const i=t.topic,l=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",d=t.payload.event,u=(o=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:{},p=new TextEncoder().encode(JSON.stringify(u)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+i.length+d.length,b=new ArrayBuffer(this.HEADER_LENGTH+f);let g=new DataView(b),v=0;g.setUint8(v++,this.KINDS.userBroadcastPush),g.setUint8(v++,c.length),g.setUint8(v++,l.length),g.setUint8(v++,i.length),g.setUint8(v++,d.length),g.setUint8(v++,this.JSON_ENCODING),Array.from(c,x=>g.setUint8(v++,x.charCodeAt(0))),Array.from(l,x=>g.setUint8(v++,x.charCodeAt(0))),Array.from(i,x=>g.setUint8(v++,x.charCodeAt(0))),Array.from(d,x=>g.setUint8(v++,x.charCodeAt(0)));var y=new Uint8Array(b.byteLength+p.byteLength);return y.set(new Uint8Array(b),0),y.set(new Uint8Array(p),b.byteLength),y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,o,i,l,c]=n;return r({join_ref:s,ref:o,topic:i,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2),i=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const d=n.decode(t.slice(c,c+s));c=c+s;const u=n.decode(t.slice(c,c+o));c=c+o;const m=n.decode(t.slice(c,c+i));c=c+i;const p=t.slice(c,t.byteLength),f=l===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,b={type:this.BROADCAST_EVENT,event:u,payload:f};return i>0&&(b.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class T1{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Le||(Le={}));const zv=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=KO(i,e,t,s),o),{}):{}},KO=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?R1(o,i):xf(i)},R1=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return JO(t,r)}switch(e){case Le.bool:return GO(t);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return YO(t);case Le.json:case Le.jsonb:return QO(t);case Le.timestamp:return XO(t);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return xf(t);default:return xf(t)}},xf=e=>e,GO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},YO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},QO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},JO=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>R1(t,l))}return e},XO=e=>typeof e=="string"?e.replace(" ","T"):e,O1=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Iu{constructor(t,r,n={},s=gf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var qv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(qv||(qv={}));class di{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=di.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=di.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=di.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(o,(d,u)=>{i[d]||(c[d]=u)}),this.map(i,(d,u)=>{const m=o[d];if(m){const p=u.map(v=>v.presence_ref),f=m.map(v=>v.presence_ref),b=u.filter(v=>f.indexOf(v.presence_ref)<0),g=m.filter(v=>p.indexOf(v.presence_ref)<0);b.length>0&&(l[d]=b),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const m=t[l].map(f=>f.presence_ref),p=u.filter(f=>m.indexOf(f.presence_ref)<0);t[l].unshift(...p)}n(l,u,c)}),this.map(i,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(m=>m.presence_ref);d=d.filter(m=>u.indexOf(m.presence_ref)<0),t[l]=d,s(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Wv||(Wv={}));var ui;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ui||(ui={}));var en;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(en||(en={}));class op{constructor(t,r={config:{}},n){var s,o;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Iu(this,Cr.join,this.params,this.timeout),this.rejoinTimer=new T1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cr.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new di(this),this.broadcastEndpointURL=O1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[ui.PRESENCE]&&this.bindings[ui.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},p={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(en.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(en.CLOSED)),this.updateJoinPayload(Object.assign({config:p},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var b;if(this.socket.setAuth(),f===void 0){t==null||t(en.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(b=g==null?void 0:g.length)!==null&&b!==void 0?b:0,y=[];for(let x=0;x<v;x++){const w=g[x],{filter:{event:j,schema:N,table:S,filter:E}}=w,k=f&&f[x];if(k&&k.event===j&&k.schema===N&&k.table===S&&k.filter===E)y.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=ut.errored,t==null||t(en.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(en.SUBSCRIBED);return}}).receive("error",f=>{this.state=ut.errored,t==null||t(en.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(en.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ut.joined&&t===ui.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ut.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Iu(this,Cr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ut.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Iu(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>VO){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Cr;if(n&&[l,c,d,u].indexOf(i)>=0&&n!==this._joinRef())return;let p=this._onMessage(i,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var b,g,v;return((b=f.filter)===null||b===void 0?void 0:b.event)==="*"||((v=(g=f.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(f=>f.callback(p,n)):(o=this.bindings[i])===null||o===void 0||o.filter(f=>{var b,g,v,y,x,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in f){const j=f.id,N=(b=f.filter)===null||b===void 0?void 0:b.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(x=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===i}).map(f=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:g,table:v,commit_timestamp:y,type:x,errors:w}=b;p=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:y,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(b))}f.callback(p,n)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&op.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Cr.close,{},t)}_onError(t){this._on(Cr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=zv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=zv(t.columns,t.old_record)),r}}const Du=()=>{},Bl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ZO=[1e3,2e3,5e3,1e4],eA=1e4,tA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rA{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gf,this.transport=null,this.heartbeatIntervalMs=Bl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Du,this.ref=0,this.reconnectTimer=null,this.vsn=Bv,this.logger=Du,this.conn=null,this.sendBuffer=[],this.serializer=new HO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${vf.websocket}`,this.httpEndpoint=O1(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=UO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ns.connecting:return Ss.Connecting;case Ns.open:return Ss.Open;case Ns.closing:return Ss.Closing;default:return Ss.Closed}}isConnected(){return this.connectionState()===Ss.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new op(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(WO,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Bl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,l=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),o),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ns.open||this.conn.readyState===Ns.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Cr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([tA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:zO};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Cr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new T1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,i,l,c,d,u,m,p,f;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:gf,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Bl.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Du,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Bv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:b=>ZO[b-1]||eA,this.vsn){case P1:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(b,g)=>g(JSON.stringify(b)),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:(b,g)=>g(JSON.parse(b));break;case qO:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class ip extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function He(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class nA extends ip{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yf extends ip{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const lp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),sA=()=>Response,wf=e=>{if(Array.isArray(e))return e.map(r=>wf(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=wf(n)}),t},aA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Mu=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},oA=(e,t,r)=>me(void 0,void 0,void 0,function*(){const n=yield sA();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const o=e.status||500,i=(s==null?void 0:s.statusCode)||o+"";t(new nA(Mu(s),o,i))}).catch(s=>{t(new yf(Mu(s),s))}):t(new yf(Mu(e),e))}),iA=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(aA(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function tl(e,t,r,n,s,o){return me(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,iA(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>oA(c,l,n))})})}function $i(e,t,r,n){return me(this,void 0,void 0,function*(){return tl(e,"GET",t,r,n)})}function _r(e,t,r,n,s){return me(this,void 0,void 0,function*(){return tl(e,"POST",t,n,s,r)})}function bf(e,t,r,n,s){return me(this,void 0,void 0,function*(){return tl(e,"PUT",t,n,s,r)})}function lA(e,t,r,n){return me(this,void 0,void 0,function*(){return tl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function cp(e,t,r,n,s){return me(this,void 0,void 0,function*(){return tl(e,"DELETE",t,n,s,r)})}class cA{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return me(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(He(t))return{data:null,error:t};throw t}})}}var A1;class dA{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[A1]="BlobDownloadBuilder",this.promise=null}asStream(){return new cA(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return me(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(He(t))return{data:null,error:t};throw t}})}}A1=Symbol.toStringTag;const uA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hA{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=lp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return me(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Vv),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),m=yield(t=="PUT"?bf:_r)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}upload(t,r,n){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return me(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:Vv.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const m=yield bf(this.fetch,l.toString(),c,{headers:u});return{data:{path:o,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(He(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return me(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield _r(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new ip("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}update(t,r,n){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return me(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}copy(t,r,n){return me(this,void 0,void 0,function*(){try{return{data:{path:(yield _r(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return me(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield _r(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return me(this,void 0,void 0,function*(){try{const s=yield _r(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"",l=this._getFinalPath(t),c=()=>$i(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new dA(c,this.shouldThrowOnError)}info(t){return me(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield $i(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:wf(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}exists(t){return me(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield lA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n)&&n instanceof yf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return me(this,void 0,void 0,function*(){try{return{data:yield cp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}list(t,r,n){return me(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},uA),r),{prefix:t||""});return{data:yield _r(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}listV2(t,r){return me(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield _r(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const I1="2.84.0",D1={"X-Client-Info":`storage-js/${I1}`};class fA{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},D1),r),this.fetch=lp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return me(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield $i(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}getBucket(t){return me(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}createBucket(t){return me(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield _r(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return me(this,void 0,void 0,function*(){try{return{data:yield bf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}emptyBucket(t){return me(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteBucket(t){return me(this,void 0,void 0,function*(){try{return{data:yield cp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class mA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},D1),r),this.fetch=lp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return me(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}listBuckets(t){return me(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield $i(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteBucket(t){return me(this,void 0,void 0,function*(){try{return{data:yield cp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}}const dp={"X-Client-Info":`storage-js/${I1}`,"Content-Type":"application/json"};class M1 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Qt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Lu extends M1{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pA extends M1{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Hv;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Hv||(Hv={}));const up=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Kv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vA=(e,t,r)=>me(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,o=e;if(typeof o.json=="function")o.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new Lu(Kv(i),s,l))}).catch(()=>{const i=s+"",l=o.statusText||`HTTP ${s} error`;t(new Lu(l,s,i))});else{const i=s+"",l=o.statusText||`HTTP ${s} error`;t(new Lu(l,s,i))}}else t(new pA(Kv(e),e))}),xA=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(gA(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function yA(e,t,r,n,s,o){return me(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,xA(t,n,s,o)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>vA(c,l,n))})})}function Jt(e,t,r,n,s){return me(this,void 0,void 0,function*(){return yA(e,"POST",t,n,s,r)})}class wA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dp),r),this.fetch=up(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return me(this,void 0,void 0,function*(){try{return{data:(yield Jt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}getIndex(t,r){return me(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}})}listIndexes(t){return me(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return me(this,void 0,void 0,function*(){try{return{data:(yield Jt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}})}}class bA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dp),r),this.fetch=up(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return me(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Jt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}getVectors(t){return me(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}listVectors(t){return me(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Jt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}queryVectors(t){return me(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}deleteVectors(t){return me(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Jt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}}class jA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dp),r),this.fetch=up(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return me(this,void 0,void 0,function*(){try{return{data:(yield Jt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}getBucket(t){return me(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}listBuckets(){return me(this,arguments,void 0,function*(t={}){try{return{data:yield Jt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return me(this,void 0,void 0,function*(){try{return{data:(yield Jt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}}class _A extends jA{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new NA(this.url,this.headers,t,this.fetch)}}class NA extends wA{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return me(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return me(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return me(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return me(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new SA(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class SA extends bA{constructor(t,r,n,s,o){super(t,r,o),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return me(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return me(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return me(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return me(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return me(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class kA extends fA{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new hA(this.url,this.headers,t,this.fetch)}get vectors(){return new _A(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mA(this.url+"/iceberg",this.headers,this.fetch)}}const CA="2.84.0";let Xo="";typeof Deno<"u"?Xo="deno":typeof document<"u"?Xo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xo="react-native":Xo="node";const EA={"X-Client-Info":`supabase-js-${Xo}/${CA}`},PA={headers:EA},TA={schema:"public"},RA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},OA={},AA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),IA=()=>Headers,DA=(e,t,r)=>{const n=AA(r),s=IA();return async(o,i)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let d=new s(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:d}))}};function MA(e){return e.endsWith("/")?e:e+"/"}function LA(e,t){var r,n;const{db:s,auth:o,realtime:i,global:l}=e,{db:c,auth:d,realtime:u,global:m}=t,p={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function $A(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(MA(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const L1="2.84.0",ba=30*1e3,jf=3,$u=jf*ba,FA="http://localhost:9999",UA="supabase.auth.token",BA={"X-Client-Info":`gotrue-js/${L1}`},_f="X-Supabase-Api-Version",$1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qA=10*60*1e3;class Fi extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class WA extends Fi{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function VA(e){return pe(e)&&e.name==="AuthApiError"}class ks extends Fi{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class hs extends Fi{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Kt extends hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function HA(e){return pe(e)&&e.name==="AuthSessionMissingError"}class ha extends hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zl extends hs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ql extends hs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function KA(e){return pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Gv extends hs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nf extends hs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Fu(e){return pe(e)&&e.name==="AuthRetryableFetchError"}class Yv extends hs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Sf extends hs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qv=` 	
\r=`.split(""),GA=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Qv.length;t+=1)e[Qv[t].charCodeAt(0)]=-2;for(let t=0;t<Vc.length;t+=1)e[Vc[t].charCodeAt(0)]=t;return e})();function Jv(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vc[n]),t.queuedBits-=6}}function F1(e,t,r){const n=GA[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Xv(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{JA(i,n,r)};for(let i=0;i<e.length;i+=1)F1(e.charCodeAt(i),s,o);return t.join("")}function YA(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function QA(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}YA(n,t)}}function JA(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ka(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)F1(e.charCodeAt(s),r,n);return new Uint8Array(t)}function XA(e){const t=[];return QA(e,r=>t.push(r)),new Uint8Array(t)}function Ts(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Jv(s,r,n)),Jv(null,r,n),t.join("")}function ZA(e){return Math.round(Date.now()/1e3)+e}function e4(){return Symbol("auth-callback")}const wt=()=>typeof window<"u"&&typeof document<"u",xs={tested:!1,writable:!1},U1=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xs.tested)return xs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),xs.tested=!0,xs.writable=!0}catch{xs.tested=!0,xs.writable=!1}return xs.writable};function t4(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const B1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),r4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ja=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ys=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},En=async(e,t)=>{await e.removeItem(t)};class Pd{constructor(){this.promise=new Pd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Pd.promiseConstructor=Promise;function Uu(e){const t=e.split(".");if(t.length!==3)throw new Sf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!zA.test(t[n]))throw new Sf("JWT not in base64url format");return{header:JSON.parse(Xv(t[0])),payload:JSON.parse(Xv(t[1])),signature:Ka(t[2]),raw:{header:t[0],payload:t[1]}}}async function n4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function s4(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function a4(e){return("0"+e.toString(16)).substr(-2)}function o4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,a4).join("")}async function i4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function l4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await i4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fa(e,t,r=!1){const n=o4();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ja(e,`${t}-code-verifier`,s);const o=await l4(n);return[o,n===o?"plain":"s256"]}const c4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function d4(e){const t=e.headers.get(_f);if(!t||!t.match(c4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function u4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function h4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const f4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ma(e){if(!f4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bu(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function m4(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Zv(e){return JSON.parse(JSON.stringify(e))}const js=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),p4=[502,503,504];async function e0(e){var t;if(!r4(e))throw new Nf(js(e),0);if(p4.includes(e.status))throw new Nf(js(e),e.status);let r;try{r=await e.json()}catch(o){throw new ks(js(o),o)}let n;const s=d4(e);if(s&&s.getTime()>=$1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Yv(js(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Kt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Yv(js(r),e.status,r.weak_password.reasons);throw new WA(js(r),e.status||500,n)}const g4=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function we(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[_f]||(o[_f]=$1["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await v4(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function v4(e,t,r,n,s,o){const i=g4(t,n,s,o);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new Nf(js(c),0)}if(l.ok||await e0(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await e0(c)}}function yr(e){var t;let r=null;w4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=ZA(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function t0(e){const t=yr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Mn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function x4(e){return{data:e,error:null}}function y4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=us(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function r0(e){return e}function w4(e){return e.access_token&&e.refresh_token&&e.expires_in}const zu=["global","local","others"];class b4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=B1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=zu[0]){if(zu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zu.join(", ")}`);try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Mn})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=us(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:y4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(pe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mn})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:r0});if(u.error)throw u.error;const m=await u.json(),p=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(b.split(";")[1].split("=")[1]);d[`${v}Page`]=g}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(pe(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){ma(t);try{return await we(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mn})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ma(t);try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Mn})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ma(t);try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Mn})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ma(t.userId);try{const{data:r,error:n}=await we(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ma(t.userId),ma(t.id);try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,o,i,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await we(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:r0});if(u.error)throw u.error;const m=await u.json(),p=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(b.split(";")[1].split("=")[1]);d[`${v}Page`]=g}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(pe(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await we(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await we(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await we(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}}function n0(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const pa={debug:!!(globalThis&&U1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class z1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class j4 extends z1{}async function _4(e,t,r){pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),pa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new j4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(pa.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function N4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function q1(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function S4(e){return parseInt(e,16)}function k4(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function C4(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:l,requestId:c,resources:d,scheme:u,uri:m,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=q1(e.address),b=u?`${u}://${n}`:n,g=e.statement?`${e.statement}
`:"",v=`${b} wants you to sign in with your Ethereum account:
${f}

${g}`;let y=`URI: ${m}
Version: ${p}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),d){let x=`
Resources:`;for(const w of d){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}y+=x}return`${v}
${y}`}class ot extends Error{constructor({message:t,code:r,cause:n,name:s}){var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Hc extends ot{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function E4({error:e,options:t}){var r,n,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(W1(i)){if(o.rp.id!==i)return new ot({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function P4({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(W1(n)){if(r.rpId!==n)return new ot({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class T4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const R4=new T4;function O4(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=us(e,["challenge","user","excludeCredentials"]),o=Ka(t).buffer,i=Object.assign(Object.assign({},r),{id:Ka(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:o,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Ka(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function A4(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=us(e,["challenge","allowCredentials"]),s=Ka(t).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},l),{id:Ka(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return o}function I4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ts(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ts(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function D4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ts(new Uint8Array(s.authenticatorData)),clientDataJSON:Ts(new Uint8Array(s.clientDataJSON)),signature:Ts(new Uint8Array(s.signature)),userHandle:s.userHandle?Ts(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function W1(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function s0(){var e,t;return!!(wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function M4(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hc("Browser returned unexpected credential type",t)}:{data:null,error:new Hc("Empty credential response",t)}}catch(t){return{data:null,error:E4({error:t,options:e})}}}async function L4(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hc("Browser returned unexpected credential type",t)}:{data:null,error:new Hc("Empty credential response",t)}}catch(t){return{data:null,error:P4({error:t,options:e})}}}const $4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},F4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Kc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(t(i)){const l=n[o];t(l)?n[o]=Kc(l,i):n[o]=Kc(i)}else n[o]=i}return n}function U4(e,t){return Kc($4,e,t||{})}function B4(e,t){return Kc(F4,e,t||{})}class z4{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},o){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:l};const c=s??R4.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:d}=i.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(i.webauthn.type){case"create":{const d=U4(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:u,error:m}=await M4({publicKey:d,signal:c});return u?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}case"request":{const d=B4(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:u,error:m}=await L4(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}}}catch(i){return pe(i)?{data:null,error:i}:{data:null,error:new ks("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new Fi("rpId is required for WebAuthn authentication")};try{if(!s0())return{data:null,error:new ks("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return pe(i)?{data:null,error:i}:{data:null,error:new ks("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new Fi("rpId is required for WebAuthn registration")};try{if(!s0())return{data:null,error:new ks("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(u=>{var m;return(m=u.data)===null||m===void 0?void 0:m.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(i){return pe(i)?{data:null,error:i}:{data:null,error:new ks("Unexpected error in register",i)}}}}N4();const q4={url:FA,storageKey:UA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:BA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function a0(e,t,r){return await r()}const ga={};class Ui{get jwks(){var t,r;return(r=(t=ga[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ga[this.storageKey]=Object.assign(Object.assign({},ga[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ga[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ga[this.storageKey]=Object.assign(Object.assign({},ga[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},q4),t);if(this.storageKey=o.storageKey,this.instanceID=(r=Ui.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ui.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&wt()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new b4({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=B1(o.fetch),this.lock=o.lock||a0,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:wt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=_4:this.lock=a0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new z4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:U1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=n0(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=n0(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${L1}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(wt()&&(r=t4(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),wt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),KA(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return pe(r)?this._returnResult({error:r}):this._returnResult({error:new ks("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:yr}),{data:i,error:l}=o;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(o){if(pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:u,password:m,options:p}=t;let f=null,b=null;this.flowType==="pkce"&&([f,b]=await fa(this.storage,this.storageKey)),o=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:m,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:b},xform:yr})}else if("phone"in t){const{phone:u,password:m,options:p}=t;o=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:m,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:yr})}else throw new zl("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(o){if(pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:l}=t;r=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:t0})}else if("phone"in t){const{phone:o,password:i,options:l}=t;r=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:t0})}else throw new zl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new ha;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,o,i,l,c,d,u,m,p;let f,b;if("message"in t)f=t.message,b=t.signature;else{const{chain:g,wallet:v,statement:y,options:x}=t;let w;if(wt())if(typeof v=="object")w=v;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")w=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const j=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),N=await w.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=q1(N[0]);let E=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const T=await w.request({method:"eth_chainId"});E=S4(T)}const k={domain:j.host,address:S,statement:y,uri:j.href,version:"1",chainId:E,nonce:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=C4(k),b=await w.request({method:"personal_sign",params:[k4(f),S]})}try{const{data:g,error:v}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:b},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:yr});if(v)throw v;if(!g||!g.session||!g.user){const y=new ha;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(pe(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,s,o,i,l,c,d,u,m,p,f;let b,g;if("message"in t)b=t.message,g=t.signature;else{const{chain:v,wallet:y,statement:x,options:w}=t;let j;if(wt())if(typeof y=="object")j=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const N=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),x?{statement:x}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)b=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),g=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((m=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||m===void 0)&&m.length?["Resources",...w.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(b),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:v,error:y}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ts(g)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:yr});if(y)throw y;if(!v||!v.session||!v.user){const x=new ha;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(pe(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await ys(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:yr});if(await En(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const l=new ha;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(pe(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,l=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:yr}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const u=new ha;return this._returnResult({data:{user:null,session:null},error:u})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await fa(this.storage,this.storageKey));const{error:m}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u})}throw new zl("You must provide either an email or phone number.")}catch(l){if(pe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:yr});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,d=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(s){if(pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,o,i;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await fa(this.storage,this.storageKey));const d=await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:x4});return!((o=d.data)===null||o===void 0)&&o.url&&wt()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(pe(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Kt;const{error:s}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await we(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:l}=await we(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l})}throw new zl("You must provide either an email or phone number and a type")}catch(r){if(pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<$u:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await ys(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Bu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=m4(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mn}):await this._useSession(async r=>{var n,s,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kt}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Mn})})}catch(r){if(pe(r))return HA(r)&&(await this._removeSession(),await En(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Kt;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await fa(this.storage,this.storageKey));const{data:d,error:u}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Mn});if(u)throw u;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(pe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Kt;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=Uu(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(pe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Kt;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!wt())throw new ql("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ql(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Gv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ql("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Gv("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:d}=t;if(!o||!l||!i||!d)throw new ql("No session defined in URL");const u=Math.round(Date.now()/1e3),m=parseInt(l);let p=u+m;c&&(p=parseInt(c));const f=p-u;f*1e3<=ba&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${m}s`);const b=p-m;u-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,u):u-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,u);const{data:g,error:v}=await this._getUser(o);if(v)throw v;const y={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:m,expires_at:p,refresh_token:i,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if(pe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ys(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({error:o});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(VA(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await En(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=e4(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await fa(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(pe(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,l,c,d,u;const{data:m,error:p}=o;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return wt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(pe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:i,provider:l,token:c,access_token:d,nonce:u}=t,m=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:yr}),{data:p,error:f}=m;return f?this._returnResult({data:{user:null,session:null},error:f}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new ha}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:f}))}catch(s){if(pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await s4(async s=>(s>0&&await n4(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:yr})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Fu(o)&&Date.now()+i-n<ba})}catch(n){if(this._debug(r,"error",n),pe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),wt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ys(this.storage,this.storageKey);if(s&&this.userStorage){let i=await ys(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await ja(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Bu()}else if(s&&!s.user&&!s.user){const i=await ys(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await En(this.storage,this.storageKey+"-user"),await ja(this.storage,this.storageKey,s)):s.user=Bu()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<$u;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${$u}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Fu(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Pd;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Kt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={data:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),pe(o)){const i={data:null,error:o};return Fu(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ja(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Zv(s);await ja(this.storage,this.storageKey,o)}else{const s=Zv(r);await ja(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await En(this.storage,this.storageKey),await En(this.storage,this.storageKey+"-code-verifier"),await En(this.storage,this.storageKey+"-user"),this.userStorage&&await En(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ba);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ba);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ba}ms, refresh threshold is ${jf} ticks`),s<=jf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof z1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await fa(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await we(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await we(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?I4(t.webauthn.credential_response):D4(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await we(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=await we(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:O4(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:A4(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Uu(n.access_token);let i=null;o.aal&&(i=o.aal);let l=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await we(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Kt})})}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Kt});const i=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&wt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Kt});const i=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&wt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await we(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Kt})})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await we(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Kt})})}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+qA>s)return n;const{data:o,error:i}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:b}=await this.getSession();if(b||!f.session)return this._returnResult({data:null,error:b});n=f.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=Uu(n);r!=null&&r.allowExpired||u4(o.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:o,header:s,signature:i},error:null}}const u=h4(s.alg),m=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,m,i,XA(`${l}.${c}`)))throw new Sf("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}}Ui.nextInstanceID={};const W4=Ui;class V4 extends W4{constructor(t){super(t)}}class H4{constructor(t,r,n){var s,o,i;this.supabaseUrl=t,this.supabaseKey=r;const l=$A(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:TA,realtime:OA,auth:Object.assign(Object.assign({},RA),{storageKey:c}),global:PA},u=LA(n??{},d);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=DA(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new FO(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new kA(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new MO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:i,flowType:l,lock:c,debug:d,throwOnError:u},m,p){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new V4({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),m),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,flowType:l,lock:c,debug:d,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new rA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const K4=(e,t,r)=>new H4(e,t,r);function G4(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}G4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Y4="https://njfzsntuxqhxndmyxttz.supabase.co",Q4="sb_publishable_OpCafYDs4VJ5zxO3PbjtUw_Fx3Qb-CC",A=K4(Y4,Q4,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),V1=h.createContext(void 0);function J4({children:e}){const[t,r]=h.useState(null),[n,s]=h.useState(null),[o,i]=h.useState(null),[l,c]=h.useState(!0),d=Je(),u=async g=>{try{const{data:v}=await A.from("profiles").select("phone").eq("id",g).single();!((v==null?void 0:v.phone)&&v.phone.replace(/\D/g,"").length>=10)&&window.location.pathname!=="/phone-setup"&&window.location.pathname!=="/auth"&&d("/phone-setup")}catch{}};h.useEffect(()=>{const{data:{subscription:g}}=A.auth.onAuthStateChange((v,y)=>{s(y),r((y==null?void 0:y.user)??null),y!=null&&y.user?(setTimeout(()=>{m(y.user.id)},0),v==="SIGNED_IN"&&setTimeout(()=>{u(y.user.id)},100)):i(null)});return A.auth.getSession().then(({data:{session:v}})=>{s(v),r((v==null?void 0:v.user)??null),v!=null&&v.user&&m(v.user.id),c(!1)}),()=>g.unsubscribe()},[]);const m=async g=>{try{const{data:v,error:y}=await A.from("user_roles").select("role").eq("user_id",g);if(!y&&v&&v.length>0){const x=v.map(N=>N.role),j=["super_admin","admin","delivery","user"].find(N=>x.includes(N))??x[0];i(j)}}catch(v){console.error("Error fetching user role:",v)}},p=async(g,v,y,x)=>{const w=`${window.location.origin}/`,{error:j}=await A.auth.signUp({email:g,password:v,options:{emailRedirectTo:w,data:{phone:y,full_name:x}}});return{error:j}},f=async(g,v)=>{const{error:y}=await A.auth.signInWithPassword({email:g,password:v});return{error:y}},b=async()=>{await A.auth.signOut(),i(null),d("/auth")};return a.jsx(V1.Provider,{value:{user:t,session:n,userRole:o,signUp:p,signIn:f,signOut:b,loading:l},children:e})}function et(){const e=h.useContext(V1);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const H1=h.createContext(void 0);function X4({children:e}){const{user:t}=et(),[r,n]=h.useState(0),s=h.useCallback(async()=>{if(!t){n(0);return}try{const{data:o,error:i,count:l}=await A.from("cart_items").select("id",{count:"exact",head:!0}).eq("user_id",t.id);i||n(l||0)}catch(o){console.error("Error fetching cart count:",o)}},[t]);return h.useEffect(()=>{s()},[s]),h.useEffect(()=>{if(!t)return;const o=A.channel("cart_changes").on("postgres_changes",{event:"*",schema:"public",table:"cart_items",filter:`user_id=eq.${t.id}`},()=>{s()}).subscribe();return()=>{A.removeChannel(o)}},[t,s]),a.jsx(H1.Provider,{value:{cartItemCount:r,refreshCart:s},children:e})}function Td(){const e=h.useContext(H1);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e}const hp=Ji("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?eC:"button";return a.jsx(i,{className:ue(hp({variant:t,size:r,className:e})),ref:o,...s})});q.displayName="Button";const ne=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ue("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ne.displayName="Card";const be=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ue("flex flex-col space-y-1.5 p-6",e),...t}));be.displayName="CardHeader";const Ee=h.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:ue("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ee.displayName="CardTitle";const ln=h.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:ue("text-sm text-muted-foreground",e),...t}));ln.displayName="CardDescription";const se=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ue("p-6 pt-0",e),...t}));se.displayName="CardContent";const Z4=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ue("flex items-center p-6 pt-0",e),...t}));Z4.displayName="CardFooter";const e5=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,t5=()=>window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;function r5(){const[e,t]=h.useState(null),[r,n]=h.useState(!1),[s,o]=h.useState(!1),[i,l]=h.useState(!1);h.useEffect(()=>{if(t5()){l(!0);return}const u=localStorage.getItem("pwa-prompt-dismissed");if(u){const p=new Date(u);if((Date.now()-p.getTime())/(1e3*60*60*24)<3)return}if(e5()){setTimeout(()=>o(!0),3e3);return}const m=p=>{p.preventDefault(),t(p),setTimeout(()=>n(!0),2e3)};return window.addEventListener("beforeinstallprompt",m),window.addEventListener("appinstalled",()=>{l(!0),n(!1),t(null)}),()=>{window.removeEventListener("beforeinstallprompt",m)}},[]);const c=async()=>{if(!e)return;e.prompt();const{outcome:u}=await e.userChoice;u==="accepted"&&(n(!1),t(null))},d=()=>{n(!1),o(!1),localStorage.setItem("pwa-prompt-dismissed",new Date().toISOString())};return i?null:s?a.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-end animate-in fade-in duration-300",children:a.jsxs("div",{className:"w-full bg-white dark:bg-gray-900 rounded-t-3xl p-6 pb-10 animate-in slide-in-from-bottom duration-300",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Lc,{className:"h-7 w-7 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-xl text-foreground",children:"Install PremasShop"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Get the full app experience"})]})]}),a.jsx("button",{onClick:d,className:"text-muted-foreground p-2 -m-2",children:a.jsx(Ys,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsx("p",{className:"text-muted-foreground",children:"Install this app on your iPhone for quick access and offline shopping!"}),a.jsxs("div",{className:"bg-muted/50 rounded-xl p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 font-bold text-sm",children:"1"}),a.jsxs("div",{className:"flex items-center gap-2 text-foreground",children:[a.jsx("span",{children:"Tap the"}),a.jsx(oE,{className:"h-5 w-5 text-blue-500"}),a.jsx("span",{className:"font-medium",children:"Share"}),a.jsx("span",{children:"button below"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 font-bold text-sm",children:"2"}),a.jsxs("div",{className:"flex items-center gap-2 text-foreground",children:[a.jsx("span",{children:"Scroll and tap"}),a.jsx(Kr,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:'"Add to Home Screen"'})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center text-green-600 font-bold text-sm",children:"3"}),a.jsxs("span",{className:"text-foreground",children:["Tap ",a.jsx("span",{className:"font-medium",children:'"Add"'})," to install!"]})]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(q,{onClick:d,variant:"outline",className:"flex-1",children:"Maybe Later"}),a.jsx(q,{onClick:d,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",children:"Got It!"})]}),a.jsx("div",{className:"h-2"})]})}):!r||!e?null:a.jsx("div",{className:"fixed bottom-20 left-0 right-0 z-50 px-4 animate-in slide-in-from-bottom-4 duration-300 md:left-auto md:right-4 md:max-w-sm",children:a.jsxs(ne,{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white border-0 shadow-2xl overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full animate-shimmer"}),a.jsx(se,{className:"p-4 relative",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg",children:a.jsx(Zg,{className:"h-7 w-7"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-bold text-lg",children:"Install PremasShop"}),a.jsx("p",{className:"text-white/90 text-sm mt-1",children:" Add to home screen for faster orders & offline access!"}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsxs(q,{onClick:c,size:"sm",className:"bg-white text-green-600 hover:bg-white/90 font-semibold shadow-md",children:[a.jsx(Zg,{className:"h-4 w-4 mr-1"}),"Install Now"]}),a.jsx(q,{onClick:d,size:"sm",variant:"ghost",className:"text-white hover:bg-white/20",children:"Later"})]})]}),a.jsx("button",{onClick:d,className:"text-white/70 hover:text-white p-1 -mt-1 -mr-1",children:a.jsx(Ys,{className:"h-5 w-5"})})]})})]})})}function n5(){const{pathname:e}=la();return h.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const Pe=h.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Pe.displayName="Input";var s5="Label",K1=h.forwardRef((e,t)=>a.jsx(ge.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));K1.displayName=s5;var G1=K1;const a5=Ji("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xe=h.forwardRef(({className:e,...t},r)=>a.jsx(G1,{ref:r,className:ue(a5(),e),...t}));xe.displayName=G1.displayName;var o5=h.createContext(void 0);function rl(e){const t=h.useContext(o5);return e||t||"ltr"}var qu="rovingFocusGroup.onEntryFocus",i5={bubbles:!1,cancelable:!0},nl="RovingFocusGroup",[kf,Y1,l5]=Pm(nl),[c5,Rd]=Lt(nl,[l5]),[d5,u5]=c5(nl),Q1=h.forwardRef((e,t)=>a.jsx(kf.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(kf.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(h5,{...e,ref:t})})}));Q1.displayName=nl;var h5=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=e,p=h.useRef(null),f=Se(t,p),b=rl(o),[g,v]=pn({prop:i,defaultProp:l??null,onChange:c,caller:nl}),[y,x]=h.useState(!1),w=lt(d),j=Y1(r),N=h.useRef(!1),[S,E]=h.useState(0);return h.useEffect(()=>{const k=p.current;if(k)return k.addEventListener(qu,w),()=>k.removeEventListener(qu,w)},[w]),a.jsx(d5,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:g,onItemFocus:h.useCallback(k=>v(k),[v]),onItemShiftTab:h.useCallback(()=>x(!0),[]),onFocusableItemAdd:h.useCallback(()=>E(k=>k+1),[]),onFocusableItemRemove:h.useCallback(()=>E(k=>k-1),[]),children:a.jsx(ge.div,{tabIndex:y||S===0?-1:0,"data-orientation":n,...m,ref:f,style:{outline:"none",...e.style},onMouseDown:ae(e.onMouseDown,()=>{N.current=!0}),onFocus:ae(e.onFocus,k=>{const T=!N.current;if(k.target===k.currentTarget&&T&&!y){const O=new CustomEvent(qu,i5);if(k.currentTarget.dispatchEvent(O),!O.defaultPrevented){const I=j().filter(P=>P.focusable),$=I.find(P=>P.active),B=I.find(P=>P.id===g),G=[$,B,...I].filter(Boolean).map(P=>P.ref.current);Z1(G,u)}}N.current=!1}),onBlur:ae(e.onBlur,()=>x(!1))})})}),J1="RovingFocusGroupItem",X1=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=on(),d=o||c,u=u5(J1,r),m=u.currentTabStopId===d,p=Y1(r),{onFocusableItemAdd:f,onFocusableItemRemove:b,currentTabStopId:g}=u;return h.useEffect(()=>{if(n)return f(),()=>b()},[n,f,b]),a.jsx(kf.ItemSlot,{scope:r,id:d,focusable:n,active:s,children:a.jsx(ge.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:ae(e.onMouseDown,v=>{n?u.onItemFocus(d):v.preventDefault()}),onFocus:ae(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:ae(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=p5(v,u.orientation,u.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=p().filter(j=>j.focusable).map(j=>j.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const j=w.indexOf(v.currentTarget);w=u.loop?g5(w,j+1):w.slice(j+1)}setTimeout(()=>Z1(w))}}),children:typeof i=="function"?i({isCurrentTabStop:m,hasTabStop:g!=null}):i})})});X1.displayName=J1;var f5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function m5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function p5(e,t,r){const n=m5(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return f5[n]}function Z1(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function g5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ej=Q1,tj=X1,Od="Tabs",[v5,vL]=Lt(Od,[Rd]),rj=Rd(),[x5,fp]=v5(Od),nj=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=rl(l),[m,p]=pn({prop:n,onChange:s,defaultProp:o??"",caller:Od});return a.jsx(x5,{scope:r,baseId:on(),value:m,onValueChange:p,orientation:i,dir:u,activationMode:c,children:a.jsx(ge.div,{dir:u,"data-orientation":i,...d,ref:t})})});nj.displayName=Od;var sj="TabsList",aj=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=fp(sj,r),i=rj(r);return a.jsx(ej,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:a.jsx(ge.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});aj.displayName=sj;var oj="TabsTrigger",ij=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=fp(oj,r),l=rj(r),c=dj(i.baseId,n),d=uj(i.baseId,n),u=n===i.value;return a.jsx(tj,{asChild:!0,...l,focusable:!s,active:u,children:a.jsx(ge.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:ae(e.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?i.onValueChange(n):m.preventDefault()}),onKeyDown:ae(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&i.onValueChange(n)}),onFocus:ae(e.onFocus,()=>{const m=i.activationMode!=="manual";!u&&!s&&m&&i.onValueChange(n)})})})});ij.displayName=oj;var lj="TabsContent",cj=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,l=fp(lj,r),c=dj(l.baseId,n),d=uj(l.baseId,n),u=n===l.value,m=h.useRef(u);return h.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),a.jsx(Vt,{present:s||u,children:({present:p})=>a.jsx(ge.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:p&&o})})});cj.displayName=lj;function dj(e,t){return`${e}-trigger-${t}`}function uj(e,t){return`${e}-content-${t}`}var y5=nj,hj=aj,fj=ij,mj=cj;const sl=y5,Oo=h.forwardRef(({className:e,...t},r)=>a.jsx(hj,{ref:r,className:ue("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Oo.displayName=hj.displayName;const ft=h.forwardRef(({className:e,...t},r)=>a.jsx(fj,{ref:r,className:ue("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));ft.displayName=fj.displayName;const mt=h.forwardRef(({className:e,...t},r)=>a.jsx(mj,{ref:r,className:ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));mt.displayName=mj.displayName;function w5(){const[e,t]=h.useState(!1),[r,n]=h.useState(!1),[s,o]=h.useState({email:"",password:"",phone:"",fullName:""}),[i,l]=h.useState(""),{signIn:c,signUp:d}=et(),u=Je(),m=v=>v.replace(/\D/g,"").length!==10?(l("Please enter exactly 10 digits"),!1):(l(""),!0),p=v=>{const x=v.target.value.replace(/\D/g,"").slice(0,10);o({...s,phone:x}),x.length>0&&x.length!==10?l(x.length<10?`${10-x.length} more digits needed`:""):l("")},f=async v=>{if(v.preventDefault(),!s.email||!s.password){U.error("Please fill in all fields");return}t(!0);try{const{error:y}=await c(s.email,s.password);y?y.message.includes("Invalid login credentials")?U.error("Invalid email or password. Please try again."):y.message.includes("Email not confirmed")?U.error("Please verify your email before signing in."):U.error("Something went wrong. Please try again."):(U.success("Welcome back!"),u("/"))}catch(y){console.error("Sign in error:",y),U.error("Something went wrong. Please try again.")}finally{t(!1)}},b=async v=>{if(v.preventDefault(),!s.email||!s.password||!s.phone){U.error("Please fill in all required fields");return}if(!m(s.phone))return;const y=`+91${s.phone}`;t(!0);try{const{error:x}=await d(s.email,s.password,y,s.fullName);x?x.message.includes("already registered")?U.error("This email is already registered. Try signing in."):x.message.includes("Password")?U.error("Password must be at least 6 characters."):x.message.includes("valid email")?U.error("Please enter a valid email address."):U.error("Something went wrong. Please try again."):(U.success("Confirmation sent to email"),u("/"))}catch(x){console.error("Sign up error:",x),U.error("Something went wrong. Please try again.")}finally{t(!1)}},g=async v=>{t(!0);try{const y=`${window.location.origin}/`,{error:x}=await A.auth.signInWithOAuth({provider:v,options:{redirectTo:y}});x&&(U.error("Something went wrong. Please try again."),t(!1))}catch(y){console.error("Social auth error:",y),U.error("Something went wrong. Please try again."),t(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-accent/5 p-4",children:a.jsxs(ne,{className:"w-full max-w-md shadow-xl",children:[a.jsxs(be,{className:"space-y-1 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("img",{src:"/dist/logo.svg",alt:"PremaShop",className:"h-16 w-auto"})}),a.jsx(Ee,{className:"text-2xl font-bold",children:"PremaShop"}),a.jsx(ln,{children:"Your favorite groceries in minutes"})]}),a.jsx(se,{children:a.jsxs(sl,{defaultValue:"signin",className:"w-full",children:[a.jsxs(Oo,{className:"grid w-full grid-cols-2",children:[a.jsx(ft,{value:"signin",children:"Sign In"}),a.jsx(ft,{value:"signup",children:"Sign Up"})]}),a.jsxs(mt,{value:"signin",children:[a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{htmlFor:"signin-email",children:"Email"}),a.jsx(Pe,{id:"signin-email",type:"email",placeholder:"you@example.com",value:s.email,onChange:v=>o({...s,email:v.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{htmlFor:"signin-password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Pe,{id:"signin-password",type:r?"text":"password",value:s.password,onChange:v=>o({...s,password:v.target.value}),required:!0}),a.jsx(q,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>n(!r),children:r?a.jsx(ev,{className:"h-4 w-4"}):a.jsx(tv,{className:"h-4 w-4"})})]})]}),a.jsxs(q,{type:"submit",className:"w-full",disabled:e,children:[e?a.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Sign In"]})]}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(q,{variant:"outline",onClick:()=>g("google"),disabled:e,children:[a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]}),a.jsxs(q,{variant:"outline",onClick:()=>g("facebook"),disabled:e,children:[a.jsx("svg",{className:"mr-2 h-4 w-4",fill:"#1877F2",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]})]}),a.jsxs(mt,{value:"signup",children:[a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{htmlFor:"signup-name",children:"Full Name"}),a.jsx(Pe,{id:"signup-name",type:"text",placeholder:"John Doe",value:s.fullName,onChange:v=>o({...s,fullName:v.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{htmlFor:"signup-phone",children:"Phone Number *"}),a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex items-center justify-center px-3 bg-muted border border-r-0 rounded-l-md text-sm font-medium text-muted-foreground",children:"+91"}),a.jsx(Pe,{id:"signup-phone",type:"tel",inputMode:"numeric",placeholder:"9876543210",value:s.phone,onChange:p,className:`rounded-l-none ${i?"border-destructive focus-visible:ring-destructive":""}`,maxLength:10,required:!0})]}),i&&a.jsx("p",{className:"text-sm text-destructive",children:i})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{htmlFor:"signup-email",children:"Email *"}),a.jsx(Pe,{id:"signup-email",type:"email",placeholder:"you@example.com",value:s.email,onChange:v=>o({...s,email:v.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{htmlFor:"signup-password",children:"Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Pe,{id:"signup-password",type:r?"text":"password",value:s.password,onChange:v=>o({...s,password:v.target.value}),required:!0}),a.jsx(q,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>n(!r),children:r?a.jsx(ev,{className:"h-4 w-4"}):a.jsx(tv,{className:"h-4 w-4"})})]})]}),a.jsxs(q,{type:"submit",className:"w-full",disabled:e,children:[e?a.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Create Account"]})]}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or sign up with"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(q,{variant:"outline",onClick:()=>g("google"),disabled:e,children:[a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]}),a.jsxs(q,{variant:"outline",onClick:()=>g("facebook"),disabled:e,children:[a.jsx("svg",{className:"mr-2 h-4 w-4",fill:"#1877F2",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]})]})]})})]})})}function b5(){const{user:e,userRole:t,loading:r}=et(),n=Je();return h.useEffect(()=>{if(!r){if(!e)n("/auth");else if(t)switch(t){case"super_admin":n("/super-admin");break;case"admin":n("/admin");break;case"delivery":n("/delivery");break;case"user":default:n("/shop");break}}},[e,t,r,n]),a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Ft,{className:"h-8 w-8 animate-spin text-primary"})})}const j5=Ji("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function rt({className:e,variant:t,...r}){return a.jsx("div",{className:ue(j5({variant:t}),e),...r})}var Wu="focusScope.autoFocusOnMount",Vu="focusScope.autoFocusOnUnmount",o0={bubbles:!1,cancelable:!0},_5="FocusScope",Ad=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=h.useState(null),d=lt(s),u=lt(o),m=h.useRef(null),p=Se(t,g=>c(g)),f=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let g=function(w){if(f.paused||!l)return;const j=w.target;l.contains(j)?m.current=j:Rn(m.current,{select:!0})},v=function(w){if(f.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Rn(m.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Rn(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const x=new MutationObserver(y);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),x.disconnect()}}},[n,l,f.paused]),h.useEffect(()=>{if(l){l0.add(f);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(Wu,o0);l.addEventListener(Wu,d),l.dispatchEvent(y),y.defaultPrevented||(N5(P5(pj(l)),{select:!0}),document.activeElement===g&&Rn(l))}return()=>{l.removeEventListener(Wu,d),setTimeout(()=>{const y=new CustomEvent(Vu,o0);l.addEventListener(Vu,u),l.dispatchEvent(y),y.defaultPrevented||Rn(g??document.body,{select:!0}),l.removeEventListener(Vu,u),l0.remove(f)},0)}}},[l,d,u,f]);const b=h.useCallback(g=>{if(!r&&!n||f.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(v&&y){const x=g.currentTarget,[w,j]=S5(x);w&&j?!g.shiftKey&&y===j?(g.preventDefault(),r&&Rn(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),r&&Rn(j,{select:!0})):y===x&&g.preventDefault()}},[r,n,f.paused]);return a.jsx(ge.div,{tabIndex:-1,...i,ref:p,onKeyDown:b})});Ad.displayName=_5;function N5(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Rn(n,{select:t}),document.activeElement!==r)return}function S5(e){const t=pj(e),r=i0(t,e),n=i0(t.reverse(),e);return[r,n]}function pj(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function i0(e,t){for(const r of e)if(!k5(r,{upTo:t}))return r}function k5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function C5(e){return e instanceof HTMLInputElement&&"select"in e}function Rn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&C5(e)&&t&&e.select()}}var l0=E5();function E5(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=c0(e,t),e.unshift(t)},remove(t){var r;e=c0(e,t),(r=e[0])==null||r.resume()}}}function c0(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function P5(e){return e.filter(t=>t.tagName!=="A")}var Hu=0;function mp(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??d0()),document.body.insertAdjacentElement("beforeend",e[1]??d0()),Hu++,()=>{Hu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Hu--}},[])}function d0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var dc="right-scroll-bar-position",uc="width-before-scroll-bar",T5="with-scroll-bars-hidden",R5="--removed-body-scroll-bar-size";function Ku(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function O5(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var A5=typeof window<"u"?h.useLayoutEffect:h.useEffect,u0=new WeakMap;function I5(e,t){var r=O5(null,function(n){return e.forEach(function(s){return Ku(s,n)})});return A5(function(){var n=u0.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(l){o.has(l)||Ku(l,null)}),o.forEach(function(l){s.has(l)||Ku(l,i)})}u0.set(r,e)},[e]),r}function D5(e){return e}function M5(e,t){t===void 0&&(t=D5);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var u=i;i=[],u.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){i.push(u),d()},filter:function(u){return i=i.filter(u),r}}}};return s}function L5(e){e===void 0&&(e={});var t=M5(null);return t.options=ir({async:!0,ssr:!1},e),t}var gj=function(e){var t=e.sideCar,r=us(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,ir({},r))};gj.isSideCarExport=!0;function $5(e,t){return e.useMedium(t),gj}var vj=L5(),Gu=function(){},Id=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:Gu,onWheelCapture:Gu,onTouchMoveCapture:Gu}),s=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,p=e.sideCar,f=e.noRelative,b=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,w=e.gapMode,j=us(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,S=I5([r,t]),E=ir(ir({},j),s);return h.createElement(h.Fragment,null,u&&h.createElement(N,{sideCar:vj,removeScrollBar:d,shards:m,noRelative:f,noIsolation:b,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:r,gapMode:w}),i?h.cloneElement(h.Children.only(l),ir(ir({},E),{ref:S})):h.createElement(x,ir({},E,{className:c,ref:S}),l))});Id.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Id.classNames={fullWidth:uc,zeroRight:dc};var F5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function U5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=F5();return t&&e.setAttribute("nonce",t),e}function B5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function z5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var q5=function(){var e=0,t=null;return{add:function(r){e==0&&(t=U5())&&(B5(t,r),z5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},W5=function(){var e=q5();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},xj=function(){var e=W5(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},V5={left:0,top:0,right:0,gap:0},Yu=function(e){return parseInt(e||"",10)||0},H5=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Yu(r),Yu(n),Yu(s)]},K5=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return V5;var t=H5(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},G5=xj(),Ga="data-scroll-locked",Y5=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(T5,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ga,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(uc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(dc," .").concat(dc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(uc," .").concat(uc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ga,`] {
    `).concat(R5,": ").concat(l,`px;
  }
`)},h0=function(){var e=parseInt(document.body.getAttribute(Ga)||"0",10);return isFinite(e)?e:0},Q5=function(){h.useEffect(function(){return document.body.setAttribute(Ga,(h0()+1).toString()),function(){var e=h0()-1;e<=0?document.body.removeAttribute(Ga):document.body.setAttribute(Ga,e.toString())}},[])},J5=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;Q5();var o=h.useMemo(function(){return K5(s)},[s]);return h.createElement(G5,{styles:Y5(o,!t,s,r?"":"!important")})},Cf=!1;if(typeof window<"u")try{var Wl=Object.defineProperty({},"passive",{get:function(){return Cf=!0,!0}});window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{Cf=!1}var va=Cf?{passive:!1}:!1,X5=function(e){return e.tagName==="TEXTAREA"},yj=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!X5(e)&&r[t]==="visible")},Z5=function(e){return yj(e,"overflowY")},eI=function(e){return yj(e,"overflowX")},f0=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=wj(e,n);if(s){var o=bj(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},tI=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},rI=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},wj=function(e,t){return e==="v"?Z5(t):eI(t)},bj=function(e,t){return e==="v"?tI(t):rI(t)},nI=function(e,t){return e==="h"&&t==="rtl"?-1:1},sI=function(e,t,r,n,s){var o=nI(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),d=!1,u=i>0,m=0,p=0;do{if(!l)break;var f=bj(e,l),b=f[0],g=f[1],v=f[2],y=g-v-o*b;(b||y)&&wj(e,l)&&(m+=y,p+=b);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(m)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(d=!0),d},Vl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},m0=function(e){return[e.deltaX,e.deltaY]},p0=function(e){return e&&"current"in e?e.current:e},aI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},oI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},iI=0,xa=[];function lI(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(iI++)[0],o=h.useState(xj)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=np([e.lockRef.current],(e.shards||[]).map(p0),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var y=Vl(g),x=r.current,w="deltaX"in g?g.deltaX:x[0]-y[0],j="deltaY"in g?g.deltaY:x[1]-y[1],N,S=g.target,E=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in g&&E==="h"&&S.type==="range")return!1;var k=f0(E,S);if(!k)return!0;if(k?N=E:(N=E==="v"?"h":"v",k=f0(E,S)),!k)return!1;if(!n.current&&"changedTouches"in g&&(w||j)&&(n.current=N),!N)return!0;var T=n.current||N;return sI(T,v,g,T==="h"?w:j,!0)},[]),c=h.useCallback(function(g){var v=g;if(!(!xa.length||xa[xa.length-1]!==o)){var y="deltaY"in v?m0(v):Vl(v),x=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&aI(N.delta,y)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var w=(i.current.shards||[]).map(p0).filter(Boolean).filter(function(N){return N.contains(v.target)}),j=w.length>0?l(v,w[0]):!i.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),d=h.useCallback(function(g,v,y,x){var w={name:g,delta:v,target:y,should:x,shadowParent:cI(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),u=h.useCallback(function(g){r.current=Vl(g),n.current=void 0},[]),m=h.useCallback(function(g){d(g.type,m0(g),g.target,l(g,e.lockRef.current))},[]),p=h.useCallback(function(g){d(g.type,Vl(g),g.target,l(g,e.lockRef.current))},[]);h.useEffect(function(){return xa.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,va),document.addEventListener("touchmove",c,va),document.addEventListener("touchstart",u,va),function(){xa=xa.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,va),document.removeEventListener("touchmove",c,va),document.removeEventListener("touchstart",u,va)}},[]);var f=e.removeScrollBar,b=e.inert;return h.createElement(h.Fragment,null,b?h.createElement(o,{styles:oI(s)}):null,f?h.createElement(J5,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function cI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const dI=$5(vj,lI);var Dd=h.forwardRef(function(e,t){return h.createElement(Id,ir({},e,{ref:t,sideCar:dI}))});Dd.classNames=Id.classNames;var uI=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ya=new WeakMap,Hl=new WeakMap,Kl={},Qu=0,jj=function(e){return e&&(e.host||jj(e.parentNode))},hI=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=jj(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},fI=function(e,t,r,n){var s=hI(t,Array.isArray(e)?e:[e]);Kl[r]||(Kl[r]=new WeakMap);var o=Kl[r],i=[],l=new Set,c=new Set(s),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};s.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))u(p);else try{var f=p.getAttribute(n),b=f!==null&&f!=="false",g=(ya.get(p)||0)+1,v=(o.get(p)||0)+1;ya.set(p,g),o.set(p,v),i.push(p),g===1&&b&&Hl.set(p,!0),v===1&&p.setAttribute(r,"true"),b||p.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return u(t),l.clear(),Qu++,function(){i.forEach(function(m){var p=ya.get(m)-1,f=o.get(m)-1;ya.set(m,p),o.set(m,f),p||(Hl.has(m)||m.removeAttribute(n),Hl.delete(m)),f||m.removeAttribute(r)}),Qu--,Qu||(ya=new WeakMap,ya=new WeakMap,Hl=new WeakMap,Kl={})}},pp=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=uI(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),fI(n,s,r,"aria-hidden")):function(){return null}},Md="Dialog",[_j,Nj]=Lt(Md),[mI,Dr]=_j(Md),Sj=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=h.useRef(null),c=h.useRef(null),[d,u]=pn({prop:n,defaultProp:s??!1,onChange:o,caller:Md});return a.jsx(mI,{scope:t,triggerRef:l,contentRef:c,contentId:on(),titleId:on(),descriptionId:on(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(m=>!m),[u]),modal:i,children:r})};Sj.displayName=Md;var kj="DialogTrigger",Cj=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dr(kj,r),o=Se(t,s.triggerRef);return a.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":xp(s.open),...n,ref:o,onClick:ae(e.onClick,s.onOpenToggle)})});Cj.displayName=kj;var gp="DialogPortal",[pI,Ej]=_j(gp,{forceMount:void 0}),Pj=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Dr(gp,t);return a.jsx(pI,{scope:t,forceMount:r,children:h.Children.map(n,i=>a.jsx(Vt,{present:r||o.open,children:a.jsx(Yi,{asChild:!0,container:s,children:i})}))})};Pj.displayName=gp;var Gc="DialogOverlay",Tj=h.forwardRef((e,t)=>{const r=Ej(Gc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Dr(Gc,e.__scopeDialog);return o.modal?a.jsx(Vt,{present:n||o.open,children:a.jsx(vI,{...s,ref:t})}):null});Tj.displayName=Gc;var gI=Ks("DialogOverlay.RemoveScroll"),vI=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dr(Gc,r);return a.jsx(Dd,{as:gI,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(ge.div,{"data-state":xp(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Js="DialogContent",Rj=h.forwardRef((e,t)=>{const r=Ej(Js,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Dr(Js,e.__scopeDialog);return a.jsx(Vt,{present:n||o.open,children:o.modal?a.jsx(xI,{...s,ref:t}):a.jsx(yI,{...s,ref:t})})});Rj.displayName=Js;var xI=h.forwardRef((e,t)=>{const r=Dr(Js,e.__scopeDialog),n=h.useRef(null),s=Se(t,r.contentRef,n);return h.useEffect(()=>{const o=n.current;if(o)return pp(o)},[]),a.jsx(Oj,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ae(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:ae(e.onFocusOutside,o=>o.preventDefault())})}),yI=h.forwardRef((e,t)=>{const r=Dr(Js,e.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return a.jsx(Oj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((d=r.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Oj=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=Dr(Js,r),c=h.useRef(null),d=Se(t,c);return mp(),a.jsxs(a.Fragment,{children:[a.jsx(Ad,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(_o,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":xp(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(bI,{titleId:l.titleId}),a.jsx(_I,{contentRef:c,descriptionId:l.descriptionId})]})]})}),vp="DialogTitle",Aj=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dr(vp,r);return a.jsx(ge.h2,{id:s.titleId,...n,ref:t})});Aj.displayName=vp;var Ij="DialogDescription",Dj=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dr(Ij,r);return a.jsx(ge.p,{id:s.descriptionId,...n,ref:t})});Dj.displayName=Ij;var Mj="DialogClose",Lj=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dr(Mj,r);return a.jsx(ge.button,{type:"button",...n,ref:t,onClick:ae(e.onClick,()=>s.onOpenChange(!1))})});Lj.displayName=Mj;function xp(e){return e?"open":"closed"}var $j="DialogTitleWarning",[wI,Fj]=X2($j,{contentName:Js,titleName:vp,docsSlug:"dialog"}),bI=({titleId:e})=>{const t=Fj($j),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},jI="DialogDescriptionWarning",_I=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Fj(jI).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},yp=Sj,wp=Cj,bp=Pj,al=Tj,ol=Rj,il=Aj,ll=Dj,Ld=Lj;const NI=yp,SI=wp,kI=bp,Uj=h.forwardRef(({className:e,...t},r)=>a.jsx(al,{className:ue("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Uj.displayName=al.displayName;const CI=Ji("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Bj=h.forwardRef(({side:e="right",className:t,children:r,...n},s)=>a.jsxs(kI,{children:[a.jsx(Uj,{}),a.jsxs(ol,{ref:s,className:ue(CI({side:e}),t),...n,children:[r,a.jsxs(Ld,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Ys,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Bj.displayName=ol.displayName;const zj=({className:e,...t})=>a.jsx("div",{className:ue("flex flex-col space-y-2 text-center sm:text-left",e),...t});zj.displayName="SheetHeader";const qj=h.forwardRef(({className:e,...t},r)=>a.jsx(il,{ref:r,className:ue("text-lg font-semibold text-foreground",e),...t}));qj.displayName=il.displayName;const EI=h.forwardRef(({className:e,...t},r)=>a.jsx(ll,{ref:r,className:ue("text-sm text-muted-foreground",e),...t}));EI.displayName=ll.displayName;function Ef(e,[t,r]){return Math.min(r,Math.max(t,e))}function PI(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var jp="ScrollArea",[Wj,xL]=Lt(jp),[TI,fr]=Wj(jp),Vj=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...i}=e,[l,c]=h.useState(null),[d,u]=h.useState(null),[m,p]=h.useState(null),[f,b]=h.useState(null),[g,v]=h.useState(null),[y,x]=h.useState(0),[w,j]=h.useState(0),[N,S]=h.useState(!1),[E,k]=h.useState(!1),T=Se(t,I=>c(I)),O=rl(s);return a.jsx(TI,{scope:r,type:n,dir:O,scrollHideDelay:o,scrollArea:l,viewport:d,onViewportChange:u,content:m,onContentChange:p,scrollbarX:f,onScrollbarXChange:b,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:E,onScrollbarYEnabledChange:k,onCornerWidthChange:x,onCornerHeightChange:j,children:a.jsx(ge.div,{dir:O,...i,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});Vj.displayName=jp;var Hj="ScrollAreaViewport",Kj=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...o}=e,i=fr(Hj,r),l=h.useRef(null),c=Se(t,l,i.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(ge.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Kj.displayName=Hj;var Qr="ScrollAreaScrollbar",_p=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=fr(Qr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return h.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),s.type==="hover"?a.jsx(RI,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(OI,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(Gj,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(Np,{...n,ref:t}):null});_p.displayName=Qr;var RI=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=fr(Qr,e.__scopeScrollArea),[o,i]=h.useState(!1);return h.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),i(!0)},u=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Vt,{present:r||o,children:a.jsx(Gj,{"data-state":o?"visible":"hidden",...n,ref:t})})}),OI=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=fr(Qr,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Fd(()=>c("SCROLL_END"),100),[l,c]=PI("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),h.useEffect(()=>{const d=s.viewport,u=o?"scrollLeft":"scrollTop";if(d){let m=d[u];const p=()=>{const f=d[u];m!==f&&(c("SCROLL"),i()),m=f};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[s.viewport,o,c,i]),a.jsx(Vt,{present:r||l!=="hidden",children:a.jsx(Np,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ae(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ae(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Gj=h.forwardRef((e,t)=>{const r=fr(Qr,e.__scopeScrollArea),{forceMount:n,...s}=e,[o,i]=h.useState(!1),l=e.orientation==="horizontal",c=Fd(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?d:u)}},10);return vo(r.viewport,c),vo(r.content,c),a.jsx(Vt,{present:n||o,children:a.jsx(Np,{"data-state":o?"visible":"hidden",...s,ref:t})})}),Np=h.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=fr(Qr,e.__scopeScrollArea),o=h.useRef(null),i=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Zj(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:p=>o.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p};function m(p,f){return $I(p,i.current,l,f)}return r==="horizontal"?a.jsx(AI,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollLeft,f=g0(p,l,s.dir);o.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=m(p,s.dir))}}):r==="vertical"?a.jsx(II,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollTop,f=g0(p,l);o.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=m(p))}}):null}),AI=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=fr(Qr,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),d=Se(t,c,o.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(Qj,{"data-orientation":"horizontal",...s,ref:d,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":$d(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(o.viewport){const p=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),t_(p,m)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Qc(i.paddingLeft),paddingEnd:Qc(i.paddingRight)}})}})}),II=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=fr(Qr,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),d=Se(t,c,o.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(Qj,{"data-orientation":"vertical",...s,ref:d,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":$d(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(o.viewport){const p=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),t_(p,m)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Qc(i.paddingTop),paddingEnd:Qc(i.paddingBottom)}})}})}),[DI,Yj]=Wj(Qr),Qj=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:m,...p}=e,f=fr(Qr,r),[b,g]=h.useState(null),v=Se(t,T=>g(T)),y=h.useRef(null),x=h.useRef(""),w=f.viewport,j=n.content-n.viewport,N=lt(u),S=lt(c),E=Fd(m,10);function k(T){if(y.current){const O=T.clientX-y.current.left,I=T.clientY-y.current.top;d({x:O,y:I})}}return h.useEffect(()=>{const T=O=>{const I=O.target;(b==null?void 0:b.contains(I))&&N(O,j)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[w,b,j,N]),h.useEffect(S,[n,S]),vo(b,E),vo(f.content,E),a.jsx(DI,{scope:r,scrollbar:b,hasThumb:s,onThumbChange:lt(o),onThumbPointerUp:lt(i),onThumbPositionChange:S,onThumbPointerDown:lt(l),children:a.jsx(ge.div,{...p,ref:v,style:{position:"absolute",...p.style},onPointerDown:ae(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),y.current=b.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),k(T))}),onPointerMove:ae(e.onPointerMove,k),onPointerUp:ae(e.onPointerUp,T=>{const O=T.target;O.hasPointerCapture(T.pointerId)&&O.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=x.current,f.viewport&&(f.viewport.style.scrollBehavior=""),y.current=null})})})}),Yc="ScrollAreaThumb",Jj=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Yj(Yc,e.__scopeScrollArea);return a.jsx(Vt,{present:r||s.hasThumb,children:a.jsx(MI,{ref:t,...n})})}),MI=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,o=fr(Yc,r),i=Yj(Yc,r),{onThumbPositionChange:l}=i,c=Se(t,m=>i.onThumbChange(m)),d=h.useRef(void 0),u=Fd(()=>{d.current&&(d.current(),d.current=void 0)},100);return h.useEffect(()=>{const m=o.viewport;if(m){const p=()=>{if(u(),!d.current){const f=FI(m,l);d.current=f,l()}};return l(),m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[o.viewport,u,l]),a.jsx(ge.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ae(e.onPointerDownCapture,m=>{const f=m.target.getBoundingClientRect(),b=m.clientX-f.left,g=m.clientY-f.top;i.onThumbPointerDown({x:b,y:g})}),onPointerUp:ae(e.onPointerUp,i.onThumbPointerUp)})});Jj.displayName=Yc;var Sp="ScrollAreaCorner",Xj=h.forwardRef((e,t)=>{const r=fr(Sp,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(LI,{...e,ref:t}):null});Xj.displayName=Sp;var LI=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=fr(Sp,r),[o,i]=h.useState(0),[l,c]=h.useState(0),d=!!(o&&l);return vo(s.scrollbarX,()=>{var m;const u=((m=s.scrollbarX)==null?void 0:m.offsetHeight)||0;s.onCornerHeightChange(u),c(u)}),vo(s.scrollbarY,()=>{var m;const u=((m=s.scrollbarY)==null?void 0:m.offsetWidth)||0;s.onCornerWidthChange(u),i(u)}),d?a.jsx(ge.div,{...n,ref:t,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Qc(e){return e?parseInt(e,10):0}function Zj(e,t){const r=e/t;return isNaN(r)?0:r}function $d(e){const t=Zj(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function $I(e,t,r,n="ltr"){const s=$d(r),o=s/2,i=t||o,l=s-i,c=r.scrollbar.paddingStart+i,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,m=n==="ltr"?[0,u]:[u*-1,0];return e_([c,d],m)(e)}function g0(e,t,r="ltr"){const n=$d(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,l=o-n,c=r==="ltr"?[0,i]:[i*-1,0],d=Ef(e,c);return e_([0,i],[0,l])(d)}function e_(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function t_(e,t){return e>0&&e<t}var FI=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,l=r.top!==o.top;(i||l)&&t(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Fd(e,t){const r=lt(e),n=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),h.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function vo(e,t){const r=lt(t);nt(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var r_=Vj,UI=Kj,BI=Xj;const n_=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(r_,{ref:n,className:ue("relative overflow-hidden",e),...r,children:[a.jsx(UI,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(s_,{}),a.jsx(BI,{})]}));n_.displayName=r_.displayName;const s_=h.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(_p,{ref:n,orientation:t,className:ue("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(Jj,{className:"relative flex-1 rounded-full bg-border"})}));s_.displayName=_p.displayName;const Bs=yp,zI=wp,qI=bp,a_=h.forwardRef(({className:e,...t},r)=>a.jsx(al,{ref:r,className:ue("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));a_.displayName=al.displayName;const Zn=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(qI,{children:[a.jsx(a_,{}),a.jsxs(ol,{ref:n,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(Ld,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Ys,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Zn.displayName=ol.displayName;const es=({className:e,...t})=>a.jsx("div",{className:ue("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});es.displayName="DialogHeader";const Xs=({className:e,...t})=>a.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Xs.displayName="DialogFooter";const ts=h.forwardRef(({className:e,...t},r)=>a.jsx(il,{ref:r,className:ue("text-lg font-semibold leading-none tracking-tight",e),...t}));ts.displayName=il.displayName;const hi=h.forwardRef(({className:e,...t},r)=>a.jsx(ll,{ref:r,className:ue("text-sm text-muted-foreground",e),...t}));hi.displayName=ll.displayName;const wn=h.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));wn.displayName="Textarea";function kp(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Cp="Radio",[WI,o_]=Lt(Cp),[VI,HI]=WI(Cp),i_=h.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:o,disabled:i,value:l="on",onCheck:c,form:d,...u}=e,[m,p]=h.useState(null),f=Se(t,v=>p(v)),b=h.useRef(!1),g=m?d||!!m.closest("form"):!0;return a.jsxs(VI,{scope:r,checked:s,disabled:i,children:[a.jsx(ge.button,{type:"button",role:"radio","aria-checked":s,"data-state":u_(s),"data-disabled":i?"":void 0,disabled:i,value:l,...u,ref:f,onClick:ae(e.onClick,v=>{s||c==null||c(),g&&(b.current=v.isPropagationStopped(),b.current||v.stopPropagation())})}),g&&a.jsx(d_,{control:m,bubbles:!b.current,name:n,value:l,checked:s,required:o,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});i_.displayName=Cp;var l_="RadioIndicator",c_=h.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,o=HI(l_,r);return a.jsx(Vt,{present:n||o.checked,children:a.jsx(ge.span,{"data-state":u_(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});c_.displayName=l_;var KI="RadioBubbleInput",d_=h.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},o)=>{const i=h.useRef(null),l=Se(i,o),c=kp(r),d=Km(t);return h.useEffect(()=>{const u=i.current;if(!u)return;const m=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==r&&f){const b=new Event("click",{bubbles:n});f.call(u,r),u.dispatchEvent(b)}},[c,r,n]),a.jsx(ge.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});d_.displayName=KI;function u_(e){return e?"checked":"unchecked"}var GI=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ud="RadioGroup",[YI,yL]=Lt(Ud,[Rd,o_]),h_=Rd(),f_=o_(),[QI,JI]=YI(Ud),m_=h.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:o,required:i=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:m,...p}=e,f=h_(r),b=rl(d),[g,v]=pn({prop:o,defaultProp:s??null,onChange:m,caller:Ud});return a.jsx(QI,{scope:r,name:n,required:i,disabled:l,value:g,onValueChange:v,children:a.jsx(ej,{asChild:!0,...f,orientation:c,dir:b,loop:u,children:a.jsx(ge.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:b,...p,ref:t})})})});m_.displayName=Ud;var p_="RadioGroupItem",g_=h.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,o=JI(p_,r),i=o.disabled||n,l=h_(r),c=f_(r),d=h.useRef(null),u=Se(t,d),m=o.value===s.value,p=h.useRef(!1);return h.useEffect(()=>{const f=g=>{GI.includes(g.key)&&(p.current=!0)},b=()=>p.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",b)}},[]),a.jsx(tj,{asChild:!0,...l,focusable:!i,active:m,children:a.jsx(i_,{disabled:i,required:o.required,checked:m,...c,...s,name:o.name,ref:u,onCheck:()=>o.onValueChange(s.value),onKeyDown:ae(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:ae(s.onFocus,()=>{var f;p.current&&((f=d.current)==null||f.click())})})})});g_.displayName=p_;var XI="RadioGroupIndicator",v_=h.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=f_(r);return a.jsx(c_,{...s,...n,ref:t})});v_.displayName=XI;var x_=m_,y_=g_,ZI=v_;const Bd=h.forwardRef(({className:e,...t},r)=>a.jsx(x_,{className:ue("grid gap-2",e),...t,ref:r}));Bd.displayName=x_.displayName;const Zs=h.forwardRef(({className:e,...t},r)=>a.jsx(y_,{ref:r,className:ue("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(ZI,{className:"flex items-center justify-center",children:a.jsx(GC,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Zs.displayName=y_.displayName;function Ir(){const e=Je(),t=la(),{cartItemCount:r}=Td(),n=[{icon:XC,label:"Home",path:"/shop",ariaLabel:"Go to Shop"},{icon:JC,label:"Categories",path:"/categories",ariaLabel:"Browse Categories"},{icon:YC,label:"Orders",path:"/orders",ariaLabel:"View Orders"},{icon:ho,label:"Cart",path:"/cart",showBadge:!0,ariaLabel:"View Cart"}];return a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 border-t border-border/40 bg-background/80 backdrop-blur-xl supports-[backdrop-filter]:bg-background/60 shadow-[0_-4px_20px_rgba(0,0,0,0.1)]",role:"navigation","aria-label":"Main navigation",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"flex items-center justify-around py-2",children:n.map(s=>{const o=s.icon,i=t.pathname===s.path;return a.jsxs("button",{type:"button",onClick:()=>e(s.path),"aria-label":s.ariaLabel,"aria-current":i?"page":void 0,className:ue("relative flex flex-col items-center justify-center gap-1 py-2 px-4 rounded-2xl transition-all duration-200",i?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[a.jsx(o,{className:ue("h-5 w-5 transition-transform",i&&"scale-110")}),a.jsx("span",{className:"text-xs font-medium",children:s.label}),s.showBadge&&r>0&&a.jsx(rt,{className:"absolute -top-1 -right-1 h-5 min-w-[1.25rem] flex items-center justify-center p-0 text-xs",children:r>99?"99+":r})]},s.label)})})})})}function V({className:e,...t}){return a.jsx("div",{className:ue("animate-skeleton-pulse bg-muted/80 rounded-md",e),...t})}function w_(){const{user:e}=et(),[t,r]=h.useState([]),[n,s]=h.useState([]),[o,i]=h.useState(!0),l=h.useCallback(async u=>{if(e)try{const{data:m}=await A.from("user_product_views").select("id, view_count").eq("user_id",e.id).eq("product_id",u).single();if(m){const p=m;await A.from("user_product_views").update({view_count:(p.view_count||1)+1,viewed_at:new Date().toISOString()}).eq("id",p.id)}else await A.from("user_product_views").insert({user_id:e.id,product_id:u,view_count:1})}catch{}},[e]),c=h.useCallback(async u=>{const m=new Map;try{const p=new Date(Date.now()-6048e5).toISOString(),{data:f}=await A.from("order_items").select("product_id, quantity").gte("created_at",p);f&&f.forEach(g=>{const v=m.get(g.product_id)||0;m.set(g.product_id,v+g.quantity)});const b=Math.max(...Array.from(m.values()),1);m.forEach((g,v)=>{m.set(v,g/b*20)})}catch{}return m},[]),d=h.useCallback(async()=>{try{const{data:u}=await A.from("products").select("*").gt("stock_quantity",0).order("created_at",{ascending:!1});if(!u||u.length===0){i(!1);return}const m=u.map(B=>B.id),{data:p}=await A.from("product_variants").select("*").in("product_id",m).eq("is_default",!0),f=u.map(B=>{const M=(p==null?void 0:p.find(G=>G.product_id===B.id))||null;return{...B,default_variant:M}}),b=await c(f);if(!e){const B=[...f].sort((M,G)=>{const P=b.get(M.id)||0;return(b.get(G.id)||0)-P});s(B.slice(0,10)),r([]),i(!1);return}const{data:g}=await A.from("user_product_views").select("product_id, view_count, viewed_at").eq("user_id",e.id).order("viewed_at",{ascending:!1}).limit(50),{data:v}=await A.from("orders").select(`
                    id,
                    created_at,
                    order_items(product_id, products(category_id))
                `).eq("user_id",e.id).in("status",["delivered","out_for_delivery","confirmed"]).order("created_at",{ascending:!1}).limit(30),y={},x=new Set,w=new Date(Date.now()-14*24*60*60*1e3),j=new Date(Date.now()-7*24*60*60*1e3);v&&v.forEach(B=>{var G;const M=new Date(B.created_at);(G=B.order_items)==null||G.forEach(P=>{var C;const H=(C=P.products)==null?void 0:C.category_id;if(H){const R=(Date.now()-M.getTime())/864e5,K=Math.exp(-R/30);y[H]=(y[H]||0)+35*K}M>w&&x.add(P.product_id)})});const N={};g&&Array.isArray(g)&&g.forEach((B,M)=>{const G=Math.exp(-M/20),P=Math.min(B.view_count*5*G,25);N[B.product_id]=P;const H=f.find(C=>C.id===B.product_id);H!=null&&H.category_id&&(y[H.category_id]=(y[H.category_id]||0)+B.view_count*2*G)});const S=Math.max(...Object.values(y),1);Object.keys(y).forEach(B=>{y[B]=y[B]/S*35});const k=f.map(B=>{if(x.has(B.id))return{product:B,score:-1,reasons:["recently_purchased"]};let M=0;const G=[];B.category_id&&y[B.category_id]&&(M+=y[B.category_id],G.push("category_match")),N[B.id]&&(M+=N[B.id],G.push("viewed"));const P=b.get(B.id)||0;M+=P,P>5&&G.push("trending");const H=Date.now()-new Date(B.created_at||0).getTime();return H<7*24*60*60*1e3?(M+=10,G.push("new")):H<14*24*60*60*1e3&&(M+=5),M+=Math.random()*5,{product:B,score:M,reasons:G}}).filter(B=>B.score>=0).sort((B,M)=>M.score-B.score),T={},O=4,I=k.filter(({product:B})=>{const M=B.category_id||"uncategorized";return T[M]=(T[M]||0)+1,T[M]<=O}).slice(0,12);r(I.map(B=>B.product));const $=[...f].filter(B=>!x.has(B.id)).sort((B,M)=>(b.get(M.id)||0)-(b.get(B.id)||0)).slice(0,8);s($)}catch(u){console.error("Recommendations error:",u)}finally{i(!1)}},[e,c]);return h.useEffect(()=>{d()},[d]),{recommendedProducts:t,trendingProducts:n,isLoading:o,trackView:l}}function Ep({orderId:e,onClose:t}){const r=Je(),[n,s]=h.useState(!1),[o,i]=h.useState(!1),[l,c]=h.useState(!1);h.useEffect(()=>{const m=setTimeout(()=>c(!0),200),p=setTimeout(()=>i(!0),400),f=setTimeout(()=>s(!0),800);return()=>{clearTimeout(m),clearTimeout(p),clearTimeout(f)}},[]);const d=()=>{t&&t(),r("/orders")},u=()=>{t&&t(),r("/shop")};return a.jsxs("div",{className:"fixed inset-0 z-[100] bg-gradient-to-br from-green-600 via-emerald-600 to-teal-600 flex items-center justify-center overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 overflow-hidden",children:o&&a.jsxs(a.Fragment,{children:[[...Array(20)].map((m,p)=>a.jsx("div",{className:"absolute animate-float-up",style:{left:`${Math.random()*100}%`,top:`${80+Math.random()*40}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${3+Math.random()*3}s`},children:a.jsx("div",{className:"rounded-full bg-white/20",style:{width:`${10+Math.random()*30}px`,height:`${10+Math.random()*30}px`}})},p)),[...Array(15)].map((m,p)=>a.jsx("div",{className:"absolute animate-pulse-scale",style:{left:`${10+Math.random()*80}%`,top:`${10+Math.random()*80}%`,animationDelay:`${Math.random()*1.5}s`},children:a.jsx(Iw,{className:"text-yellow-300/60",style:{width:16+Math.random()*20}})},`sparkle-${p}`))]})}),a.jsxs("div",{className:"relative z-10 text-center px-6 max-w-md mx-auto",children:[a.jsx("div",{className:`transition-all duration-700 ease-out ${l?"scale-100 opacity-100":"scale-50 opacity-0"}`,children:a.jsxs("div",{className:"relative mx-auto w-32 h-32 mb-8",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-white/20 animate-ping"}),a.jsx("div",{className:"absolute inset-2 rounded-full bg-white/30 animate-pulse"}),a.jsx("div",{className:"absolute inset-4 rounded-full bg-white flex items-center justify-center shadow-2xl",children:a.jsx(dr,{className:"w-16 h-16 text-green-600 animate-bounce-once"})})]})}),a.jsxs("div",{className:`transition-all duration-700 delay-200 ${n?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-3",children:"Order Placed! "}),a.jsx("p",{className:"text-white/90 text-lg mb-2",children:"Thank you for your order"}),a.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-6 py-4 mb-8 inline-block",children:[a.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Order ID"}),a.jsxs("p",{className:"text-white font-mono font-bold text-lg tracking-wide",children:["#",e.slice(0,8).toUpperCase()]})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-white/80 mb-8",children:[a.jsx(Fe,{className:"w-5 h-5 animate-bounce"}),a.jsx("span",{className:"text-sm",children:"Your order is being prepared"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[a.jsx(q,{onClick:d,className:"bg-white text-green-600 hover:bg-white/90 font-semibold px-8 py-6 text-base rounded-xl shadow-lg",children:"View Order"}),a.jsx(q,{onClick:u,variant:"outline",className:"border-2 border-white/50 text-white hover:bg-white/10 font-semibold px-8 py-6 text-base rounded-xl bg-transparent",children:"Continue Shopping"})]})]})]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:a.jsx("svg",{viewBox:"0 0 1440 120",className:"w-full h-20 fill-white/10",children:a.jsx("path",{d:"M0,64L48,69.3C96,75,192,85,288,80C384,75,480,53,576,48C672,43,768,53,864,64C960,75,1056,85,1152,80C1248,75,1344,53,1392,42.7L1440,32L1440,120L1392,120C1344,120,1248,120,1152,120C1056,120,960,120,864,120C768,120,672,120,576,120C480,120,384,120,288,120C192,120,96,120,48,120L0,120Z"})})})]})}function e3(){const{user:e,loading:t,signOut:r}=et(),{refreshCart:n}=Td(),s=Je(),[o]=Bb(),[i,l]=h.useState([]),c=o.get("category"),[d,u]=h.useState(c),[m,p]=h.useState([]),[f,b]=h.useState([]),[g,v]=h.useState(""),[y,x]=h.useState(!0),[w,j]=h.useState(!1),[N,S]=h.useState(""),[E,k]=h.useState("saved"),[T,O]=h.useState(""),[I,$]=h.useState(!1),[B,M]=h.useState(null),[G,P]=h.useState(!1),[H,C]=h.useState(null),{recommendedProducts:R,isLoading:K,trackView:te}=w_();h.useEffect(()=>{const D=o.get("category");D!==d&&u(D)},[o]),h.useEffect(()=>{e&&!t&&oe()},[d,e,t]),h.useEffect(()=>{if(t)return;if(!e){s("/auth");return}Z(),he(),ke();const D=()=>$(!0);return window.addEventListener("openCart",D),()=>window.removeEventListener("openCart",D)},[e,t,s]);const Z=async()=>{const{data:D,error:ee}=await A.from("categories").select("*").eq("is_active",!0).order("display_order");!ee&&D&&l(D),x(!1)},oe=async()=>{let D=A.from("products").select("*").eq("is_active",!0);d&&(D=D.eq("category_id",d));const{data:ee,error:F}=await D;if(!F&&ee){const _=ee.map(re=>re.id),{data:L}=await A.from("product_variants").select("*").in("product_id",_).eq("is_default",!0),X=ee.map(re=>{const ye=(L==null?void 0:L.find(Ue=>Ue.product_id===re.id))||null;return{...re,default_variant:ye}});p(X)}},he=async()=>{if(!e)return;const{data:D,error:ee}=await A.from("cart_items").select("*, products(*), product_variants(*)").eq("user_id",e.id);!ee&&D&&b(D)},ke=async()=>{if(!e)return;const{data:D}=await A.from("profiles").select("address").eq("id",e.id).single();D!=null&&D.address?(S(D.address),k("saved")):k("new")};h.useEffect(()=>{e&&oe()},[d,e]);const Re=async D=>{if(!e)return;const{data:ee,error:F}=await A.from("products").select("stock_quantity, name").eq("id",D).single();if(F||!ee){U.error("Failed to check stock availability");return}const _=f.find(re=>re.product_id===D),L=_?_.quantity:0;if(L+1>ee.stock_quantity){ee.stock_quantity===0?U.error(`${ee.name} is out of stock`):L>=ee.stock_quantity?U.error(`Only ${ee.stock_quantity} ${ee.name} available. You already have ${L} in cart.`):U.error(`Only ${ee.stock_quantity} ${ee.name} available`);return}if(_){const{error:re}=await A.from("cart_items").update({quantity:_.quantity+1}).eq("id",_.id);re?U.error("Failed to update cart"):(he(),n(),U.success("Cart updated"))}else{const{error:re}=await A.from("cart_items").insert({user_id:e.id,product_id:D,quantity:1});re?U.error("Failed to add to cart"):(he(),n(),U.success("Added to cart"))}},Q=async(D,ee)=>{if(ee<=0){await z(D);return}const F=f.find(re=>re.id===D);if(!F)return;const{data:_,error:L}=await A.from("products").select("stock_quantity, name").eq("id",F.product_id).single();if(L||!_){U.error("Failed to check stock availability");return}if(ee>_.stock_quantity){if(U.error(`Only ${_.stock_quantity} ${_.name} available`),_.stock_quantity>0&&_.stock_quantity!==F.quantity){const{error:re}=await A.from("cart_items").update({quantity:_.stock_quantity}).eq("id",D);re||(he(),U.info(`Cart updated to maximum available (${_.stock_quantity})`))}return}const{error:X}=await A.from("cart_items").update({quantity:ee}).eq("id",D);X||he()},z=async D=>{const{error:ee}=await A.from("cart_items").delete().eq("id",D);ee||(he(),U.success("Removed from cart"))},de=()=>{!e||f.length===0||(M(null),j(!0))},ve=async()=>{if(!e)return;const D=B!==null;if(!D&&f.length===0){U.error("Your cart is empty");return}const ee=E==="saved"?N:T.trim();if(!ee){U.error("Please provide a delivery address");return}try{const F=D?[{product_id:B.id,quantity:1,price:B.price}]:f.map(Ce=>({product_id:Ce.product_id,quantity:Ce.quantity,price:Ce.products.price})),_=F.map(Ce=>Ce.product_id),{data:L,error:X}=await A.from("products").select("id, name, stock_quantity").in("id",_);if(X||!L){U.error("Failed to verify stock. Please try again.");return}const re=new Map(L.map(Ce=>[Ce.id,{name:Ce.name,stock:Ce.stock_quantity}])),ye=F.filter(Ce=>{const st=re.get(Ce.product_id);return st&&Ce.quantity>st.stock});if(ye.length>0){const Ce=ye.map(st=>{const Ht=re.get(st.product_id);return`${Ht==null?void 0:Ht.name}: Only ${Ht==null?void 0:Ht.stock} available`});U.error(`Cannot place order: ${Ce.join(", ")}`);return}E==="new"&&T.trim()&&(await A.from("profiles").update({address:T.trim()}).eq("id",e.id),S(T.trim()));const Ue=F.reduce((Ce,st)=>Ce+st.price*st.quantity,0),{data:ct,error:yt}=await A.from("orders").insert({user_id:e.id,total_amount:Ue,delivery_address:ee,status:"pending"}).select().single();if(yt){console.error("Order creation error:",yt),U.error(`Failed to place order: ${yt.message}`);return}if(!ct){U.error("Failed to place order");return}const Io=F.map(Ce=>({order_id:ct.id,product_id:Ce.product_id,quantity:Ce.quantity,price:Ce.price})),{error:gs}=await A.from("order_items").insert(Io);if(gs){console.error("Order items error:",gs),U.error(`Failed to create order items: ${gs.message}`);return}for(const Ce of F){const st=re.get(Ce.product_id);if(st){const Ht=Math.max(0,st.stock-Ce.quantity);await A.from("products").update({stock_quantity:Ht}).eq("id",Ce.product_id)}}D||(await A.from("cart_items").delete().eq("user_id",e.id),he()),oe(),j(!1),$(!1),M(null),O(""),C(ct.id),P(!0)}catch(F){console.error("Unexpected error placing order:",F),U.error("An unexpected error occurred. Please try again.")}},fe=m.filter(D=>D.name.toLowerCase().includes(g.toLowerCase())),ie=f.reduce((D,ee)=>D+ee.products.price*ee.quantity,0);return y?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 pb-20",children:[a.jsx("header",{className:"sticky top-0 z-40 border-b border-border/40 bg-background/40 backdrop-blur-xl supports-[backdrop-filter]:bg-background/20 shadow-[0_10px_40px_rgba(15,23,42,0.35)]",children:a.jsx("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(V,{className:"h-6 w-6 rounded-md"}),a.jsx(V,{className:"h-6 w-32 rounded-md"})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-6",children:a.jsx(V,{className:"h-10 w-full max-w-md mx-auto rounded-md"})}),a.jsx("div",{className:"container mx-auto px-4 pb-4",children:a.jsx("div",{className:"flex gap-2 overflow-hidden",children:[1,2,3,4,5].map(D=>a.jsx(V,{className:"h-9 w-24 rounded-full shrink-0"},D))})}),a.jsx("div",{className:"container mx-auto px-4 pb-8",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[1,2,3,4,5,6,7,8,9,10].map(D=>a.jsxs("div",{className:"rounded-2xl border-2 border-border/40 bg-card overflow-hidden",children:[a.jsx(V,{className:"aspect-square w-full"}),a.jsxs("div",{className:"p-3 space-y-2",children:[a.jsx(V,{className:"h-4 w-3/4"}),a.jsxs("div",{className:"flex items-center justify-between pt-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(V,{className:"h-5 w-16"}),a.jsx(V,{className:"h-3 w-10"})]}),a.jsxs("div",{className:"flex gap-1.5",children:[a.jsx(V,{className:"h-8 w-16 rounded-full"}),a.jsx(V,{className:"h-8 w-8 rounded-full"})]})]})]})]},D))})}),a.jsx(Ir,{})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 pb-20",children:[G&&H&&a.jsx(Ep,{orderId:H,onClose:()=>P(!1)}),a.jsx("header",{className:"sticky top-0 z-40 border-b border-border/40 bg-background/95 backdrop-blur-xl supports-[backdrop-filter]:bg-background/80 shadow-sm",children:a.jsx("div",{className:"container mx-auto px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:"/dist/logo.svg",alt:"PremaShop",className:"h-8 w-auto"}),a.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"PremaShop"})]}),a.jsx("p",{className:"text-xs text-muted-foreground font-medium ml-8",children:" Rapid Delivery in 14 mins"})]}),a.jsx(q,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-full bg-primary/10 hover:bg-primary/20",onClick:()=>s("/profile"),"aria-label":"View Profile",children:a.jsx(Zi,{className:"h-5 w-5 text-primary"})})]})})}),a.jsxs(NI,{open:I,onOpenChange:$,children:[a.jsx(SI,{asChild:!0,children:a.jsx("button",{id:"cart-trigger",className:"hidden"})}),a.jsxs(Bj,{children:[a.jsx(zj,{children:a.jsx(qj,{children:"Your Cart"})}),a.jsx(n_,{className:"h-[calc(100vh-200px)] mt-4",children:f.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Your cart is empty"}):a.jsx("div",{className:"space-y-4",children:f.map(D=>a.jsx(ne,{children:a.jsx(se,{className:"p-4",children:a.jsx("div",{className:"flex items-start gap-3",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:D.products.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",D.products.price," / ",D.products.unit]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx(q,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>Q(D.id,D.quantity-1),children:a.jsx(Xi,{className:"h-3 w-3"})}),a.jsx("span",{className:"w-8 text-center",children:D.quantity}),a.jsx(q,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>Q(D.id,D.quantity+1),children:a.jsx(Kr,{className:"h-3 w-3"})}),a.jsx(q,{size:"icon",variant:"ghost",className:"h-7 w-7 ml-auto",onClick:()=>z(D.id),children:a.jsx(fo,{className:"h-3 w-3"})})]})]})})})},D.id))})}),f.length>0&&a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-background border-t",children:[a.jsxs("div",{className:"flex justify-between mb-4",children:[a.jsx("span",{className:"font-medium",children:"Total:"}),a.jsxs("span",{className:"font-bold text-lg",children:["$",ie.toFixed(2)]})]}),a.jsx(q,{className:"w-full",onClick:de,children:"Place Order"})]})]})]}),a.jsx("div",{className:"container mx-auto px-4 py-6",children:a.jsxs("div",{className:"relative max-w-md mx-auto",children:[a.jsx(Mm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(Pe,{placeholder:"Search products...",className:"pl-10",value:g,onChange:D=>v(D.target.value)})]})}),a.jsx("div",{className:"container mx-auto px-4 pb-4",children:a.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-4 px-4 scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:[a.jsx(q,{variant:d===null?"default":"outline",onClick:()=>u(null),className:"rounded-full flex-shrink-0",children:"All"}),i.map(D=>a.jsx(q,{variant:d===D.id?"default":"outline",onClick:()=>u(D.id),className:"rounded-full flex-shrink-0 whitespace-nowrap",children:D.name},D.id))]})}),e&&R.length>0&&!g&&!d&&a.jsxs("div",{className:"container mx-auto px-4 pb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center shadow-lg",children:a.jsx(Iw,{className:"h-4 w-4 text-white"})}),a.jsx("h2",{className:"text-lg font-bold",children:"For You"})]}),a.jsx("div",{className:"flex overflow-x-auto gap-3 pb-2 -mx-4 px-4 snap-x snap-mandatory scrollbar-hide",children:R.slice(0,8).map(D=>a.jsx("div",{className:"min-w-[160px] max-w-[160px] snap-start cursor-pointer",onClick:()=>{te(D.id),s(`/product/${D.id}`)},children:a.jsxs(ne,{className:"overflow-hidden rounded-xl border border-border/50 bg-card/90 hover:shadow-lg transition-all h-full",children:[a.jsxs("div",{className:"aspect-square bg-muted relative overflow-hidden",children:[D.image_url?a.jsx("img",{src:D.image_url,alt:D.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(Fe,{className:"h-8 w-8 text-muted-foreground"})}),(()=>{const ee=D.default_variant,F=(ee==null?void 0:ee.price)??D.price,_=(ee==null?void 0:ee.mrp)??D.mrp,L=_&&_>F?Math.round((_-F)/_*100):D.discount_percent||0;return L>0?a.jsxs("div",{className:"absolute top-1 left-1 px-1.5 py-0.5 rounded bg-gradient-to-r from-green-500 to-emerald-600 text-white text-[10px] font-bold",children:[L,"% OFF"]}):null})(),D.stock_quantity<=5&&D.stock_quantity>0&&a.jsx(rt,{className:"absolute top-1 right-1 text-[10px] bg-red-500 text-white px-1.5 py-0.5",children:"Low"})]}),a.jsxs(se,{className:"p-2",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:D.name}),D.default_variant&&a.jsx("span",{className:"text-[10px] text-muted-foreground",children:D.default_variant.variant_name}),(()=>{const ee=D.default_variant,F=(ee==null?void 0:ee.price)??D.price,_=(ee==null?void 0:ee.mrp)??D.mrp;return _&&_>F?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("p",{className:"text-sm font-bold text-primary",children:["",F]}),a.jsxs("p",{className:"text-xs text-muted-foreground line-through",children:["",_]})]}):D.discount_percent&&D.discount_percent>0?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("p",{className:"text-sm font-bold text-primary",children:["",Math.round(D.price*(100-D.discount_percent)/100)]}),a.jsxs("p",{className:"text-xs text-muted-foreground line-through",children:["",D.price]})]}):a.jsxs("p",{className:"text-sm font-bold text-primary",children:["",F]})})()]})]})},D.id))})]}),a.jsx("div",{className:"container mx-auto px-4 pb-8",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:fe.map(D=>{const ee=D.stock_quantity<=0,F=D.stock_quantity>0&&D.stock_quantity<=5,_=D.stock_quantity>5&&D.stock_quantity<=10;return a.jsxs(ne,{className:`overflow-hidden rounded-2xl border-2 bg-card/90 hover:shadow-xl transition-all relative ${ee?"border-destructive/60 bg-destructive/5":F?"border-red-500/60 bg-red-50/50 dark:bg-red-950/20":_?"border-orange-400/60 bg-orange-50/50 dark:bg-orange-950/20":"border-border/40 hover:border-primary/40"}`,children:[(F||_)&&!ee&&a.jsx("div",{className:`absolute top-2 right-2 z-10 px-2 py-1 rounded-full text-xs font-bold ${F?"bg-red-500 text-white animate-pulse":"bg-orange-500 text-white"}`,children:F?`Only ${D.stock_quantity} left!`:`${D.stock_quantity} left`}),(()=>{const L=D.default_variant,X=(L==null?void 0:L.price)??D.price,re=(L==null?void 0:L.mrp)??D.mrp,ye=re&&re>X?Math.round((re-X)/re*100):D.discount_percent||0;return ye>0?a.jsxs("div",{className:"absolute top-2 left-2 z-10 px-2 py-1 rounded-md bg-gradient-to-r from-green-500 to-emerald-600 text-white text-xs font-bold shadow-lg",children:[ye,"% OFF"]}):null})(),a.jsxs(se,{className:"p-0",children:[a.jsx("div",{className:`aspect-square bg-muted flex items-center justify-center cursor-pointer ${ee?"opacity-50":""}`,onClick:()=>s(`/product/${D.id}`),children:D.image_url?a.jsx("img",{src:D.image_url,alt:D.name,className:"w-full h-full object-cover"}):a.jsx(Fe,{className:"h-12 w-12 text-muted-foreground"})}),a.jsxs("div",{className:"p-3",children:[a.jsx("h3",{className:"font-medium text-sm line-clamp-2 mb-1 cursor-pointer hover:text-primary transition-colors",onClick:()=>s(`/product/${D.id}`),children:D.name}),D.default_variant&&a.jsx("span",{className:"text-[10px] text-muted-foreground block mb-1",children:D.default_variant.variant_name}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{children:(()=>{const L=D.default_variant,X=(L==null?void 0:L.price)??D.price,re=(L==null?void 0:L.mrp)??D.mrp,ye=(L==null?void 0:L.variant_name)??D.unit;return re&&re>X?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-lg font-bold text-primary",children:["",X]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsxs("p",{className:"text-xs text-muted-foreground line-through",children:["",re]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["/ ",ye]})]})]}):D.discount_percent&&D.discount_percent>0?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-lg font-bold text-primary",children:["",Math.round(D.price*(100-D.discount_percent)/100)]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsxs("p",{className:"text-xs text-muted-foreground line-through",children:["",D.price]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["/ ",D.unit]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-lg font-bold text-primary",children:["",X]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["/ ",ye]})]})})()}),a.jsx(q,{size:"icon",className:`h-9 w-9 rounded-full ${ee?"opacity-50":""}`,onClick:()=>Re(D.id),disabled:ee,children:a.jsx(Kr,{className:"h-4 w-4"})})]}),ee&&a.jsx(rt,{variant:"destructive",className:"w-full mt-2 justify-center",children:"Out of Stock"}),F&&a.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 font-medium mt-2 text-center",children:" Hurry! Almost sold out"})]})]})]},D.id)})})}),a.jsx(Bs,{open:w,onOpenChange:j,children:a.jsxs(Zn,{children:[a.jsx(es,{children:a.jsx(ts,{children:"Select Delivery Address"})}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs(Bd,{value:E,onValueChange:D=>k(D),children:[N&&a.jsxs("div",{className:"flex items-start space-x-3 p-4 border rounded-lg",children:[a.jsx(Zs,{value:"saved",id:"saved"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(xe,{htmlFor:"saved",className:"font-medium cursor-pointer",children:"Use Saved Address"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:N})]})]}),a.jsxs("div",{className:"flex items-start space-x-3 p-4 border rounded-lg",children:[a.jsx(Zs,{value:"new",id:"new"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(xe,{htmlFor:"new",className:"font-medium cursor-pointer",children:"Enter New Address"}),E==="new"&&a.jsx(wn,{placeholder:"Enter your complete delivery address...",className:"mt-3",rows:4,value:T,onChange:D=>O(D.target.value)})]})]})]})}),a.jsxs(Xs,{children:[a.jsx(q,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),a.jsx(q,{onClick:ve,children:"Confirm Order"})]})]})}),a.jsx(Ir,{})]})}function t3(){const{user:e,loading:t}=et(),r=Je(),[n,s]=h.useState([]),[o,i]=h.useState(!0),[l,c]=h.useState({open:!1,orderId:null,assignmentId:null,deliveryPersonId:null}),[d,u]=h.useState({open:!1,orderId:null,deliveryPersonId:null}),[m,p]=h.useState(0),[f,b]=h.useState({open:!1,productId:null,productName:"",orderId:null}),[g,v]=h.useState(0),[y,x]=h.useState("");h.useEffect(()=>{if(t)return;if(!e){r("/auth");return}w();const I=A.channel("orders-changes").on("postgres_changes",{event:"*",schema:"public",table:"orders",filter:`user_id=eq.${e.id}`},()=>w()).on("postgres_changes",{event:"UPDATE",schema:"public",table:"delivery_assignments"},$=>{$.new.marked_delivered_at&&!$.new.user_confirmed_at&&!$.old.marked_delivered_at?(w(),setTimeout(()=>{c({open:!0,orderId:$.new.order_id,assignmentId:$.new.id,deliveryPersonId:$.new.delivery_person_id}),U.info("Delivery person marked your order as delivered!",{duration:5e3})},500)):w()}).subscribe();return()=>{A.removeChannel(I)}},[e,t,r]);const w=async()=>{if(!e)return;const{data:I,error:$}=await A.from("orders").select("*, order_items(id, quantity, price, product_id, products(id, name, image_url)), delivery_assignments(*)").eq("user_id",e.id).order("created_at",{ascending:!1});if(!$&&I){const B=I.map(M=>({...M,order_items:Array.isArray(M.order_items)?M.order_items:[],delivery_assignments:Array.isArray(M.delivery_assignments)?M.delivery_assignments:M.delivery_assignments?[M.delivery_assignments]:[]}));s(B)}i(!1)},j=async()=>{l.assignmentId&&(await A.from("delivery_assignments").update({user_confirmed_at:new Date().toISOString()}).eq("id",l.assignmentId),await A.from("orders").update({status:"delivered"}).eq("id",l.orderId),U.success("Order confirmed as delivered!"),w(),c({open:!1,orderId:null,assignmentId:null,deliveryPersonId:null}),u({open:!0,orderId:l.orderId,deliveryPersonId:l.deliveryPersonId}),p(5))},N=async()=>{if(!l.assignmentId)return;const{data:I}=await A.from("delivery_assignments").select("delivery_person_id, order_id").eq("id",l.assignmentId).single();await A.from("delivery_assignments").update({is_rejected:!0,rejection_reason:"User rejected delivery",marked_delivered_at:null}).eq("id",l.assignmentId),await A.from("orders").update({status:"pending"}).eq("id",l.orderId),I&&await A.from("malicious_activities").insert({order_id:I.order_id,user_id:e==null?void 0:e.id,delivery_person_id:I.delivery_person_id,activity_type:"delivery_rejected",description:"User rejected the delivery after delivery person marked as delivered."}),U.success("Issue reported. Admin has been notified."),w(),c({open:!1,orderId:null,assignmentId:null,deliveryPersonId:null})},S=async()=>{if(d.orderId){try{await A.from("delivery_ratings").insert({order_id:d.orderId,delivery_person_id:d.deliveryPersonId,user_id:e==null?void 0:e.id,rating:m,created_at:new Date().toISOString()})}catch{console.log("Delivery rating stored locally:",m)}U.success(`Thanks for rating! ${m} `),u({open:!1,orderId:null,deliveryPersonId:null})}},E=async()=>{if(!f.productId||!y.trim()){U.error("Please write a review");return}try{await A.from("product_reviews").insert({product_id:f.productId,user_id:e==null?void 0:e.id,order_id:f.orderId,rating:g,review_text:y.trim(),created_at:new Date().toISOString()}),U.success("Review submitted! Thanks for your feedback.")}catch{U.info("Review saved locally. Thank you!")}b({open:!1,productId:null,productName:"",orderId:null}),v(0),x("")},k=I=>{switch(I){case"pending":return a.jsx(Fs,{className:"h-4 w-4"});case"confirmed":return a.jsx(Fe,{className:"h-4 w-4"});case"out_for_delivery":return a.jsx(oa,{className:"h-4 w-4"});case"delivered":return a.jsx(dr,{className:"h-4 w-4"});case"cancelled":case"rejected":return a.jsx(Wa,{className:"h-4 w-4"});default:return a.jsx(Fe,{className:"h-4 w-4"})}},T=I=>{switch(I){case"pending":return"bg-warning/10 text-warning";case"confirmed":return"bg-info/10 text-info";case"out_for_delivery":return"bg-primary/10 text-primary";case"delivered":return"bg-success/10 text-success";case"cancelled":case"rejected":return"bg-destructive/10 text-destructive";default:return"bg-muted/10 text-muted-foreground"}},O=({rating:I,onRatingChange:$,size:B="md"})=>{const M=B==="lg"?"h-10 w-10":B==="sm"?"h-6 w-6":"h-8 w-8";return a.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(G=>a.jsx("button",{type:"button",onClick:()=>$(G),className:"focus:outline-none transition-transform hover:scale-110 active:scale-95",children:a.jsx(Jo,{className:`${M} ${G<=I?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-200"} transition-colors`})},G))})};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-background pb-20",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur border-b",children:a.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-4",children:[a.jsx(q,{variant:"ghost",size:"icon",onClick:()=>r("/shop"),children:a.jsx(No,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-xl font-bold",children:"My Orders"})]})}),a.jsx("div",{className:"container mx-auto px-4 py-6",children:o?a.jsx("div",{className:"space-y-4",children:[1,2,3].map(I=>a.jsxs(ne,{children:[a.jsx(be,{className:"pb-2",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(V,{className:"h-5 w-48"}),a.jsx(V,{className:"h-3 w-32"})]}),a.jsx(V,{className:"h-6 w-20 rounded-full"})]})}),a.jsx(se,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(V,{className:"h-4 w-full"}),a.jsx(V,{className:"h-4 w-2/3"}),a.jsx(V,{className:"h-8 w-full mt-2 rounded-md"})]})})]},I))}):n.length===0?a.jsx(ne,{children:a.jsxs(se,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Fe,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No orders yet"}),a.jsx(q,{onClick:()=>r("/shop"),className:"mt-4",children:"Start Shopping"})]})}):a.jsx("div",{className:"space-y-4",children:n.map(I=>{var G,P,H;const $=I.delivery_assignments[0],B=($==null?void 0:$.marked_delivered_at)&&!$.user_confirmed_at&&!$.is_rejected,M=I.status==="delivered";return a.jsxs(ne,{children:[a.jsx(be,{className:"pb-2",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs(Ee,{className:"text-base cursor-pointer hover:text-primary transition-colors truncate",onClick:()=>{var C,R;return((R=(C=I.order_items[0])==null?void 0:C.products)==null?void 0:R.id)&&r(`/product/${I.order_items[0].products.id}`)},children:[((P=(G=I.order_items[0])==null?void 0:G.products)==null?void 0:P.name)||"Order",I.order_items.length>1&&` +${I.order_items.length-1}`,a.jsxs("span",{className:"text-muted-foreground text-sm font-normal ml-2",children:["x",I.order_items.reduce((C,R)=>C+R.quantity,0)]})]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["#",I.id.slice(0,8),"  ",new Date(I.created_at).toLocaleDateString()]})]}),a.jsx(rt,{className:T(I.status),children:a.jsxs("div",{className:"flex items-center gap-1",children:[k(I.status),a.jsx("span",{className:"capitalize",children:I.status.replace("_"," ")})]})})]})}),a.jsx(se,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total:"}),a.jsxs("span",{className:"font-bold text-primary",children:["",I.total_amount.toFixed(0)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Address:"}),a.jsx("span",{className:"font-medium text-right max-w-[180px] truncate",children:I.delivery_address})]}),B&&a.jsxs("div",{className:"mt-3 p-3 bg-warning/10 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Did you receive your order?"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(q,{size:"sm",className:"flex-1",onClick:()=>c({open:!0,orderId:I.id,assignmentId:$.id,deliveryPersonId:$.delivery_person_id}),children:"Yes"}),a.jsx(q,{size:"sm",variant:"destructive",className:"flex-1",onClick:()=>c({open:!0,orderId:I.id,assignmentId:$.id,deliveryPersonId:$.delivery_person_id}),children:"No"})]})]}),M&&((H=I.order_items[0])==null?void 0:H.products)&&a.jsxs(q,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:()=>b({open:!0,productId:I.order_items[0].products.id,productName:I.order_items[0].products.name,orderId:I.id}),children:[a.jsx(sE,{className:"h-4 w-4 mr-2"}),"Write a Review"]})]})})]},I.id)})})}),a.jsx(Bs,{open:l.open,onOpenChange:I=>c({...l,open:I}),children:a.jsxs(Zn,{children:[a.jsxs(es,{children:[a.jsx(ts,{children:"Confirm Delivery"}),a.jsx(hi,{children:"Please confirm whether you received your order or report an issue."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(q,{onClick:j,className:"flex-1",children:[a.jsx(dr,{className:"mr-2 h-4 w-4"}),"Received"]}),a.jsxs(q,{onClick:N,variant:"destructive",className:"flex-1",children:[a.jsx(Wa,{className:"mr-2 h-4 w-4"}),"Report Issue"]})]})]})}),a.jsx(Bs,{open:d.open,onOpenChange:I=>{I||p(0),u({...d,open:I})},children:a.jsxs(Zn,{className:"max-w-sm",children:[a.jsxs(es,{children:[a.jsx(ts,{className:"text-center",children:"Rate Your Delivery"}),a.jsx(hi,{className:"text-center",children:"How was the delivery experience? (Optional)"})]}),a.jsxs("div",{className:"flex flex-col items-center gap-4 py-4",children:[a.jsx(O,{rating:m,onRatingChange:p,size:"lg"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:m===0?"Tap to rate":m===5?"Excellent!":m===4?"Great!":m===3?"Good":m===2?"Fair":"Poor"})]}),a.jsxs(Xs,{className:"flex-col gap-2 sm:flex-col",children:[a.jsx(q,{onClick:S,className:"w-full",disabled:m===0,children:"Submit Rating"}),a.jsx(q,{variant:"ghost",onClick:()=>{u({open:!1,orderId:null,deliveryPersonId:null}),p(0)},className:"w-full text-muted-foreground",children:"Skip Rating"})]})]})}),a.jsx(Bs,{open:f.open,onOpenChange:I=>{I||(v(0),x("")),b({...f,open:I})},children:a.jsxs(Zn,{className:"max-w-sm",children:[a.jsxs(es,{children:[a.jsxs(ts,{children:["Review: ",f.productName]}),a.jsx(hi,{children:"Share your experience with this product (Optional)"})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your rating ",g===0&&"(tap to rate)"]}),a.jsx(O,{rating:g,onRatingChange:v,size:"lg"})]}),a.jsx(wn,{placeholder:"Write your review here... (optional)",value:y,onChange:I=>x(I.target.value),className:"min-h-[100px]"})]}),a.jsxs(Xs,{className:"flex-col gap-2 sm:flex-col",children:[a.jsx(q,{onClick:E,className:"w-full",disabled:g===0,children:"Submit Review"}),a.jsx(q,{variant:"ghost",onClick:()=>{b({open:!1,productId:null,productName:"",orderId:null}),v(0),x("")},className:"w-full text-muted-foreground",children:"Skip Review"})]})]})}),a.jsx(Ir,{})]})}var b_={exports:{}},j_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xo=h;function r3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var n3=typeof Object.is=="function"?Object.is:r3,s3=xo.useState,a3=xo.useEffect,o3=xo.useLayoutEffect,i3=xo.useDebugValue;function l3(e,t){var r=t(),n=s3({inst:{value:r,getSnapshot:t}}),s=n[0].inst,o=n[1];return o3(function(){s.value=r,s.getSnapshot=t,Ju(s)&&o({inst:s})},[e,r,t]),a3(function(){return Ju(s)&&o({inst:s}),e(function(){Ju(s)&&o({inst:s})})},[e]),i3(r),r}function Ju(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n3(e,r)}catch{return!0}}function c3(e,t){return t()}var d3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c3:l3;j_.useSyncExternalStore=xo.useSyncExternalStore!==void 0?xo.useSyncExternalStore:d3;b_.exports=j_;var u3=b_.exports;function h3(){return u3.useSyncExternalStore(f3,()=>!0,()=>!1)}function f3(){return()=>{}}var Pp="Avatar",[m3,wL]=Lt(Pp),[p3,__]=m3(Pp),N_=h.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,o]=h.useState("idle");return a.jsx(p3,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:a.jsx(ge.span,{...n,ref:t})})});N_.displayName=Pp;var S_="AvatarImage",k_=h.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...o}=e,i=__(S_,r),l=g3(n,o),c=lt(d=>{s(d),i.onImageLoadingStatusChange(d)});return nt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(ge.img,{...o,ref:t,src:n}):null});k_.displayName=S_;var C_="AvatarFallback",E_=h.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,o=__(C_,r),[i,l]=h.useState(n===void 0);return h.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?a.jsx(ge.span,{...s,ref:t}):null});E_.displayName=C_;function v0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function g3(e,{referrerPolicy:t,crossOrigin:r}){const n=h3(),s=h.useRef(null),o=n?(s.current||(s.current=new window.Image),s.current):null,[i,l]=h.useState(()=>v0(o,e));return nt(()=>{l(v0(o,e))},[o,e]),nt(()=>{const c=m=>()=>{l(m)};if(!o)return;const d=c("loaded"),u=c("error");return o.addEventListener("load",d),o.addEventListener("error",u),t&&(o.referrerPolicy=t),typeof r=="string"&&(o.crossOrigin=r),()=>{o.removeEventListener("load",d),o.removeEventListener("error",u)}},[o,r,t]),i}var P_=N_,T_=k_,R_=E_;const O_=h.forwardRef(({className:e,...t},r)=>a.jsx(P_,{ref:r,className:ue("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));O_.displayName=P_.displayName;const A_=h.forwardRef(({className:e,...t},r)=>a.jsx(T_,{ref:r,className:ue("aspect-square h-full w-full",e),...t}));A_.displayName=T_.displayName;const I_=h.forwardRef(({className:e,...t},r)=>a.jsx(R_,{ref:r,className:ue("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));I_.displayName=R_.displayName;const v3="BEl62iUYgUivxIkv69yViEuiBIa-Ib9-SkvMeAtA3LFgDzkrxZJjSgSnfckjBJuBkr3qBUYIHBQFLXYp5Nksh8U";function x3(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(r),s=new Uint8Array(n.length);for(let o=0;o<n.length;++o)s[o]=n.charCodeAt(o);return s}function D_(){const[e]=h.useState(()=>"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window),[t,r]=h.useState(!1),[n,s]=h.useState(null),[o,i]=h.useState(!1),[l,c]=h.useState({dailyReminders:!0,profitAlerts:!0,orderUpdates:!0,lowStockAlerts:!0,newOrderAlerts:!0,deliveryUpdates:!0,promotionalAlerts:!0,soundEnabled:!0,vibrationEnabled:!0,reminderTime:"09:00"}),d=h.useCallback(async()=>{if(!e)return!1;try{const x=await(await navigator.serviceWorker.ready).pushManager.getSubscription();return x?(s(x),r(!0),!0):!1}catch(y){return console.error("Error checking subscription:",y),!1}},[e]),u=h.useCallback(async y=>{var x,w;if(!e)return U.error("Push notifications are not supported in this browser"),!1;i(!0);try{if(await Notification.requestPermission()!=="granted")return U.error("Notification permission denied"),i(!1),!1;const N=navigator.serviceWorker.ready,S=new Promise((B,M)=>setTimeout(()=>M(new Error("Service worker registration timed out")),1e4)),k=(await Promise.race([N,S])).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:x3(v3)}),T=new Promise((B,M)=>setTimeout(()=>M(new Error("Push subscription timed out")),1e4)),O=await Promise.race([k,T]),I=O.toJSON(),$={endpoint:I.endpoint||"",p256dh:((x=I.keys)==null?void 0:x.p256dh)||"",auth:((w=I.keys)==null?void 0:w.auth)||""};try{const{error:B}=await A.from("push_subscriptions").upsert({user_id:y,endpoint:$.endpoint,p256dh:$.p256dh,auth:$.auth,daily_reminders:l.dailyReminders,profit_alerts:l.profitAlerts,order_updates:l.orderUpdates,low_stock_alerts:l.lowStockAlerts,new_order_alerts:l.newOrderAlerts,delivery_updates:l.deliveryUpdates,promotional_alerts:l.promotionalAlerts,sound_enabled:l.soundEnabled,vibration_enabled:l.vibrationEnabled,reminder_time:l.reminderTime+":00"},{onConflict:"user_id,endpoint"});B&&console.warn("Could not save subscription to database:",B.message)}catch(B){console.warn("Database save skipped:",B)}return s(O),r(!0),U.success(" Notifications enabled successfully!"),i(!1),!0}catch(j){console.error("Error subscribing to push:",j);const N=(j==null?void 0:j.message)||"Unknown error";return N.includes("timed out")?U.error("Connection timed out. Please try again."):N.includes("permission")?U.error("Notification permission was denied"):U.error(`Failed to enable notifications: ${N}`),i(!1),!1}},[e,l]),m=h.useCallback(async y=>{i(!0);try{return n&&await n.unsubscribe(),await A.from("push_subscriptions").delete().eq("user_id",y),s(null),r(!1),U.success("Notifications disabled"),i(!1),!0}catch(x){return console.error("Error unsubscribing:",x),U.error("Failed to disable notifications"),i(!1),!1}},[n]),p=h.useCallback(async(y,x)=>{const w={...l,...x};c(w);try{const j={};"dailyReminders"in x&&(j.daily_reminders=x.dailyReminders),"profitAlerts"in x&&(j.profit_alerts=x.profitAlerts),"orderUpdates"in x&&(j.order_updates=x.orderUpdates),"lowStockAlerts"in x&&(j.low_stock_alerts=x.lowStockAlerts),"newOrderAlerts"in x&&(j.new_order_alerts=x.newOrderAlerts),"deliveryUpdates"in x&&(j.delivery_updates=x.deliveryUpdates),"promotionalAlerts"in x&&(j.promotional_alerts=x.promotionalAlerts),"soundEnabled"in x&&(j.sound_enabled=x.soundEnabled),"vibrationEnabled"in x&&(j.vibration_enabled=x.vibrationEnabled),"reminderTime"in x&&(j.reminder_time=x.reminderTime+":00");const{error:N}=await A.from("push_subscriptions").update(j).eq("user_id",y);if(N)throw N;return!0}catch(j){return console.error("Error updating preferences:",j),U.error("Failed to update preferences"),!1}},[l]),f=h.useCallback(async y=>{var x;try{const{data:w,error:j}=await A.from("push_subscriptions").select("*").eq("user_id",y).single();return w&&!j?(c({dailyReminders:w.daily_reminders??!0,profitAlerts:w.profit_alerts??!0,orderUpdates:w.order_updates??!0,lowStockAlerts:w.low_stock_alerts??!0,newOrderAlerts:w.new_order_alerts??!0,deliveryUpdates:w.delivery_updates??!0,promotionalAlerts:w.promotional_alerts??!0,soundEnabled:w.sound_enabled??!0,vibrationEnabled:w.vibration_enabled??!0,reminderTime:((x=w.reminder_time)==null?void 0:x.slice(0,5))||"09:00"}),r(!0),!0):!1}catch{return!1}},[]),b=h.useCallback(async()=>{if(!e||Notification.permission!=="granted"){U.error("Notifications not enabled");return}const y=await navigator.serviceWorker.ready,x=l.vibrationEnabled?[200,100,200]:void 0;await y.showNotification("PremasShop Test ",{body:" Push notifications are working! You'll receive order updates, alerts, and reminders.",icon:"/dist/icons/icon.svg",badge:"/dist/icons/icon.svg",tag:"test-notification",vibrate:x,requireInteraction:!1,data:{url:"/",type:"test"},actions:[{action:"view",title:" Open Shop"},{action:"dismiss",title:" Dismiss"}]}),U.success("Test notification sent!")},[e,l.vibrationEnabled]),g=h.useCallback(async()=>e?await Notification.requestPermission()==="granted":!1,[e]),v=h.useCallback(()=>e?Notification.permission:"unsupported",[e]);return{isSupported:e,isSubscribed:t,loading:o,preferences:l,checkSubscription:d,subscribe:u,unsubscribe:m,updatePreferences:p,loadPreferences:f,sendTestNotification:b,requestPermission:g,getPermissionStatus:v}}var zd="Switch",[y3,bL]=Lt(zd),[w3,b3]=y3(zd),M_=h.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=e,[p,f]=h.useState(null),b=Se(t,w=>f(w)),g=h.useRef(!1),v=p?u||!!p.closest("form"):!0,[y,x]=pn({prop:s,defaultProp:o??!1,onChange:d,caller:zd});return a.jsxs(w3,{scope:r,checked:y,disabled:l,children:[a.jsx(ge.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":U_(y),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:b,onClick:ae(e.onClick,w=>{x(j=>!j),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&a.jsx(F_,{control:p,bubbles:!g.current,name:n,value:c,checked:y,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});M_.displayName=zd;var L_="SwitchThumb",$_=h.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=b3(L_,r);return a.jsx(ge.span,{"data-state":U_(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});$_.displayName=L_;var j3="SwitchBubbleInput",F_=h.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},o)=>{const i=h.useRef(null),l=Se(i,o),c=kp(r),d=Km(t);return h.useEffect(()=>{const u=i.current;if(!u)return;const m=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==r&&f){const b=new Event("click",{bubbles:n});f.call(u,r),u.dispatchEvent(b)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});F_.displayName=j3;function U_(e){return e?"checked":"unchecked"}var B_=M_,_3=$_;const Ma=h.forwardRef(({className:e,...t},r)=>a.jsx(B_,{className:ue("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:a.jsx(_3,{className:ue("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ma.displayName=B_.displayName;var N3="Separator",x0="horizontal",S3=["horizontal","vertical"],z_=h.forwardRef((e,t)=>{const{decorative:r,orientation:n=x0,...s}=e,o=k3(n)?n:x0,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return a.jsx(ge.div,{"data-orientation":o,...l,...s,ref:t})});z_.displayName=N3;function k3(e){return S3.includes(e)}var q_=z_;const La=h.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(q_,{ref:s,decorative:r,orientation:t,className:ue("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));La.displayName=q_.displayName;function C3(){const{user:e,userRole:t}=et(),{isSupported:r,isSubscribed:n,loading:s,preferences:o,checkSubscription:i,subscribe:l,unsubscribe:c,updatePreferences:d,loadPreferences:u,sendTestNotification:m}=D_(),[p,f]=h.useState(o),[b,g]=h.useState(!1),v=t==="admin"||t==="super_admin";h.useEffect(()=>{e&&(u(e.id),i())},[e,u,i]),h.useEffect(()=>{f(o)},[o]);const y=async()=>{e&&(n?await c(e.id):await l(e.id))},x=async(j,N)=>{if(!e)return;const S={...p,[j]:N};f(S),g(!0),setTimeout(()=>{d(e.id,{[j]:N}),g(!1)},500)};if(!r)return a.jsx(ne,{className:"border-amber-200 bg-amber-50/50 dark:bg-amber-950/20 dark:border-amber-800",children:a.jsx(se,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-100 dark:bg-amber-900/50 flex items-center justify-center",children:a.jsx(Tl,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-amber-800 dark:text-amber-300",children:"Notifications Not Supported"}),a.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-400",children:"Your browser doesn't support push notifications. Try using Chrome or Edge."})]})]})})});if(!v)return a.jsxs(ne,{className:"overflow-hidden",children:[a.jsx(be,{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-transparent pb-4",children:a.jsx("div",{className:"flex items-center justify-between flex-wrap gap-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shadow-lg ${n?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-gray-400 to-gray-500"}`,children:n?a.jsx(Yh,{className:"h-6 w-6 text-white"}):a.jsx(Tl,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsxs(Ee,{className:"text-lg flex items-center gap-2",children:["Push Notifications",a.jsx(rt,{variant:n?"default":"secondary",className:"font-normal",children:n?a.jsxs(a.Fragment,{children:[a.jsx(dr,{className:"h-3 w-3 mr-1"}),"Enabled"]}):"Disabled"})]}),a.jsx(ln,{children:"Get alerts for order updates and delivery status"})]})]})})}),a.jsxs(se,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-muted/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ti,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx(xe,{className:"text-base font-medium",children:n?"Notifications are enabled":"Enable notifications"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n?"You will receive order and delivery updates":"Turn on to receive important updates"})]})]}),a.jsx(Ma,{checked:n,onCheckedChange:y,disabled:s})]}),s&&a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4 text-sm text-muted-foreground",children:[a.jsx(Ft,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Processing..."})]})]})]});const w=[{key:"orderUpdates",icon:ho,title:"Order Updates",description:"Status changes for your orders",color:"blue",bgColor:"bg-blue-50/50 dark:bg-blue-950/20",borderColor:"border-blue-200 dark:border-blue-800",iconBg:"bg-blue-100 dark:bg-blue-900/50",iconColor:"text-blue-600 dark:text-blue-400"},{key:"dailyReminders",icon:Fs,title:"Daily Reminders",description:"Morning check-in notifications",color:"purple",bgColor:"bg-purple-50/50 dark:bg-purple-950/20",borderColor:"border-purple-200 dark:border-purple-800",iconBg:"bg-purple-100 dark:bg-purple-900/50",iconColor:"text-purple-600 dark:text-purple-400"},{key:"profitAlerts",icon:$m,title:"Profit Alerts",description:"Daily sales & profit summary",color:"green",bgColor:"bg-green-50/50 dark:bg-green-950/20",borderColor:"border-green-200 dark:border-green-800",iconBg:"bg-green-100 dark:bg-green-900/50",iconColor:"text-green-600 dark:text-green-400"},{key:"lowStockAlerts",icon:Gs,title:"Low Stock Alerts",description:"When products are running low",color:"orange",bgColor:"bg-orange-50/50 dark:bg-orange-950/20",borderColor:"border-orange-200 dark:border-orange-800",iconBg:"bg-orange-100 dark:bg-orange-900/50",iconColor:"text-orange-600 dark:text-orange-400"}];return a.jsxs(ne,{className:"overflow-hidden",children:[a.jsx(be,{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-transparent pb-4",children:a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shadow-lg ${n?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-gray-400 to-gray-500"}`,children:n?a.jsx(Yh,{className:"h-6 w-6 text-white"}):a.jsx(Tl,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsxs(Ee,{className:"text-lg flex items-center gap-2",children:["Push Notifications",a.jsx(rt,{variant:n?"default":"secondary",className:"font-normal",children:n?a.jsxs(a.Fragment,{children:[a.jsx(dr,{className:"h-3 w-3 mr-1"}),"Enabled"]}):"Disabled"})]}),a.jsx(ln,{children:"Get real-time alerts for orders, profits, and reminders"})]})]}),a.jsxs(q,{onClick:y,disabled:s,variant:n?"outline":"default",className:n?"":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",children:[s?a.jsx(Ft,{className:"h-4 w-4 animate-spin mr-2"}):n?a.jsx(Tl,{className:"h-4 w-4 mr-2"}):a.jsx(Ti,{className:"h-4 w-4 mr-2"}),n?"Disable":"Enable Notifications"]})]})}),a.jsxs(se,{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Notification Types"}),b&&a.jsxs(rt,{variant:"outline",className:"animate-pulse",children:[a.jsx(Ft,{className:"h-3 w-3 mr-1 animate-spin"}),"Saving..."]})]}),a.jsx("div",{className:"grid gap-3",children:w.map(j=>{const N=j.icon,S=p[j.key];return a.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border transition-all ${S&&n?`${j.bgColor} ${j.borderColor}`:"bg-muted/30 border-transparent"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${S&&n?j.iconBg:"bg-muted"}`,children:a.jsx(N,{className:`h-5 w-5 ${S&&n?j.iconColor:"text-muted-foreground"}`})}),a.jsxs("div",{children:[a.jsx(xe,{className:"text-base font-medium cursor-pointer",children:j.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:j.description})]})]}),a.jsx(Ma,{checked:S,onCheckedChange:E=>x(j.key,E),disabled:!n||s})]},j.key)})})]}),a.jsx(La,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Additional Preferences"}),a.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[a.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border transition-all ${p.promotionalAlerts&&n?"bg-pink-50/50 dark:bg-pink-950/20 border-pink-200 dark:border-pink-800":"bg-muted/30 border-transparent"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${p.promotionalAlerts&&n?"bg-pink-100 dark:bg-pink-900/50":"bg-muted"}`,children:a.jsx(QC,{className:`h-5 w-5 ${p.promotionalAlerts&&n?"text-pink-600 dark:text-pink-400":"text-muted-foreground"}`})}),a.jsxs("div",{children:[a.jsx(xe,{className:"text-sm font-medium",children:"Offers & Sales"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Flash sales, discounts"})]})]}),a.jsx(Ma,{checked:p.promotionalAlerts,onCheckedChange:j=>x("promotionalAlerts",j),disabled:!n||s})]}),a.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border transition-all ${p.deliveryUpdates&&n?"bg-cyan-50/50 dark:bg-cyan-950/20 border-cyan-200 dark:border-cyan-800":"bg-muted/30 border-transparent"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${p.deliveryUpdates&&n?"bg-cyan-100 dark:bg-cyan-900/50":"bg-muted"}`,children:a.jsx(oa,{className:`h-5 w-5 ${p.deliveryUpdates&&n?"text-cyan-600 dark:text-cyan-400":"text-muted-foreground"}`})}),a.jsxs("div",{children:[a.jsx(xe,{className:"text-sm font-medium",children:"Delivery Updates"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Tracking info"})]})]}),a.jsx(Ma,{checked:p.deliveryUpdates,onCheckedChange:j=>x("deliveryUpdates",j),disabled:!n||s})]})]})]}),n&&p.dailyReminders&&a.jsxs(a.Fragment,{children:[a.jsx(La,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Reminder Schedule"}),a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-950/30 dark:to-indigo-950/30 border border-purple-200 dark:border-purple-800",children:[a.jsx(Fs,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(xe,{htmlFor:"reminderTime",className:"text-sm font-medium",children:"Daily reminder time"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"When should we remind you?"})]}),a.jsx(Pe,{id:"reminderTime",type:"time",value:p.reminderTime,onChange:j=>x("reminderTime",j.target.value),className:"w-28",disabled:s})]})]})]}),n&&a.jsxs(a.Fragment,{children:[a.jsx(La,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Notification Style"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(q,{variant:p.soundEnabled?"default":"outline",size:"sm",className:"flex-1 gap-2",onClick:()=>x("soundEnabled",!p.soundEnabled),children:[a.jsx(dE,{className:"h-4 w-4"}),"Sound ",p.soundEnabled?"On":"Off"]}),a.jsxs(q,{variant:p.vibrationEnabled?"default":"outline",size:"sm",className:"flex-1 gap-2",onClick:()=>x("vibrationEnabled",!p.vibrationEnabled),children:[a.jsx(cE,{className:"h-4 w-4"}),"Vibration ",p.vibrationEnabled?"On":"Off"]})]})]})]}),n&&a.jsxs(a.Fragment,{children:[a.jsx(La,{}),a.jsxs(q,{onClick:m,variant:"outline",className:"w-full",disabled:s,children:[a.jsx(Jh,{className:"h-4 w-4 mr-2"}),"Send Test Notification"]})]}),a.jsx("div",{className:"pt-2",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Lc,{className:"h-4 w-4"}),a.jsx("span",{children:n?"Notifications will be sent to this device":"Enable notifications to receive alerts on this device"})]})})]})]})}function E3(){const{user:e,loading:t,signOut:r}=et(),n=Je(),[s,o]=h.useState(!0),[i,l]=h.useState(!1),[c,d]=h.useState({phone:"",full_name:"",address:"",avatar_url:null});h.useState([]),h.useState(!1),h.useState(""),h.useState(""),h.useState(!1),h.useState(""),h.useEffect(()=>{if(!t){if(!e){n("/auth");return}u()}},[e,t,n]);const u=async()=>{if(!e)return;const{data:f,error:b}=await A.from("profiles").select("*").eq("id",e.id).single();if(!b&&f){const g=f;d({phone:g.phone||"",full_name:g.full_name||"",address:g.address||"",avatar_url:g.avatar_url||null})}o(!1)},m=async()=>{if(!e)return;if(c.phone&&c.phone.length>0){if(c.phone.replace(/\D/g,"").length!==10&&!c.phone.startsWith("+91")){U.error("Please enter a valid 10-digit phone number");return}const{data:g,error:v}=await A.from("profiles").select("id").eq("phone",c.phone).neq("id",e.id).maybeSingle();if(v&&console.error("Phone check error:",v),g){U.error("This phone number is already registered with another account");return}}l(!0);const{error:f}=await A.from("profiles").update({phone:c.phone,full_name:c.full_name,address:c.address}).eq("id",e.id);f?U.error("Failed to update profile"):U.success("Profile updated successfully!"),l(!1)},p=f=>{var b,g;return f?f.split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2):((g=(b=e==null?void 0:e.email)==null?void 0:b[0])==null?void 0:g.toUpperCase())||"U"};return s?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 pb-24",children:[a.jsx("header",{className:"sticky top-0 z-40 border-b border-border/40 bg-background/80 backdrop-blur-xl",children:a.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-4",children:[a.jsx(V,{className:"h-9 w-9 rounded-md"}),a.jsx(V,{className:"h-6 w-32"})]})}),a.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-2xl space-y-4",children:[a.jsxs("div",{className:"flex flex-col items-center gap-4 py-6",children:[a.jsx(V,{className:"h-24 w-24 rounded-full"}),a.jsx(V,{className:"h-6 w-40"}),a.jsx(V,{className:"h-4 w-48"})]}),[1,2,3].map(f=>a.jsxs(ne,{children:[a.jsx(be,{children:a.jsx(V,{className:"h-6 w-40"})}),a.jsx(se,{children:a.jsx(V,{className:"h-20 w-full"})})]},f))]}),a.jsx(Ir,{})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 pb-24",children:[a.jsx("header",{className:"sticky top-0 z-40 border-b border-border/40 bg-background/80 backdrop-blur-xl",children:a.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-4",children:[a.jsx(q,{variant:"ghost",size:"icon",onClick:()=>n("/shop"),children:a.jsx(No,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-xl font-bold",children:"My Profile"})]})}),a.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-2xl space-y-6",children:[a.jsxs("div",{className:"flex flex-col items-center gap-4 py-4",children:[a.jsx("div",{className:"relative",children:a.jsxs(O_,{className:"h-24 w-24 border-4 border-primary/20",children:[a.jsx(A_,{src:c.avatar_url||void 0}),a.jsx(I_,{className:"bg-gradient-to-br from-primary to-primary/80 text-white text-2xl font-bold",children:p(c.full_name)})]})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-bold",children:c.full_name||"User"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.email})]})]}),a.jsxs(ne,{className:"overflow-hidden",children:[a.jsx(be,{className:"bg-gradient-to-r from-primary/5 to-transparent",children:a.jsxs(Ee,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Zi,{className:"h-5 w-5 text-primary"}),"Contact Information"]})}),a.jsxs(se,{className:"pt-4 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(xe,{htmlFor:"email",className:"flex items-center gap-2 text-sm",children:[a.jsx(nE,{className:"h-4 w-4 text-muted-foreground"}),"Email"]}),a.jsx(Pe,{id:"email",type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"bg-muted/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(xe,{htmlFor:"phone",className:"flex items-center gap-2 text-sm",children:[a.jsx(Aw,{className:"h-4 w-4 text-muted-foreground"}),"Phone Number"]}),a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex items-center justify-center px-3 bg-muted border border-r-0 rounded-l-md text-sm font-medium text-muted-foreground",children:"+91"}),a.jsx(Pe,{id:"phone",type:"tel",inputMode:"numeric",value:c.phone.replace("+91",""),onChange:f=>{const b=f.target.value.replace(/\D/g,"").slice(0,10);d({...c,phone:`+91${b}`})},className:"rounded-l-none",placeholder:"9876543210",maxLength:10})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{htmlFor:"fullName",children:"Full Name"}),a.jsx(Pe,{id:"fullName",type:"text",value:c.full_name||"",onChange:f=>d({...c,full_name:f.target.value}),placeholder:"Enter your full name"})]}),a.jsxs(q,{onClick:m,disabled:i,className:"w-full",children:[a.jsx(Dm,{className:"mr-2 h-4 w-4"}),i?"Saving...":"Save Changes"]})]})]}),a.jsxs(ne,{className:"overflow-hidden",children:[a.jsx(be,{className:"bg-gradient-to-r from-primary/5 to-transparent",children:a.jsxs(Ee,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Mc,{className:"h-5 w-5 text-primary"}),"Delivery Address"]})}),a.jsxs(se,{className:"pt-4 space-y-3",children:[a.jsx(wn,{value:c.address||"",onChange:f=>d({...c,address:f.target.value}),placeholder:"Enter your delivery address",rows:3,className:"resize-none"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This address will be used as default for your orders"})]})]}),a.jsx(C3,{}),a.jsxs(ne,{className:"overflow-hidden",children:[a.jsx(be,{className:"bg-gradient-to-r from-primary/5 to-transparent pb-2",children:a.jsx(Ee,{className:"text-lg",children:"Quick Links"})}),a.jsx(se,{className:"p-0",children:a.jsxs("button",{onClick:()=>n("/cart"),className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center",children:a.jsx(Zh,{className:"h-5 w-5 text-green-500"})}),a.jsx("span",{className:"font-medium",children:"Coupons & Offers"})]}),a.jsx(KC,{className:"h-5 w-5 text-muted-foreground"})]})})]}),a.jsx(ne,{className:"overflow-hidden border-primary/30 bg-gradient-to-r from-primary/5 to-primary/10",children:a.jsx(se,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:a.jsx(oa,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold",children:"Become a Delivery Partner"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Earn money on your schedule"})]}),a.jsx(q,{variant:"default",size:"sm",onClick:()=>n("/delivery-application"),children:"Apply"})]})})}),a.jsx("div",{className:"space-y-3 pt-4",children:a.jsxs(q,{onClick:r,variant:"outline",className:"w-full h-12 text-base",children:[a.jsx(Ri,{className:"mr-2 h-5 w-5"}),"Sign Out"]})})]}),a.jsx(Ir,{})]})}function P3(){const{user:e,userRole:t,loading:r,signOut:n}=et(),s=Je(),[o,i]=h.useState([]),[l,c]=h.useState(!0);h.useEffect(()=>{if(r)return;if(!e){s("/auth");return}if(t!=="delivery"&&t!=="super_admin"){s("/");return}d();const v=A.channel("delivery-changes").on("postgres_changes",{event:"*",schema:"public",table:"delivery_assignments",filter:`delivery_person_id=eq.${e.id}`},()=>{d()}).subscribe();return()=>{A.removeChannel(v)}},[e,t,r,s]);const d=async()=>{if(!e)return;const{data:v,error:y}=await A.from("delivery_assignments").select(`
        *,
        orders!inner (
          id,
          total_amount,
          delivery_address,
          status,
          created_at,
          user_id
        )
      `).eq("delivery_person_id",e.id).order("assigned_at",{ascending:!1});if(!y&&v){const x=await Promise.all(v.map(async w=>{const{data:j}=await A.from("profiles").select("phone, full_name").eq("id",w.orders.user_id).single(),{data:N}=await A.from("order_items").select(`
              id,
              quantity,
              price,
              products (
                name,
                image_url
              )
            `).eq("order_id",w.orders.id);return{...w,orders:{...w.orders,profiles:j||{phone:"",full_name:null},order_items:N||[]}}}));i(x)}c(!1)},u=async(v,y)=>{const{error:x}=await A.from("delivery_assignments").update({marked_delivered_at:new Date().toISOString(),is_rejected:!1}).eq("id",v);x?U.error("Failed to mark as delivered"):(await A.from("orders").update({status:"out_for_delivery"}).eq("id",y),U.success("Marked as delivered. Customer will be notified for confirmation."),d())},m=o.filter(v=>!v.marked_delivered_at&&!v.is_rejected||v.is_rejected),p=o.filter(v=>v.marked_delivered_at&&!v.user_confirmed_at&&!v.is_rejected),f=o.filter(v=>v.user_confirmed_at),b=o.filter(v=>v.is_rejected),g=({assignment:v,showDeliveredButton:y=!1})=>a.jsxs(ne,{children:[a.jsx(be,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs(Ee,{className:"text-lg",children:["Order #",v.order_id.slice(0,8)]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:v.orders.profiles.full_name||"Customer"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:v.orders.profiles.phone})]}),a.jsxs(rt,{variant:"outline",children:["$",v.orders.total_amount.toFixed(2)]})]})}),a.jsx(se,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Products:"}),a.jsx("div",{className:"space-y-2",children:v.orders.order_items.map(x=>a.jsxs("div",{className:"flex items-center gap-3 p-2 bg-muted/50 rounded-lg",children:[x.products.image_url&&a.jsx("img",{src:x.products.image_url,alt:x.products.name,className:"w-12 h-12 object-cover rounded"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:x.products.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Qty: ",x.quantity,"  $",x.price.toFixed(2)]})]})]},x.id))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-1",children:"Delivery Address:"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:v.orders.delivery_address})]}),y&&a.jsxs(q,{onClick:()=>u(v.id,v.order_id),className:"w-full",children:[a.jsx(dr,{className:"mr-2 h-4 w-4"}),"Mark as Delivered"]}),v.marked_delivered_at&&!v.user_confirmed_at&&!v.is_rejected&&a.jsx("div",{className:"p-3 bg-warning/10 rounded-lg",children:a.jsxs("p",{className:"text-sm text-warning flex items-center gap-2",children:[a.jsx(Rl,{className:"h-4 w-4"}),"Awaiting customer confirmation"]})}),v.is_rejected&&a.jsx("div",{className:"p-3 bg-destructive/10 rounded-lg",children:a.jsxs("p",{className:"text-sm text-destructive flex items-center gap-2 mb-2",children:[a.jsx(Rl,{className:"h-4 w-4"}),"Delivery was rejected - Ready for retry"]})})]})})]});return l?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-background pb-8",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b",children:a.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(V,{className:"h-6 w-6 rounded-md"}),a.jsx(V,{className:"h-6 w-40"})]}),a.jsx(V,{className:"h-9 w-9 rounded-md"})]})}),a.jsxs("div",{className:"container mx-auto px-4 py-6",children:[a.jsx(V,{className:"h-10 w-full rounded-md"}),a.jsx("div",{className:"mt-6 space-y-4",children:[1,2,3].map(v=>a.jsxs(ne,{children:[a.jsx(be,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(V,{className:"h-6 w-40"}),a.jsx(V,{className:"h-4 w-32"}),a.jsx(V,{className:"h-4 w-28"})]}),a.jsx(V,{className:"h-6 w-20 rounded-full"})]})}),a.jsxs(se,{className:"space-y-3",children:[a.jsx(V,{className:"h-4 w-24"}),a.jsx(V,{className:"h-16 w-full rounded-lg"}),a.jsx(V,{className:"h-4 w-32"}),a.jsx(V,{className:"h-20 w-full"}),a.jsx(V,{className:"h-10 w-full rounded-md"})]})]},v))})]})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-background pb-8",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b",children:a.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fe,{className:"h-6 w-6 text-primary"}),a.jsx("h1",{className:"text-xl font-bold",children:"Delivery Dashboard"})]}),a.jsx(q,{variant:"ghost",size:"icon",onClick:n,children:a.jsx(Ri,{className:"h-5 w-5"})})]})}),a.jsx("div",{className:"container mx-auto px-4 py-6",children:a.jsxs(sl,{defaultValue:"pending",className:"w-full",children:[a.jsxs(Oo,{className:"grid w-full grid-cols-4",children:[a.jsxs(ft,{value:"pending",children:["Pending",m.length>0&&a.jsx(rt,{className:"ml-2",variant:"default",children:m.length})]}),a.jsxs(ft,{value:"awaiting",children:["Awaiting",p.length>0&&a.jsx(rt,{className:"ml-2",variant:"secondary",children:p.length})]}),a.jsx(ft,{value:"completed",children:"Completed"}),a.jsxs(ft,{value:"rejected",children:["Rejected",b.length>0&&a.jsx(rt,{className:"ml-2",variant:"destructive",children:b.length})]})]}),a.jsx(mt,{value:"pending",className:"mt-6 space-y-4",children:m.length===0?a.jsx(ne,{children:a.jsxs(se,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Fe,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No pending deliveries"})]})}):m.map(v=>a.jsx(g,{assignment:v,showDeliveredButton:!0},v.id))}),a.jsx(mt,{value:"awaiting",className:"mt-6 space-y-4",children:p.length===0?a.jsx(ne,{children:a.jsxs(se,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(dr,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No orders awaiting confirmation"})]})}):p.map(v=>a.jsx(g,{assignment:v},v.id))}),a.jsx(mt,{value:"completed",className:"mt-6 space-y-4",children:f.length===0?a.jsx(ne,{children:a.jsxs(se,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(dr,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No completed deliveries yet"})]})}):f.map(v=>a.jsx(g,{assignment:v},v.id))}),a.jsx(mt,{value:"rejected",className:"mt-6 space-y-4",children:b.length===0?a.jsx(ne,{children:a.jsxs(se,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Rl,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No rejected deliveries - Great job!"})]})}):b.map(v=>a.jsxs("div",{children:[a.jsx(g,{assignment:v}),a.jsx(ne,{className:"mt-2 border-destructive",children:a.jsxs(se,{className:"p-4",children:[a.jsxs("p",{className:"text-sm text-destructive flex items-center gap-2 mb-2",children:[a.jsx(Rl,{className:"h-4 w-4"}),"Delivery was rejected - This has been reported as suspicious activity"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin has been notified. You can attempt redelivery from the Pending tab."})]})})]},v.id))})]})})]})}var T3=[" ","Enter","ArrowUp","ArrowDown"],R3=[" ","Enter"],ea="Select",[qd,Wd,O3]=Pm(ea),[Ao,jL]=Lt(ea,[O3,Eo]),Vd=Eo(),[A3,fs]=Ao(ea),[I3,D3]=Ao(ea),W_=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:p,required:f,form:b}=e,g=Vd(t),[v,y]=h.useState(null),[x,w]=h.useState(null),[j,N]=h.useState(!1),S=rl(d),[E,k]=pn({prop:n,defaultProp:s??!1,onChange:o,caller:ea}),[T,O]=pn({prop:i,defaultProp:l,onChange:c,caller:ea}),I=h.useRef(null),$=v?b||!!v.closest("form"):!0,[B,M]=h.useState(new Set),G=Array.from(B).map(P=>P.props.value).join(";");return a.jsx(pb,{...g,children:a.jsxs(A3,{required:f,scope:t,trigger:v,onTriggerChange:y,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:on(),value:T,onValueChange:O,open:E,onOpenChange:k,dir:S,triggerPointerDownPosRef:I,disabled:p,children:[a.jsx(qd.Provider,{scope:t,children:a.jsx(I3,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(P=>{M(H=>new Set(H).add(P))},[]),onNativeOptionRemove:h.useCallback(P=>{M(H=>{const C=new Set(H);return C.delete(P),C})},[]),children:r})}),$?a.jsxs(mN,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:m,value:T,onChange:P=>O(P.target.value),disabled:p,form:b,children:[T===void 0?a.jsx("option",{value:""}):null,Array.from(B)]},G):null]})})};W_.displayName=ea;var V_="SelectTrigger",H_=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=Vd(r),i=fs(V_,r),l=i.disabled||n,c=Se(t,i.onTriggerChange),d=Wd(r),u=h.useRef("touch"),[m,p,f]=gN(g=>{const v=d().filter(w=>!w.disabled),y=v.find(w=>w.value===i.value),x=vN(v,g,y);x!==void 0&&i.onValueChange(x.value)}),b=g=>{l||(i.onOpenChange(!0),f()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(wd,{asChild:!0,...o,children:a.jsx(ge.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":pN(i.value)?"":void 0,...s,ref:c,onClick:ae(s.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&b(g)}),onPointerDown:ae(s.onPointerDown,g=>{u.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(b(g),g.preventDefault())}),onKeyDown:ae(s.onKeyDown,g=>{const v=m.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(v&&g.key===" ")&&T3.includes(g.key)&&(b(),g.preventDefault())})})})});H_.displayName=V_;var K_="SelectValue",G_=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...l}=e,c=fs(K_,r),{onValueNodeHasChildrenChange:d}=c,u=o!==void 0,m=Se(t,c.onValueNodeChange);return nt(()=>{d(u)},[d,u]),a.jsx(ge.span,{...l,ref:m,style:{pointerEvents:"none"},children:pN(c.value)?a.jsx(a.Fragment,{children:i}):o})});G_.displayName=K_;var M3="SelectIcon",Y_=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(ge.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});Y_.displayName=M3;var L3="SelectPortal",Q_=e=>a.jsx(Yi,{asChild:!0,...e});Q_.displayName=L3;var ta="SelectContent",J_=h.forwardRef((e,t)=>{const r=fs(ta,e.__scopeSelect),[n,s]=h.useState();if(nt(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?aa.createPortal(a.jsx(X_,{scope:e.__scopeSelect,children:a.jsx(qd.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(Z_,{...e,ref:t})});J_.displayName=ta;var wr=10,[X_,ms]=Ao(ta),$3="SelectContentImpl",F3=Ks("SelectContent.RemoveScroll"),Z_=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:p,collisionPadding:f,sticky:b,hideWhenDetached:g,avoidCollisions:v,...y}=e,x=fs(ta,r),[w,j]=h.useState(null),[N,S]=h.useState(null),E=Se(t,Q=>j(Q)),[k,T]=h.useState(null),[O,I]=h.useState(null),$=Wd(r),[B,M]=h.useState(!1),G=h.useRef(!1);h.useEffect(()=>{if(w)return pp(w)},[w]),mp();const P=h.useCallback(Q=>{const[z,...de]=$().map(ie=>ie.ref.current),[ve]=de.slice(-1),fe=document.activeElement;for(const ie of Q)if(ie===fe||(ie==null||ie.scrollIntoView({block:"nearest"}),ie===z&&N&&(N.scrollTop=0),ie===ve&&N&&(N.scrollTop=N.scrollHeight),ie==null||ie.focus(),document.activeElement!==fe))return},[$,N]),H=h.useCallback(()=>P([k,w]),[P,k,w]);h.useEffect(()=>{B&&H()},[B,H]);const{onOpenChange:C,triggerPointerDownPosRef:R}=x;h.useEffect(()=>{if(w){let Q={x:0,y:0};const z=ve=>{var fe,ie;Q={x:Math.abs(Math.round(ve.pageX)-(((fe=R.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((ie=R.current)==null?void 0:ie.y)??0))}},de=ve=>{Q.x<=10&&Q.y<=10?ve.preventDefault():w.contains(ve.target)||C(!1),document.removeEventListener("pointermove",z),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",z),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",de,{capture:!0})}}},[w,C,R]),h.useEffect(()=>{const Q=()=>C(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[C]);const[K,te]=gN(Q=>{const z=$().filter(fe=>!fe.disabled),de=z.find(fe=>fe.ref.current===document.activeElement),ve=vN(z,Q,de);ve&&setTimeout(()=>ve.ref.current.focus())}),Z=h.useCallback((Q,z,de)=>{const ve=!G.current&&!de;(x.value!==void 0&&x.value===z||ve)&&(T(Q),ve&&(G.current=!0))},[x.value]),oe=h.useCallback(()=>w==null?void 0:w.focus(),[w]),he=h.useCallback((Q,z,de)=>{const ve=!G.current&&!de;(x.value!==void 0&&x.value===z||ve)&&I(Q)},[x.value]),ke=n==="popper"?Pf:eN,Re=ke===Pf?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:p,collisionPadding:f,sticky:b,hideWhenDetached:g,avoidCollisions:v}:{};return a.jsx(X_,{scope:r,content:w,viewport:N,onViewportChange:S,itemRefCallback:Z,selectedItem:k,onItemLeave:oe,itemTextRefCallback:he,focusSelectedItem:H,selectedItemText:O,position:n,isPositioned:B,searchRef:K,children:a.jsx(Dd,{as:F3,allowPinchZoom:!0,children:a.jsx(Ad,{asChild:!0,trapped:x.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:ae(s,Q=>{var z;(z=x.trigger)==null||z.focus({preventScroll:!0}),Q.preventDefault()}),children:a.jsx(_o,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:a.jsx(ke,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Q=>Q.preventDefault(),...y,...Re,onPlaced:()=>M(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ae(y.onKeyDown,Q=>{const z=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!z&&Q.key.length===1&&te(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let ve=$().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const fe=Q.target,ie=ve.indexOf(fe);ve=ve.slice(ie+1)}setTimeout(()=>P(ve)),Q.preventDefault()}})})})})})})});Z_.displayName=$3;var U3="SelectItemAlignedPosition",eN=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=fs(ta,r),i=ms(ta,r),[l,c]=h.useState(null),[d,u]=h.useState(null),m=Se(t,E=>u(E)),p=Wd(r),f=h.useRef(!1),b=h.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:x}=i,w=h.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&d&&g&&v&&y){const E=o.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),T=o.valueNode.getBoundingClientRect(),O=y.getBoundingClientRect();if(o.dir!=="rtl"){const fe=O.left-k.left,ie=T.left-fe,D=E.left-ie,ee=E.width+D,F=Math.max(ee,k.width),_=window.innerWidth-wr,L=Ef(ie,[wr,Math.max(wr,_-F)]);l.style.minWidth=ee+"px",l.style.left=L+"px"}else{const fe=k.right-O.right,ie=window.innerWidth-T.right-fe,D=window.innerWidth-E.right-ie,ee=E.width+D,F=Math.max(ee,k.width),_=window.innerWidth-wr,L=Ef(ie,[wr,Math.max(wr,_-F)]);l.style.minWidth=ee+"px",l.style.right=L+"px"}const I=p(),$=window.innerHeight-wr*2,B=g.scrollHeight,M=window.getComputedStyle(d),G=parseInt(M.borderTopWidth,10),P=parseInt(M.paddingTop,10),H=parseInt(M.borderBottomWidth,10),C=parseInt(M.paddingBottom,10),R=G+P+B+C+H,K=Math.min(v.offsetHeight*5,R),te=window.getComputedStyle(g),Z=parseInt(te.paddingTop,10),oe=parseInt(te.paddingBottom,10),he=E.top+E.height/2-wr,ke=$-he,Re=v.offsetHeight/2,Q=v.offsetTop+Re,z=G+P+Q,de=R-z;if(z<=he){const fe=I.length>0&&v===I[I.length-1].ref.current;l.style.bottom="0px";const ie=d.clientHeight-g.offsetTop-g.offsetHeight,D=Math.max(ke,Re+(fe?oe:0)+ie+H),ee=z+D;l.style.height=ee+"px"}else{const fe=I.length>0&&v===I[0].ref.current;l.style.top="0px";const D=Math.max(he,G+g.offsetTop+(fe?Z:0)+Re)+de;l.style.height=D+"px",g.scrollTop=z-he+g.offsetTop}l.style.margin=`${wr}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=$+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[p,o.trigger,o.valueNode,l,d,g,v,y,o.dir,n]);nt(()=>w(),[w]);const[j,N]=h.useState();nt(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const S=h.useCallback(E=>{E&&b.current===!0&&(w(),x==null||x(),b.current=!1)},[w,x]);return a.jsx(z3,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:S,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(ge.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});eN.displayName=U3;var B3="SelectPopperPosition",Pf=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=wr,...o}=e,i=Vd(r);return a.jsx(Qm,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Pf.displayName=B3;var[z3,Tp]=Ao(ta,{}),Tf="SelectViewport",tN=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=ms(Tf,r),i=Tp(Tf,r),l=Se(t,o.onViewportChange),c=h.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(qd.Slot,{scope:r,children:a.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ae(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&m){const f=Math.abs(c.current-u.scrollTop);if(f>0){const b=window.innerHeight-wr*2,g=parseFloat(m.style.minHeight),v=parseFloat(m.style.height),y=Math.max(g,v);if(y<b){const x=y+f,w=Math.min(b,x),j=x-w;m.style.height=w+"px",m.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});tN.displayName=Tf;var rN="SelectGroup",[q3,W3]=Ao(rN),V3=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=on();return a.jsx(q3,{scope:r,id:s,children:a.jsx(ge.div,{role:"group","aria-labelledby":s,...n,ref:t})})});V3.displayName=rN;var nN="SelectLabel",sN=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=W3(nN,r);return a.jsx(ge.div,{id:s.id,...n,ref:t})});sN.displayName=nN;var Jc="SelectItem",[H3,aN]=Ao(Jc),oN=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,l=fs(Jc,r),c=ms(Jc,r),d=l.value===n,[u,m]=h.useState(o??""),[p,f]=h.useState(!1),b=Se(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,n,s)}),g=on(),v=h.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(H3,{scope:r,value:n,disabled:s,textId:g,isSelected:d,onItemTextChange:h.useCallback(x=>{m(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:a.jsx(qd.ItemSlot,{scope:r,value:n,disabled:s,textValue:u,children:a.jsx(ge.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:b,onFocus:ae(i.onFocus,()=>f(!0)),onBlur:ae(i.onBlur,()=>f(!1)),onClick:ae(i.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:ae(i.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:ae(i.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:ae(i.onPointerMove,x=>{var w;v.current=x.pointerType,s?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ae(i.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ae(i.onKeyDown,x=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&x.key===" "||(R3.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});oN.displayName=Jc;var Zo="SelectItemText",iN=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=fs(Zo,r),l=ms(Zo,r),c=aN(Zo,r),d=D3(Zo,r),[u,m]=h.useState(null),p=Se(t,y=>m(y),c.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,c.value,c.disabled)}),f=u==null?void 0:u.textContent,b=h.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=d;return nt(()=>(g(b),()=>v(b)),[g,v,b]),a.jsxs(a.Fragment,{children:[a.jsx(ge.span,{id:c.textId,...o,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?aa.createPortal(o.children,i.valueNode):null]})});iN.displayName=Zo;var lN="SelectItemIndicator",cN=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return aN(lN,r).isSelected?a.jsx(ge.span,{"aria-hidden":!0,...n,ref:t}):null});cN.displayName=lN;var Rf="SelectScrollUpButton",dN=h.forwardRef((e,t)=>{const r=ms(Rf,e.__scopeSelect),n=Tp(Rf,e.__scopeSelect),[s,o]=h.useState(!1),i=Se(t,n.onScrollButtonChange);return nt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;o(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(hN,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});dN.displayName=Rf;var Of="SelectScrollDownButton",uN=h.forwardRef((e,t)=>{const r=ms(Of,e.__scopeSelect),n=Tp(Of,e.__scopeSelect),[s,o]=h.useState(!1),i=Se(t,n.onScrollButtonChange);return nt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(hN,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});uN.displayName=Of;var hN=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=ms("SelectScrollButton",r),i=h.useRef(null),l=Wd(r),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),nt(()=>{var u;const d=l().find(m=>m.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),a.jsx(ge.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ae(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:ae(s.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:ae(s.onPointerLeave,()=>{c()})})}),K3="SelectSeparator",fN=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(ge.div,{"aria-hidden":!0,...n,ref:t})});fN.displayName=K3;var Af="SelectArrow",G3=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Vd(r),o=fs(Af,r),i=ms(Af,r);return o.open&&i.position==="popper"?a.jsx(Jm,{...s,...n,ref:t}):null});G3.displayName=Af;var Y3="SelectBubbleInput",mN=h.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=h.useRef(null),o=Se(n,s),i=kp(t);return h.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&u){const m=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(m)}},[i,t]),a.jsx(ge.select,{...r,style:{...lw,...r.style},ref:o,defaultValue:t})});mN.displayName=Y3;function pN(e){return e===""||e===void 0}function gN(e){const t=lt(e),r=h.useRef(""),n=h.useRef(0),s=h.useCallback(i=>{const l=r.current+i;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function vN(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=Q3(e,Math.max(o,0));s.length===1&&(i=i.filter(d=>d!==r));const c=i.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Q3(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var J3=W_,xN=H_,X3=G_,Z3=Y_,eD=Q_,yN=J_,tD=tN,wN=sN,bN=oN,rD=iN,nD=cN,jN=dN,_N=uN,NN=fN;const rs=J3,ns=X3,cn=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(xN,{ref:n,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(Z3,{asChild:!0,children:a.jsx(Im,{className:"h-4 w-4 opacity-50"})})]}));cn.displayName=xN.displayName;const SN=h.forwardRef(({className:e,...t},r)=>a.jsx(jN,{ref:r,className:ue("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Ow,{className:"h-4 w-4"})}));SN.displayName=jN.displayName;const kN=h.forwardRef(({className:e,...t},r)=>a.jsx(_N,{ref:r,className:ue("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Im,{className:"h-4 w-4"})}));kN.displayName=_N.displayName;const dn=h.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(eD,{children:a.jsxs(yN,{ref:s,className:ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(SN,{}),a.jsx(tD,{className:ue("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(kN,{})]})}));dn.displayName=yN.displayName;const sD=h.forwardRef(({className:e,...t},r)=>a.jsx(wN,{ref:r,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));sD.displayName=wN.displayName;const Ke=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(bN,{ref:n,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(nD,{children:a.jsx(HC,{className:"h-4 w-4"})})}),a.jsx(rD,{children:t})]}));Ke.displayName=bN.displayName;const aD=h.forwardRef(({className:e,...t},r)=>a.jsx(NN,{ref:r,className:ue("-mx-1 my-1 h-px bg-muted",e),...t}));aD.displayName=NN.displayName;var Hd="Popover",[CN,_L]=Lt(Hd,[Eo]),cl=Eo(),[oD,ps]=CN(Hd),EN=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,l=cl(t),c=h.useRef(null),[d,u]=h.useState(!1),[m,p]=pn({prop:n,defaultProp:s??!1,onChange:o,caller:Hd});return a.jsx(pb,{...l,children:a.jsx(oD,{scope:t,contentId:on(),triggerRef:c,open:m,onOpenChange:p,onOpenToggle:h.useCallback(()=>p(f=>!f),[p]),hasCustomAnchor:d,onCustomAnchorAdd:h.useCallback(()=>u(!0),[]),onCustomAnchorRemove:h.useCallback(()=>u(!1),[]),modal:i,children:r})})};EN.displayName=Hd;var PN="PopoverAnchor",iD=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=ps(PN,r),o=cl(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return h.useEffect(()=>(i(),()=>l()),[i,l]),a.jsx(wd,{...o,...n,ref:t})});iD.displayName=PN;var TN="PopoverTrigger",RN=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=ps(TN,r),o=cl(r),i=Se(t,s.triggerRef),l=a.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":MN(s.open),...n,ref:i,onClick:ae(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(wd,{asChild:!0,...o,children:l})});RN.displayName=TN;var Rp="PopoverPortal",[lD,cD]=CN(Rp,{forceMount:void 0}),ON=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,o=ps(Rp,t);return a.jsx(lD,{scope:t,forceMount:r,children:a.jsx(Vt,{present:r||o.open,children:a.jsx(Yi,{asChild:!0,container:s,children:n})})})};ON.displayName=Rp;var yo="PopoverContent",AN=h.forwardRef((e,t)=>{const r=cD(yo,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,o=ps(yo,e.__scopePopover);return a.jsx(Vt,{present:n||o.open,children:o.modal?a.jsx(uD,{...s,ref:t}):a.jsx(hD,{...s,ref:t})})});AN.displayName=yo;var dD=Ks("PopoverContent.RemoveScroll"),uD=h.forwardRef((e,t)=>{const r=ps(yo,e.__scopePopover),n=h.useRef(null),s=Se(t,n),o=h.useRef(!1);return h.useEffect(()=>{const i=n.current;if(i)return pp(i)},[]),a.jsx(Dd,{as:dD,allowPinchZoom:!0,children:a.jsx(IN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ae(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ae(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),hD=h.forwardRef((e,t)=>{const r=ps(yo,e.__scopePopover),n=h.useRef(!1),s=h.useRef(!1);return a.jsx(IN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((d=r.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),IN=h.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...m}=e,p=ps(yo,r),f=cl(r);return mp(),a.jsx(Ad,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(_o,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:a.jsx(Qm,{"data-state":MN(p.open),role:"dialog",id:p.contentId,...f,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),DN="PopoverClose",fD=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=ps(DN,r);return a.jsx(ge.button,{type:"button",...n,ref:t,onClick:ae(e.onClick,()=>s.onOpenChange(!1))})});fD.displayName=DN;var mD="PopoverArrow",pD=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=cl(r);return a.jsx(Jm,{...s,...n,ref:t})});pD.displayName=mD;function MN(e){return e?"open":"closed"}var gD=EN,vD=RN,xD=ON,LN=AN;const yD=gD,wD=vD,$N=h.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>a.jsx(xD,{children:a.jsx(LN,{ref:s,align:t,sideOffset:r,className:ue("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));$N.displayName=LN.displayName;function bD(){const{user:e}=et(),t=Je(),{isSupported:r,isSubscribed:n,subscribe:s,checkSubscription:o}=D_(),[i,l]=h.useState(!1),[c,d]=h.useState(!1);h.useEffect(()=>{e&&o(),localStorage.getItem("notification-asked")&&d(!0)},[e,o]);const u=async()=>{if(!e){t("/auth");return}await s(e.id)&&(l(!1),localStorage.setItem("notification-asked","true"))},m=()=>{l(!1),localStorage.setItem("notification-asked","true"),d(!0)};return r?n?a.jsxs(q,{variant:"ghost",size:"icon",onClick:()=>t("/profile"),className:"relative text-primary",children:[a.jsx(Yh,{className:"h-5 w-5"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-green-500 rounded-full"})]}):a.jsxs(yD,{open:i,onOpenChange:l,children:[a.jsx(wD,{asChild:!0,children:a.jsxs(q,{variant:"ghost",size:"icon",className:"relative",children:[a.jsx(Ti,{className:"h-5 w-5"}),!c&&a.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]})}),a.jsxs($N,{className:"w-80 p-0",align:"end",children:[a.jsx("div",{className:"p-4 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/50 dark:to-emerald-950/50 rounded-t-lg",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx(Ti,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-foreground",children:"Enable Notifications"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Stay updated with orders & alerts"})]})]})}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-green-500",children:""}),"New order alerts"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-green-500",children:""}),"Daily profit summaries"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-green-500",children:""}),"Low stock warnings"]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx(q,{onClick:u,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600",size:"sm",children:"Enable"}),a.jsx(q,{onClick:m,variant:"outline",size:"sm",children:"Later"})]})]})]})]}):null}function xn(){const e=Je(),t=la(),r=[{icon:tE,label:"Dashboard",path:"/admin"},{icon:Am,label:"Stock",path:"/admin/stock"},{icon:Da,label:"Broadcast",path:"/admin/notifications"},{icon:Lw,label:"Payments",path:"/admin/to-pay"}];return a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 border-t border-border/40 bg-background/40 backdrop-blur-xl supports-[backdrop-filter]:bg-background/20 shadow-[0_-10px_40px_rgba(15,23,42,0.35)]",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"flex items-center justify-around py-2",children:r.map(n=>{const s=n.icon,o=t.pathname===n.path;return a.jsxs("button",{onClick:()=>e(n.path),className:ue("relative flex flex-col items-center justify-center gap-1 py-2 px-4 rounded-2xl transition-all bg-background/20 hover:bg-background/40 border border-transparent hover:border-border/40 shadow-sm backdrop-blur-sm",o?"text-primary bg-gradient-to-br from-primary/20 to-primary/10 border-primary/40 shadow-md":"text-muted-foreground hover:text-foreground"),children:[a.jsx(s,{className:ue("h-5 w-5",o&&"scale-110")}),a.jsx("span",{className:"text-xs font-medium",children:n.label})]},n.label)})})})})}const y0=e=>{const t=new Date,r=new Date(t);switch(e){case"today":r.setHours(0,0,0,0);break;case"7days":r.setDate(t.getDate()-7),r.setHours(0,0,0,0);break;case"1month":r.setMonth(t.getMonth()-1),r.setHours(0,0,0,0);break;case"6months":r.setMonth(t.getMonth()-6),r.setHours(0,0,0,0);break;case"1year":r.setFullYear(t.getFullYear()-1),r.setHours(0,0,0,0);break}return r},jD={today:"Today","7days":"Last 7 Days","1month":"Last 1 Month","6months":"Last 6 Months","1year":"Last 1 Year"};function _D(){const{user:e,userRole:t,loading:r,signOut:n}=et(),s=Je(),[o,i]=h.useState([]),[l,c]=h.useState([]),[d,u]=h.useState([]),[m,p]=h.useState([]),[f,b]=h.useState({}),[g,v]=h.useState([]),[y,x]=h.useState({totalOrders:0,pendingOrders:0,deliveredOrders:0,revenue:0,commissionDeveloper:0,commissionDelivery:0,profit:0}),[w,j]=h.useState(!0);h.useState(null),h.useState({name:"",description:"",price:"",stock_quantity:"",unit:"piece",category_id:"",image_url:""});const[N,S]=h.useState("today"),[E,k]=h.useState(!1),[T,O]=h.useState("none"),[I,$]=h.useState(!1),[B,M]=h.useState(!1),G=async()=>{const z=A,{data:de,error:ve}=await z.from("admin_settings").select("*").eq("id","00000000-0000-0000-0000-000000000001").single();de&&!ve&&(k(de.is_locked||!1),O(de.payment_status||"none")),M(!0)};h.useEffect(()=>{if(!r){if(!e){s("/auth");return}if(t!==null){if(t!=="admin"&&t!=="super_admin"){switch(t){case"delivery":s("/delivery");break;default:s("/shop");break}return}t==="admin"?G():M(!0),C(),P()}}},[e,t,r,s]),h.useEffect(()=>{e&&(te(),he())},[N]);const P=()=>{const z=A.channel("admin-orders").on("postgres_changes",{event:"*",schema:"public",table:"orders"},te).subscribe(),de=A.channel("admin-malicious").on("postgres_changes",{event:"*",schema:"public",table:"malicious_activities"},Z).subscribe(),fe=A.channel("admin-lockout-realtime").on("postgres_changes",{event:"*",schema:"public",table:"admin_settings"},G).subscribe();return()=>{A.removeChannel(z),A.removeChannel(de),A.removeChannel(fe)}},H=async()=>{$(!0);const z=A,{error:de}=await z.from("admin_settings").update({payment_status:"paid",paid_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id","00000000-0000-0000-0000-000000000001");de?U.error("Failed to mark as paid"):(U.success("Payment marked! Waiting for developer confirmation."),G()),$(!1)},C=async()=>{j(!0),await Promise.all([R(),K(),te(),Z(),oe(),he()]),j(!1)},R=async()=>{const{data:z}=await A.from("products").select("*").order("name");z&&i(z)},K=async()=>{const{data:z}=await A.from("categories").select("id, name").order("name");z&&c(z)},te=async()=>{const z=y0(N).toISOString(),{data:de}=await A.from("orders").select("*").gte("created_at",z).order("created_at",{ascending:!1}).limit(50);de&&u(de)},Z=async()=>{const{data:z}=await A.from("malicious_activities").select("*").order("detected_at",{ascending:!1});if(z){p(z);const de=Array.from(new Set(z.flatMap(ie=>[ie.user_id,ie.delivery_person_id]).filter(ie=>!!ie)));if(de.length===0){b({});return}const{data:ve,error:fe}=await A.from("profiles").select("id, full_name, phone").in("id",de);if(!fe&&ve){const ie={};ve.forEach(D=>{ie[D.id]={full_name:D.full_name??null,phone:D.phone??null}}),b(ie)}}},oe=async()=>{const{data:z}=await A.from("delivery_applications").select("*").order("created_at",{ascending:!1});z&&v(z)},he=async()=>{const z=y0(N).toISOString(),{data:de}=await A.from("orders").select("status, total_amount, created_at").gte("created_at",z);if(de){const ve=de.length,fe=de.filter(L=>L.status==="pending"||L.status==="confirmed"||L.status==="out_for_delivery").length,ie=de.filter(L=>L.status==="delivered").length,D=de.filter(L=>L.status==="delivered").reduce((L,X)=>L+Number(X.total_amount),0),ee=ie*4,F=ie*5,_=D-ee-F;x({totalOrders:ve,pendingOrders:fe,deliveredOrders:ie,revenue:D,commissionDeveloper:ee,commissionDelivery:F,profit:_})}},ke=async z=>{if(!confirm("Are you sure you want to delete this product?"))return;const{error:de}=await A.from("products").delete().eq("id",z);de?U.error("Failed to delete product"):(U.success("Product deleted successfully"),R())},Re=async()=>{await n(),s("/auth")},Q=async(z,de)=>{const{error:ve}=await A.from("delivery_applications").update({status:de}).eq("id",z);if(ve){U.error(`Failed to ${de==="approved"?"approve":"reject"} application`);return}if(de==="approved"){const fe=g.find(ie=>ie.id===z);if(fe){const{error:ie}=await A.from("user_roles").insert({user_id:fe.user_id,role:"delivery"});ie?(console.error("Role assignment error:",ie),U.error("Application approved but failed to assign role")):U.success("Application approved! User is now a delivery partner.")}}else U.success("Application rejected");oe()};return r||t===null?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 p-6 flex flex-col gap-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsx(V,{className:"h-10 w-10 rounded-xl"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(V,{className:"h-6 w-48"}),a.jsx(V,{className:"h-4 w-24"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(V,{className:"h-10 w-32"}),a.jsx(V,{className:"h-10 w-10 rounded-full"}),a.jsx(V,{className:"h-10 w-10 rounded-md"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[1,2,3,4,5,6].map(z=>a.jsx(V,{className:"h-32 rounded-lg"},z))}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(V,{className:"h-10 w-full md:w-1/2"}),a.jsx(V,{className:"h-64 w-full rounded-xl"})]})]}):t!=="admin"&&t!=="super_admin"?null:t==="admin"&&!B?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Checking access..."})]})}):E&&t==="admin"?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-900 via-red-800 to-red-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-900 rounded-2xl shadow-2xl p-8 text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Gs,{className:"h-10 w-10 text-red-600"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Access Suspended"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Your admin access has been temporarily suspended. Please complete the pending payment to restore access."}),a.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl p-4 mb-6",children:[a.jsx("p",{className:"text-amber-800 dark:text-amber-300 font-medium",children:" Payment Required"}),a.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400 mt-1",children:"Please pay the developer what is owed and then click the button below."})]}),T==="paid"?a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl p-4",children:[a.jsx("p",{className:"text-green-800 dark:text-green-300 font-medium",children:" Payment Marked as Paid"}),a.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 mt-1",children:"Waiting for developer to confirm receipt. Your access will be restored automatically once confirmed."})]}):a.jsx(q,{onClick:H,disabled:I,className:"w-full bg-green-600 hover:bg-green-700 text-white py-6 text-lg",children:I?"Processing...":" I Have Paid"}),a.jsxs(q,{onClick:Re,variant:"ghost",className:"mt-4 text-gray-500",children:[a.jsx(Ri,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 pb-20",children:[a.jsx("header",{className:"sticky top-0 z-40 border-b border-border/40 bg-background/40 backdrop-blur-xl supports-[backdrop-filter]:bg-background/20 shadow-[0_10px_40px_rgba(15,23,42,0.35)]",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center shadow-lg",children:a.jsx(Fe,{className:"h-5 w-5 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Admin Dashboard"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:jD[N]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rw,{className:"h-4 w-4 text-muted-foreground hidden sm:block"}),a.jsxs(rs,{value:N,onValueChange:z=>S(z),children:[a.jsx(cn,{className:"w-[130px] md:w-[160px] bg-background/60",children:a.jsx(ns,{placeholder:"Select period"})}),a.jsxs(dn,{children:[a.jsx(Ke,{value:"today",children:"Today"}),a.jsx(Ke,{value:"7days",children:"Last 7 Days"}),a.jsx(Ke,{value:"1month",children:"Last 1 Month"}),a.jsx(Ke,{value:"6months",children:"Last 6 Months"}),a.jsx(Ke,{value:"1year",children:"Last 1 Year"})]})]})]}),a.jsx(bD,{}),a.jsx(q,{onClick:Re,variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive",children:a.jsx(Ri,{className:"h-5 w-5"})})]})]})})}),a.jsxs("main",{className:"container mx-auto px-4 py-6 pb-24",children:[a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 mb-6",children:w?[1,2,3,4,5,6].map(z=>a.jsx(V,{className:"h-20 rounded-xl"},z)):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl p-4 text-white shadow-lg",children:[a.jsx("p",{className:"text-xs opacity-80 font-medium",children:"Total Sales"}),a.jsxs("p",{className:"text-2xl font-bold",children:["",y.revenue.toFixed(0)]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl p-4 text-white shadow-lg",children:[a.jsx("p",{className:"text-xs opacity-80 font-medium",children:"Your Profit"}),a.jsxs("p",{className:"text-2xl font-bold",children:["",y.profit.toFixed(0)]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl p-4 text-white shadow-lg cursor-pointer hover:scale-105 transition-transform",onClick:()=>s("/admin/to-pay"),children:[a.jsx("p",{className:"text-xs opacity-80 font-medium",children:"To Pay"}),a.jsxs("p",{className:"text-2xl font-bold",children:["",(y.commissionDeveloper+y.commissionDelivery).toFixed(0)]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl p-4 text-white shadow-lg",children:[a.jsx("p",{className:"text-xs opacity-80 font-medium",children:"All Orders"}),a.jsx("p",{className:"text-2xl font-bold",children:y.totalOrders})]}),a.jsxs("div",{className:`rounded-xl p-4 text-white shadow-lg ${y.pendingOrders>0?"bg-gradient-to-br from-orange-500 to-red-500":"bg-gradient-to-br from-gray-400 to-gray-500"}`,children:[a.jsx("p",{className:"text-xs opacity-80 font-medium",children:"In Progress"}),a.jsx("p",{className:"text-2xl font-bold",children:y.pendingOrders})]}),a.jsxs("div",{className:"bg-gradient-to-br from-primary to-primary/80 rounded-xl p-4 text-white shadow-lg",children:[a.jsx("p",{className:"text-xs opacity-80 font-medium",children:"Delivered"}),a.jsx("p",{className:"text-2xl font-bold",children:y.deliveredOrders})]})]})}),a.jsxs(sl,{defaultValue:"products",className:"space-y-4",children:[a.jsx("div",{className:"overflow-x-auto pb-2 -mx-4 px-4 md:mx-0 md:px-0 md:pb-0 scrollbar-hide",children:w?a.jsxs("div",{className:"flex gap-2",children:[a.jsx(V,{className:"h-10 w-24 rounded-md"}),a.jsx(V,{className:"h-10 w-24 rounded-md"}),a.jsx(V,{className:"h-10 w-32 rounded-md"}),a.jsx(V,{className:"h-10 w-32 rounded-md"})]}):a.jsxs(Oo,{className:"w-auto inline-flex md:grid md:w-full md:grid-cols-4 h-auto p-1",children:[a.jsx(ft,{value:"products",className:"px-4 py-2",children:"Products"}),a.jsx(ft,{value:"orders",className:"px-4 py-2",children:"Orders"}),a.jsx(ft,{value:"delivery",className:"px-4 py-2",children:"Delivery Partners"}),a.jsx(ft,{value:"malicious",className:"px-4 py-2",children:"Malicious Activity"})]})}),a.jsxs(mt,{value:"products",className:"space-y-4",children:[a.jsxs(q,{onClick:()=>s("/admin/add-product"),className:"w-full h-14 text-base font-semibold shadow-lg bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",size:"lg",children:[a.jsx(Kr,{className:"h-5 w-5 mr-2"}),"Add New Product"]}),a.jsxs(ne,{className:"border-border/50",children:[a.jsx(be,{className:"pb-3",children:a.jsxs(Ee,{className:"text-lg flex items-center justify-between",children:[a.jsx("span",{children:"All Products"}),a.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:w?a.jsx(V,{className:"h-4 w-12"}):`${o.length} items`})]})}),a.jsx(se,{className:"p-0",children:a.jsx("div",{className:"divide-y divide-border/50",children:w?[1,2,3,4,5].map(z=>a.jsxs("div",{className:"flex items-center justify-between p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx(V,{className:"h-12 w-12 rounded-xl"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(V,{className:"h-5 w-40"}),a.jsx(V,{className:"h-4 w-24"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(V,{className:"h-9 w-9 rounded-md"}),a.jsx(V,{className:"h-9 w-9 rounded-md"})]})]},z)):a.jsxs(a.Fragment,{children:[o.map(z=>a.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-accent/30 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center flex-shrink-0 border border-border/40",children:z.image_url?a.jsx("img",{src:z.image_url,alt:z.name,className:"w-full h-full object-cover rounded-xl"}):a.jsx(Fe,{className:"h-5 w-5 text-primary/60"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h3",{className:"font-medium text-foreground truncate",children:z.name}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsxs("span",{className:"font-semibold text-primary",children:["",z.price]}),a.jsx("span",{className:"text-muted-foreground",children:""}),a.jsxs("span",{className:`${z.stock_quantity<=5?"text-destructive font-medium":"text-muted-foreground"}`,children:[z.stock_quantity," in stock"]})]})]})]}),a.jsxs("div",{className:"flex gap-1.5 ml-2",children:[a.jsx(q,{size:"icon",variant:"ghost",className:"h-9 w-9 hover:bg-primary/10",onClick:()=>s(`/admin/add-product?id=${z.id}`),children:a.jsx(Lm,{className:"h-4 w-4"})}),a.jsx(q,{size:"icon",variant:"ghost",className:"h-9 w-9 hover:bg-destructive/10 text-destructive",onClick:()=>ke(z.id),children:a.jsx(fo,{className:"h-4 w-4"})})]})]},z.id)),o.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Fe,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-muted-foreground",children:"No products yet"}),a.jsx(q,{onClick:()=>s("/admin/add-product"),variant:"link",className:"mt-2",children:"Add your first product"})]})]})})})]})]}),a.jsx(mt,{value:"orders",className:"space-y-4",children:a.jsxs(ne,{children:[a.jsx(be,{children:a.jsx(Ee,{children:"Recent Orders"})}),a.jsx(se,{children:a.jsx("div",{className:"space-y-2",children:w?[1,2,3].map(z=>a.jsxs("div",{className:"p-4 border border-border rounded-lg space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(V,{className:"h-5 w-32"}),a.jsx(V,{className:"h-4 w-24"})]}),a.jsx(V,{className:"h-6 w-20 rounded-full"})]}),a.jsx(V,{className:"h-4 w-3/4"}),a.jsx(V,{className:"h-6 w-24"})]},z)):d.map(z=>a.jsxs("div",{className:"p-4 border border-border rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-foreground",children:["Order #",z.id.slice(0,8)]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["User: ",z.user_id.slice(0,8)]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${z.status==="delivered"?"bg-primary/10 text-primary":z.status==="cancelled"||z.status==="rejected"?"bg-destructive/10 text-destructive":"bg-accent/10 text-accent"}`,children:z.status})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:z.delivery_address}),a.jsxs("p",{className:"text-lg font-bold text-foreground",children:["",Number(z.total_amount).toFixed(2)]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(z.created_at).toLocaleString()})]},z.id))})})]})}),a.jsx(mt,{value:"delivery",className:"space-y-4",children:a.jsxs(ne,{children:[a.jsx(be,{children:a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(oa,{className:"h-5 w-5 text-primary"}),"Delivery Partner Applications"]})}),a.jsx(se,{children:a.jsx("div",{className:"space-y-2",children:w?[1,2].map(z=>a.jsx(V,{className:"h-32 w-full rounded-lg"},z)):g.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No applications submitted yet"}):g.map(z=>a.jsxs("div",{className:"p-4 border border-border rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-foreground",children:z.full_name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Phone: ",z.phone]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Vehicle: ",z.vehicle_type]}),z.license_number&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["License: ",z.license_number]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Applied: ",new Date(z.created_at).toLocaleString()]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${z.status==="approved"?"bg-primary/10 text-primary":z.status==="rejected"?"bg-destructive/10 text-destructive":"bg-accent/10 text-accent"}`,children:z.status})]}),z.status==="pending"&&a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsxs(q,{size:"sm",onClick:()=>Q(z.id,"approved"),className:"flex-1",children:[a.jsx(dr,{className:"h-4 w-4 mr-1"}),"Approve"]}),a.jsxs(q,{size:"sm",variant:"destructive",onClick:()=>Q(z.id,"rejected"),className:"flex-1",children:[a.jsx(Wa,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},z.id))})})]})}),a.jsx(mt,{value:"malicious",className:"space-y-4",children:a.jsxs(ne,{children:[a.jsx(be,{children:a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(Gs,{className:"h-5 w-5 text-destructive"}),"Malicious Activities"]})}),a.jsx(se,{children:a.jsx("div",{className:"space-y-2",children:w?[1,2].map(z=>a.jsx(V,{className:"h-24 w-full rounded-lg"},z)):m.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No malicious activities detected"}):m.map(z=>a.jsxs("div",{className:"p-4 border border-destructive/20 bg-destructive/5 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"font-semibold text-foreground",children:z.activity_type}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(z.detected_at||"").toLocaleString()})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:z.description}),(()=>{const de=d.find(ie=>ie.id===z.order_id),ve=z.delivery_person_id?f[z.delivery_person_id]:void 0,fe=z.user_id?f[z.user_id]:void 0;return a.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[de&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Order:"})," ","Order #",de.id.slice(0,8),"  ",Number(de.total_amount).toFixed(2)," "," ",a.jsx("span",{className:"capitalize",children:de.status.replace("_"," ")})]}),!de&&z.order_id&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Order:"})," ","Order #",z.order_id.slice(0,8)]}),fe&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Customer:"})," ",fe.full_name||"Unknown customer",fe.phone&&` (${fe.phone})`]}),!fe&&z.user_id&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Customer:"})," ","Unknown customer"]}),ve&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Delivery Person:"})," ",ve.full_name||"Unknown",ve.phone&&` (${ve.phone})`]})]})})()]},z.id))})})]})})]})]}),a.jsx(xn,{})]})}function ND(){const{user:e,userRole:t,loading:r}=et(),n=Je(),[s,o]=h.useState([]),[i,l]=h.useState([]),[c,d]=h.useState(""),[u,m]=h.useState("all"),[p,f]=h.useState({});h.useState({});const[b,g]=h.useState(new Set),[v,y]=h.useState(!1),[x,w]=h.useState(!1),[j,N]=h.useState(!1),S=async()=>{const P=A,{data:H,error:C}=await P.from("admin_settings").select("*").eq("id","00000000-0000-0000-0000-000000000001").single();H&&!C&&w(H.is_locked||!1),N(!0)};h.useEffect(()=>{if(!r){if(!e){n("/auth");return}if(t!==null){if(t!=="admin"&&t!=="super_admin"){switch(t){case"delivery":n("/delivery");break;default:n("/shop");break}return}t==="admin"?S():N(!0),E(),k()}}},[e,t,r,n]);const E=async()=>{const{data:P,error:H}=await A.from("products").select("id, name, price, stock_quantity, unit, image_url, category_id, discount_percent").order("stock_quantity",{ascending:!0});!H&&P&&o(P)},k=async()=>{const{data:P}=await A.from("categories").select("id, name");P&&l(P)},T=async()=>{y(!0),await E(),y(!1),U.success("Stock data refreshed")},O=(P,H)=>{const C=parseInt(H)||0;f(R=>({...R,[P]:Math.max(0,C)}))},I=async P=>{const H=p[P];if(H===void 0)return;g(R=>new Set(R).add(P));const{error:C}=await A.from("products").update({stock_quantity:H}).eq("id",P);C?U.error("Failed to update stock"):(U.success("Stock updated successfully"),o(R=>R.map(K=>K.id===P?{...K,stock_quantity:H}:K)),f(R=>{const K={...R};return delete K[P],K})),g(R=>{const K=new Set(R);return K.delete(P),K})},$=async(P,H)=>{const C=s.find(te=>te.id===P);if(!C)return;const R=Math.max(0,C.stock_quantity+H);g(te=>new Set(te).add(P));const{error:K}=await A.from("products").update({stock_quantity:R}).eq("id",P);K?U.error("Failed to update stock"):o(te=>te.map(Z=>Z.id===P?{...Z,stock_quantity:R}:Z)),g(te=>{const Z=new Set(te);return Z.delete(P),Z})},B=P=>P===0?{label:"Out of Stock",color:"bg-red-500",textColor:"text-red-700 dark:text-red-400"}:P<=5?{label:"Critical",color:"bg-red-400",textColor:"text-red-600 dark:text-red-400"}:P<=10?{label:"Low Stock",color:"bg-orange-400",textColor:"text-orange-600 dark:text-orange-400"}:P<=25?{label:"Medium",color:"bg-yellow-400",textColor:"text-yellow-600 dark:text-yellow-400"}:{label:"In Stock",color:"bg-green-500",textColor:"text-green-600 dark:text-green-400"},M={total:s.length,outOfStock:s.filter(P=>P.stock_quantity===0).length,lowStock:s.filter(P=>P.stock_quantity>0&&P.stock_quantity<=10).length,goodStock:s.filter(P=>P.stock_quantity>10).length,totalUnits:s.reduce((P,H)=>P+H.stock_quantity,0)},G=s.filter(P=>{if(!P.name.toLowerCase().includes(c.toLowerCase()))return!1;switch(u){case"out":return P.stock_quantity===0;case"low":return P.stock_quantity>0&&P.stock_quantity<=10;case"good":return P.stock_quantity>10;default:return!0}});return r||t===null?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 pb-20",children:[a.jsx("header",{className:"sticky top-0 z-40 border-b border-border/40 bg-background/40 backdrop-blur-xl supports-[backdrop-filter]:bg-background/20 shadow-[0_10px_40px_rgba(15,23,42,0.35)]",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(V,{className:"h-10 w-10 rounded-xl"}),a.jsx(V,{className:"h-7 w-48"})]}),a.jsx(V,{className:"h-10 w-10 rounded-md"})]})})}),a.jsxs("main",{className:"container mx-auto px-4 py-6 pb-24 space-y-6",children:[a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(P=>a.jsx(V,{className:"h-24 rounded-xl"},P))}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(V,{className:"h-10 flex-1"}),a.jsx(V,{className:"h-10 w-32"})]}),a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(P=>a.jsx(V,{className:"h-20 w-full rounded-xl"},P))})]}),a.jsx(xn,{})]}):t!=="admin"&&t!=="super_admin"?null:t==="admin"&&!j?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Checking access..."})]})}):x&&t==="admin"?(n("/admin"),null):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 pb-28",children:[a.jsx("header",{className:"sticky top-0 z-40 border-b border-border/40 bg-background/40 backdrop-blur-xl supports-[backdrop-filter]:bg-background/20 shadow-[0_10px_40px_rgba(15,23,42,0.35)]",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center shadow-lg",children:a.jsx(Am,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Stock Management"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage your inventory levels"})]})]}),a.jsxs(q,{onClick:T,variant:"outline",size:"sm",disabled:v,className:"bg-background/60",children:[a.jsx(Qh,{className:`h-4 w-4 mr-2 ${v?"animate-spin":""}`}),"Refresh"]})]})})}),a.jsxs("main",{className:"container mx-auto px-4 py-6 pb-28",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 mb-6",children:[a.jsxs("div",{className:`rounded-xl p-4 text-white shadow-lg cursor-pointer transition-transform hover:scale-105 ${u==="all"?"ring-2 ring-white bg-gradient-to-br from-primary to-primary/80":"bg-gradient-to-br from-slate-500 to-slate-600"}`,onClick:()=>m("all"),children:[a.jsx("p",{className:"text-xs opacity-80 font-medium",children:"All Products"}),a.jsx("p",{className:"text-2xl font-bold",children:M.total})]}),a.jsxs("div",{className:`rounded-xl p-4 text-white shadow-lg cursor-pointer transition-transform hover:scale-105 ${u==="out"?"ring-2 ring-white":""} bg-gradient-to-br from-red-500 to-red-600`,onClick:()=>m("out"),children:[a.jsx("p",{className:"text-xs opacity-80 font-medium",children:"Out of Stock"}),a.jsx("p",{className:"text-2xl font-bold",children:M.outOfStock})]}),a.jsxs("div",{className:`rounded-xl p-4 text-white shadow-lg cursor-pointer transition-transform hover:scale-105 ${u==="low"?"ring-2 ring-white":""} bg-gradient-to-br from-orange-500 to-amber-600`,onClick:()=>m("low"),children:[a.jsx("p",{className:"text-xs opacity-80 font-medium",children:"Low Stock"}),a.jsx("p",{className:"text-2xl font-bold",children:M.lowStock})]}),a.jsxs("div",{className:`rounded-xl p-4 text-white shadow-lg cursor-pointer transition-transform hover:scale-105 ${u==="good"?"ring-2 ring-white":""} bg-gradient-to-br from-green-500 to-emerald-600`,onClick:()=>m("good"),children:[a.jsx("p",{className:"text-xs opacity-80 font-medium",children:"Good Stock"}),a.jsx("p",{className:"text-2xl font-bold",children:M.goodStock})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl p-4 text-white shadow-lg",children:[a.jsx("p",{className:"text-xs opacity-80 font-medium",children:"Total Units"}),a.jsx("p",{className:"text-2xl font-bold",children:M.totalUnits.toLocaleString()})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Mm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(Pe,{placeholder:"Search products...",value:c,onChange:P=>d(P.target.value),className:"pl-10"})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",G.length," of ",s.length," products"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h2",{className:"text-sm font-medium text-muted-foreground",children:[G.length," Products"]}),G.map(P=>{const H=B(P.stock_quantity),C=p[P.id]!==void 0,R=b.has(P.id);return a.jsx(ne,{className:`overflow-hidden ${P.stock_quantity===0?"border-red-300 bg-red-50/30 dark:bg-red-950/20":P.stock_quantity<=10?"border-orange-300 bg-orange-50/30 dark:bg-orange-950/20":""}`,children:a.jsx(se,{className:"p-3",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"w-16 h-16 rounded-lg bg-muted flex items-center justify-center overflow-hidden flex-shrink-0",children:P.image_url?a.jsx("img",{src:P.image_url,alt:P.name,className:"w-full h-full object-cover"}):a.jsx(Fe,{className:"h-6 w-6 text-muted-foreground"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"font-medium text-sm truncate",children:P.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["",P.price," / ",P.unit]})]}),a.jsx(rt,{variant:"outline",className:`${H.textColor} border-current text-xs whitespace-nowrap`,children:H.label})]}),a.jsxs("div",{className:"flex items-center justify-between mt-3 gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(q,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>$(P.id,-1),disabled:R||P.stock_quantity===0,children:a.jsx(Xi,{className:"h-4 w-4"})}),a.jsx(Pe,{type:"number",min:"0",value:C?p[P.id]:P.stock_quantity,onChange:K=>O(P.id,K.target.value),className:"w-16 h-8 text-center text-sm"}),a.jsx(q,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>$(P.id,1),disabled:R,children:a.jsx(Kr,{className:"h-4 w-4"})})]}),C&&a.jsx(q,{size:"sm",onClick:()=>I(P.id),disabled:R,className:"h-8",children:R?a.jsx(Qh,{className:"h-4 w-4 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(Dm,{className:"h-4 w-4 mr-1"}),"Save"]})}),P.discount_percent&&P.discount_percent>0&&a.jsxs(rt,{className:"bg-green-600 text-white text-xs",children:[P.discount_percent,"% OFF"]})]})]})]})})},P.id)}),G.length===0&&a.jsx(ne,{className:"py-12",children:a.jsxs(se,{className:"text-center",children:[a.jsx(Fe,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-muted-foreground",children:"No products found"})]})})]})]}),a.jsx(xn,{})]})}const FN="8310807978",SD=`${FN}@ybl`,kD=()=>{const{user:e,userRole:t,loading:r}=et(),n=Je(),[s,o]=h.useState({deliveredOrders:0,commissionDeveloper:0,commissionDelivery:0}),[i,l]=h.useState(null),[c,d]=h.useState(!0),[u,m]=h.useState(!1),[p,f]=h.useState(!1);h.useEffect(()=>{if(r)return;if(!e){n("/auth");return}if(t===null)return;if(t!=="admin"&&t!=="super_admin"){switch(t){case"delivery":n("/delivery");break;default:n("/shop");break}return}(async()=>{try{await Promise.all([b(),g()])}finally{d(!1)}})()},[e,t,r,n]);const b=async()=>{const{data:j,error:N}=await A.from("orders").select("status, total_amount");if(N){console.error("Error fetching payout stats",N),U.error("Failed to load payout details");return}if(j){const S=j.filter(T=>T.status==="delivered").length;j.filter(T=>T.status==="delivered").reduce((T,O)=>T+Number(O.total_amount),0);const E=S*4,k=S*5;o({deliveredOrders:S,commissionDeveloper:E,commissionDelivery:k})}},g=async()=>{const{data:j,error:N}=await A.from("user_roles").select("user_id").eq("role","delivery");if(N){console.error("Error fetching delivery roles",N);return}if(!j||j.length===0)return;const S=j.map(T=>T.user_id),{data:E,error:k}=await A.from("profiles").select("id, full_name, phone").in("id",S);if(k){console.error("Error fetching delivery profiles",k);return}if(E&&E.length>0){const T=E[0];l({full_name:T.full_name,phone:T.phone})}},v=(j,N,S)=>`upi://pay?pa=${encodeURIComponent(j)}&pn=${encodeURIComponent(N)}&am=${S.toFixed(2)}&cu=INR&tn=${encodeURIComponent("PremasShop payout")}`,y=j=>{window.location.href=j},x=()=>{if(s.commissionDeveloper<=0){U.message("No payout pending for developer");return}const j=v(SD,"Developer",s.commissionDeveloper);y(j)},w=()=>{if(s.commissionDelivery<=0){U.message("No payout pending for delivery partners");return}if(!i||!i.phone){U.error("No delivery partner phone available");return}const j=`${i.phone}@upi`,N=i.full_name||"Delivery Partner",S=v(j,N,s.commissionDelivery);y(S)};return r||t===null||c?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 pb-20",children:[a.jsx("header",{className:"sticky top-0 z-40 border-b border-border/40 bg-background/40 backdrop-blur-xl supports-[backdrop-filter]:bg-background/20 shadow-[0_10px_40px_rgba(15,23,42,0.35)]",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(V,{className:"h-10 w-10 rounded-xl"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(V,{className:"h-6 w-40"}),a.jsx(V,{className:"h-3 w-36"})]})]})})}),a.jsx("main",{className:"container mx-auto px-4 py-6 pb-24",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[1,2].map(j=>a.jsx(V,{className:"h-48 w-full rounded-xl"},j))})}),a.jsx(xn,{})]}):t!=="admin"&&t!=="super_admin"?null:a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 pb-20",children:[a.jsx("header",{className:"sticky top-0 z-40 border-b border-border/40 bg-background/40 backdrop-blur-xl supports-[backdrop-filter]:bg-background/20 shadow-[0_10px_40px_rgba(15,23,42,0.35)]",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center shadow-lg",children:a.jsx(Lw,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Pending Payments"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage commission payouts"})]})]})})}),a.jsx("main",{className:"container mx-auto px-4 py-6 pb-24",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs(ne,{children:[a.jsx(be,{children:a.jsx(Ee,{children:"Developer (Website Builder)"})}),a.jsxs(se,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Amount to Pay"}),a.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["",s.commissionDeveloper.toFixed(2)]})]}),a.jsx($m,{className:"h-8 w-8 text-primary"})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Orders: ",s.deliveredOrders]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Pay to: ",FN]}),a.jsx("div",{className:"mt-3",children:a.jsxs(q,{className:"w-full",onClick:()=>m(!0),children:[a.jsx(Lc,{className:"h-4 w-4 mr-2"}),"Pay"]})})]})]}),a.jsxs(ne,{children:[a.jsx(be,{children:a.jsx(Ee,{children:"Delivery Partner"})}),a.jsxs(se,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Amount to Pay"}),a.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["",s.commissionDelivery.toFixed(2)]})]}),a.jsx(iE,{className:"h-8 w-8 text-primary"})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Orders: ",s.deliveredOrders]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:i!=null&&i.phone?`Pay to: ${i.full_name||"Delivery Partner"} (${i.phone})`:"No delivery partner phone found"}),a.jsx("div",{className:"mt-3",children:a.jsxs(q,{className:"w-full",onClick:()=>f(!0),disabled:!(i!=null&&i.phone),children:[a.jsx(Lc,{className:"h-4 w-4 mr-2"}),"Pay"]})})]})]})]})}),u&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:a.jsxs("div",{className:"bg-card rounded-lg p-4 w-full max-w-sm space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Pay Developer"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose payment app"}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx(q,{className:"flex-1",onClick:()=>{x(),m(!1)},children:"GPay"}),a.jsx(q,{className:"flex-1",onClick:()=>{x(),m(!1)},children:"PhonePe"})]}),a.jsx(q,{variant:"outline",className:"w-full mt-2",onClick:()=>m(!1),children:"Cancel"})]})}),p&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:a.jsxs("div",{className:"bg-card rounded-lg p-4 w-full max-w-sm space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Pay Delivery Partner"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose payment app"}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx(q,{className:"flex-1",onClick:()=>{w(),f(!1)},disabled:!(i!=null&&i.phone),children:"GPay"}),a.jsx(q,{className:"flex-1",onClick:()=>{w(),f(!1)},disabled:!(i!=null&&i.phone),children:"PhonePe"})]}),a.jsx(q,{variant:"outline",className:"w-full mt-2",onClick:()=>f(!1),children:"Cancel"})]})}),a.jsx(xn,{})]})};function Mr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ra(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const UN=6048e5,CD=864e5;let ED={};function Kd(){return ED}function Bi(e,t){var l,c,d,u;const r=Kd(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=Mr(e),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Xc(e){return Bi(e,{weekStartsOn:1})}function BN(e){const t=Mr(e),r=t.getFullYear(),n=ra(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Xc(n),o=ra(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Xc(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function w0(e){const t=Mr(e);return t.setHours(0,0,0,0),t}function b0(e){const t=Mr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function PD(e,t){const r=w0(e),n=w0(t),s=+r-b0(r),o=+n-b0(n);return Math.round((s-o)/CD)}function TD(e){const t=BN(e),r=ra(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Xc(r)}function RD(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function OD(e){if(!RD(e)&&typeof e!="number")return!1;const t=Mr(e);return!isNaN(Number(t))}function AD(e){const t=Mr(e),r=ra(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ID={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},DD=(e,t,r)=>{let n;const s=ID[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Xu(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const MD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},LD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$D={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},FD={date:Xu({formats:MD,defaultWidth:"full"}),time:Xu({formats:LD,defaultWidth:"full"}),dateTime:Xu({formats:$D,defaultWidth:"full"})},UD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},BD=(e,t,r,n)=>UD[e];function Vo(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const zD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},WD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},VD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},HD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},KD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},GD=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},YD={ordinalNumber:GD,era:Vo({values:zD,defaultWidth:"wide"}),quarter:Vo({values:qD,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Vo({values:WD,defaultWidth:"wide"}),day:Vo({values:VD,defaultWidth:"wide"}),dayPeriod:Vo({values:HD,defaultWidth:"wide",formattingValues:KD,defaultFormattingWidth:"wide"})};function Ho(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?JD(l,m=>m.test(i)):QD(l,m=>m.test(i));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(i.length);return{value:d,rest:u}}}function QD(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function JD(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function XD(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const ZD=/^(\d+)(th|st|nd|rd)?/i,eM=/\d+/i,tM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rM={any:[/^b/i,/^(a|c)/i]},nM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sM={any:[/1/i,/2/i,/3/i,/4/i]},aM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},iM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uM={ordinalNumber:XD({matchPattern:ZD,parsePattern:eM,valueCallback:e=>parseInt(e,10)}),era:Ho({matchPatterns:tM,defaultMatchWidth:"wide",parsePatterns:rM,defaultParseWidth:"any"}),quarter:Ho({matchPatterns:nM,defaultMatchWidth:"wide",parsePatterns:sM,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ho({matchPatterns:aM,defaultMatchWidth:"wide",parsePatterns:oM,defaultParseWidth:"any"}),day:Ho({matchPatterns:iM,defaultMatchWidth:"wide",parsePatterns:lM,defaultParseWidth:"any"}),dayPeriod:Ho({matchPatterns:cM,defaultMatchWidth:"any",parsePatterns:dM,defaultParseWidth:"any"})},hM={code:"en-US",formatDistance:DD,formatLong:FD,formatRelative:BD,localize:YD,match:uM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fM(e){const t=Mr(e);return PD(t,AD(t))+1}function mM(e){const t=Mr(e),r=+Xc(t)-+TD(t);return Math.round(r/UN)+1}function zN(e,t){var u,m,p,f;const r=Mr(e),n=r.getFullYear(),s=Kd(),o=(t==null?void 0:t.firstWeekContainsDate)??((m=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(p=s.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,i=ra(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const l=Bi(i,t),c=ra(e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const d=Bi(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function pM(e,t){var l,c,d,u;const r=Kd(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,s=zN(e,t),o=ra(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),Bi(o,t)}function gM(e,t){const r=Mr(e),n=+Bi(r,t)-+pM(r,t);return Math.round(n/UN)+1}function Ie(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Pn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ie(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ie(r+1,2)},d(e,t){return Ie(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ie(e.getHours()%12||12,t.length)},H(e,t){return Ie(e.getHours(),t.length)},m(e,t){return Ie(e.getMinutes(),t.length)},s(e,t){return Ie(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ie(s,t.length)}},wa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},j0={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Pn.y(e,t)},Y:function(e,t,r,n){const s=zN(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return Ie(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ie(o,t.length)},R:function(e,t){const r=BN(e);return Ie(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ie(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ie(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ie(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Pn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ie(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=gM(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ie(s,t.length)},I:function(e,t,r){const n=mM(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ie(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Pn.d(e,t)},D:function(e,t,r){const n=fM(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ie(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ie(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ie(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Ie(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=wa.noon:n===0?s=wa.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=wa.evening:n>=12?s=wa.afternoon:n>=4?s=wa.morning:s=wa.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Pn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Pn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ie(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ie(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Pn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Pn.s(e,t)},S:function(e,t){return Pn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return N0(n);case"XXXX":case"XX":return _s(n);case"XXXXX":case"XXX":default:return _s(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return N0(n);case"xxxx":case"xx":return _s(n);case"xxxxx":case"xxx":default:return _s(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+_0(n,":");case"OOOO":default:return"GMT"+_s(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+_0(n,":");case"zzzz":default:return"GMT"+_s(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ie(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ie(n,t.length)}};function _0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+Ie(o,2)}function N0(e,t){return e%60===0?(e>0?"-":"+")+Ie(Math.abs(e)/60,2):_s(e,t)}function _s(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Ie(Math.trunc(n/60),2),o=Ie(n%60,2);return r+s+t+o}const S0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},qN=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},vM=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return S0(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",S0(n,t)).replace("{{time}}",qN(s,t))},xM={p:qN,P:vM},yM=/^D+$/,wM=/^Y+$/,bM=["D","DD","YY","YYYY"];function jM(e){return yM.test(e)}function _M(e){return wM.test(e)}function NM(e,t,r){const n=SM(e,t,r);if(console.warn(n),bM.includes(e))throw new RangeError(n)}function SM(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,EM=/^'([^]*?)'?$/,PM=/''/g,TM=/[a-zA-Z]/;function RM(e,t,r){var u,m,p,f;const n=Kd(),s=n.locale??hM,o=n.firstWeekContainsDate??((m=(u=n.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??1,i=n.weekStartsOn??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.weekStartsOn)??0,l=Mr(e);if(!OD(l))throw new RangeError("Invalid time value");let c=t.match(CM).map(b=>{const g=b[0];if(g==="p"||g==="P"){const v=xM[g];return v(b,s.formatLong)}return b}).join("").match(kM).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const g=b[0];if(g==="'")return{isToken:!1,value:OM(b)};if(j0[g])return{isToken:!0,value:b};if(g.match(TM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(b=>{if(!b.isToken)return b.value;const g=b.value;(_M(g)||jM(g))&&NM(g,t,String(e));const v=j0[g[0]];return v(l,g,s.localize,d)}).join("")}function OM(e){const t=e.match(EM);return t?t[1].replace(PM,"'"):e}const k0=[{id:"flash_sale",name:" Flash Sale",title:" Flash Sale Live!",body:"Hurry! Up to 50% off on selected items. Limited time only!",icon:"zap",url:"/shop"},{id:"new_arrival",name:" New Arrival",title:" Fresh Arrivals!",body:"New products just landed! Check out the latest additions.",icon:"sparkles",url:"/shop"},{id:"festive_offer",name:" Festive Offer",title:" Festive Special!",body:"Celebrate with special discounts. Shop now!",icon:"gift",url:"/shop"},{id:"urgent_update",name:" Urgent Update",title:" Important Notice",body:"Please read this important update regarding your orders.",icon:"alert-triangle",url:"/"},{id:"delivery_update",name:" Delivery Update",title:" Delivery Update",body:"Important information about deliveries in your area.",icon:"truck",url:"/orders"},{id:"custom",name:" Custom Message",title:"",body:"",icon:"bell",url:"/"}],Gl=[{value:"all",label:"All Users",icon:Mw,color:"bg-blue-500"},{value:"users",label:"Customers Only",icon:Zi,color:"bg-green-500"},{value:"admins",label:"Admins Only",icon:Xh,color:"bg-purple-500"},{value:"delivery",label:"Delivery Partners",icon:oa,color:"bg-orange-500"}];function AM(){var P,H;const{user:e}=et(),[t,r]=h.useState(!1),[n,s]=h.useState(!1),[o,i]=h.useState([]),[l,c]=h.useState(null),[d,u]=h.useState(!1),[m,p]=h.useState("custom"),[f,b]=h.useState(""),[g,v]=h.useState(""),[y,x]=h.useState("/"),[w,j]=h.useState("all"),[N,S]=h.useState(!1),[E,k]=h.useState("");h.useEffect(()=>{T(),O()},[]);const T=async()=>{const{data:C,error:R}=await A.from("broadcast_notifications").select("*").order("created_at",{ascending:!1}).limit(20);C&&!R&&i(C)},O=async()=>{const{data:C,error:R}=await A.from("notification_logs").select("notification_type, status").gte("created_at",new Date(Date.now()-6048e5).toISOString());if(C&&!R){const K=C.filter(oe=>oe.status==="sent").length,te=C.filter(oe=>oe.status==="failed").length,Z={};C.forEach(oe=>{Z[oe.notification_type]=(Z[oe.notification_type]||0)+1}),c({total_sent:K,total_failed:te,by_type:Z})}},I=C=>{p(C);const R=k0.find(K=>K.id===C);R&&C!=="custom"&&(b(R.title),v(R.body),x(R.url))},$=async()=>{if(!f.trim()||!g.trim()){U.error("Please enter title and message");return}r(!0),u(!1);try{const{data:C,error:R}=await A.from("broadcast_notifications").insert({title:f,body:g,url:y,target_audience:w,send_immediately:!N,scheduled_at:N?E:null,status:N?"scheduled":"sending",created_by:e==null?void 0:e.id}).select().single();if(R)throw R;if(N)U.success(" Broadcast scheduled successfully!");else{const{data:K,error:te}=await A.functions.invoke("send-push-notification",{body:{title:f,body:g,url:y,notification_type:"broadcast",broadcast_id:C.id,send_to_admins:w==="admins",send_to_delivery:w==="delivery",preference_filter:w==="all"?"promotional_alerts":null}});if(te)throw te;U.success(` Broadcast sent to ${K.sent} users!`)}b(""),v(""),x("/"),p("custom"),T(),O()}catch(C){console.error("Error sending broadcast:",C),U.error("Failed to send broadcast: "+C.message)}finally{r(!1)}},B=async C=>{s(!0);try{let R={notification_type:C};switch(C){case"profit_summary":R={...R,title:" Daily Profit Summary",body:"Today: 12,500 revenue, 3,200 profit from 45 orders!",url:"/admin",send_to_admins:!0};break;case"order_status":R={...R,title:" New Order #ABC123",body:"New order worth 450 from Test Customer",url:"/admin",send_to_admins:!0};break;case"low_stock":R={...R,title:" Low Stock Alert",body:"Fresh Tomatoes is running low! Only 3 units left.",url:"/admin/stock",send_to_admins:!0};break;case"daily_reminder":R={...R,title:" Good Morning!",body:"Time to check your shop! 5 pending orders waiting.",url:"/admin",user_ids:[e==null?void 0:e.id]};break}const{data:K,error:te}=await A.functions.invoke("send-push-notification",{body:R});if(te)throw te;U.success(` Test ${C} notification sent!`)}catch(R){U.error("Failed to send test: "+R.message)}finally{s(!1)}},M=C=>{switch(C){case"sent":return a.jsxs(rt,{className:"bg-green-500",children:[a.jsx(dr,{className:"h-3 w-3 mr-1"}),"Sent"]});case"sending":return a.jsxs(rt,{className:"bg-blue-500",children:[a.jsx(Ft,{className:"h-3 w-3 mr-1 animate-spin"}),"Sending"]});case"scheduled":return a.jsxs(rt,{className:"bg-yellow-500",children:[a.jsx(Fs,{className:"h-3 w-3 mr-1"}),"Scheduled"]});case"failed":return a.jsxs(rt,{className:"bg-red-500",children:[a.jsx(Wa,{className:"h-3 w-3 mr-1"}),"Failed"]});default:return a.jsx(rt,{variant:"secondary",children:C})}},G=C=>{const R=Gl.find(K=>K.value===C);if(R){const K=R.icon;return a.jsx(K,{className:"h-4 w-4"})}return a.jsx(Mw,{className:"h-4 w-4"})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(ne,{className:"bg-gradient-to-br from-green-50 to-emerald-100 dark:from-green-950/40 dark:to-emerald-900/20 border-green-200 dark:border-green-800",children:a.jsx(se,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:"Sent (7d)"}),a.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:(l==null?void 0:l.total_sent)||0})]}),a.jsx(dr,{className:"h-8 w-8 text-green-500"})]})})}),a.jsx(ne,{className:"bg-gradient-to-br from-red-50 to-rose-100 dark:from-red-950/40 dark:to-rose-900/20 border-red-200 dark:border-red-800",children:a.jsx(se,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:"Failed (7d)"}),a.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:(l==null?void 0:l.total_failed)||0})]}),a.jsx(Wa,{className:"h-8 w-8 text-red-500"})]})})}),a.jsx(ne,{className:"bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-950/40 dark:to-indigo-900/20 border-blue-200 dark:border-blue-800",children:a.jsx(se,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Order Alerts"}),a.jsx("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:((P=l==null?void 0:l.by_type)==null?void 0:P.order_status)||0})]}),a.jsx(Fe,{className:"h-8 w-8 text-blue-500"})]})})}),a.jsx(ne,{className:"bg-gradient-to-br from-purple-50 to-violet-100 dark:from-purple-950/40 dark:to-violet-900/20 border-purple-200 dark:border-purple-800",children:a.jsx(se,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Broadcasts"}),a.jsx("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:o.filter(C=>C.status==="sent").length})]}),a.jsx(Da,{className:"h-8 w-8 text-purple-500"})]})})})]}),a.jsxs(sl,{defaultValue:"broadcast",className:"space-y-6",children:[a.jsxs(Oo,{className:"grid w-full grid-cols-3 lg:w-[400px]",children:[a.jsxs(ft,{value:"broadcast",className:"gap-2",children:[a.jsx(Da,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Broadcast"})]}),a.jsxs(ft,{value:"test",className:"gap-2",children:[a.jsx(ef,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Test"})]}),a.jsxs(ft,{value:"history",className:"gap-2",children:[a.jsx(rv,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"History"})]})]}),a.jsx(mt,{value:"broadcast",className:"space-y-6",children:a.jsxs(ne,{children:[a.jsxs(be,{className:"bg-gradient-to-r from-purple-500/10 via-pink-500/10 to-orange-500/10",children:[a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center shadow-lg",children:a.jsx(Da,{className:"h-5 w-5 text-white"})}),"Send Broadcast Notification"]}),a.jsx(ln,{children:"Send instant notifications to users, admins, or delivery partners"})]}),a.jsxs(se,{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{children:"Quick Templates"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:k0.map(C=>a.jsx(q,{variant:m===C.id?"default":"outline",className:`justify-start h-auto py-3 ${m===C.id?"bg-gradient-to-r from-purple-500 to-pink-600 border-0":""}`,onClick:()=>I(C.id),children:a.jsx("span",{className:"text-sm",children:C.name})},C.id))})]}),a.jsxs("div",{className:"grid gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{htmlFor:"title",children:"Notification Title *"}),a.jsx(Pe,{id:"title",placeholder:"e.g.,  Flash Sale Live!",value:f,onChange:C=>b(C.target.value),className:"text-lg"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{htmlFor:"body",children:"Message *"}),a.jsx(wn,{id:"body",placeholder:"Enter your notification message...",value:g,onChange:C=>v(C.target.value),rows:3}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[g.length,"/200 characters recommended"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{htmlFor:"url",children:"Target Page URL"}),a.jsx(Pe,{id:"url",placeholder:"/shop or /orders/abc123",value:y,onChange:C=>x(C.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Where users go when they tap the notification"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(xe,{children:"Target Audience"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Gl.map(C=>{const R=C.icon;return a.jsxs(q,{variant:w===C.value?"default":"outline",className:`flex-col h-auto py-4 gap-2 ${w===C.value?C.color+" border-0 text-white":""}`,onClick:()=>j(C.value),children:[a.jsx(R,{className:"h-6 w-6"}),a.jsx("span",{className:"text-xs",children:C.label})]},C.value)})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-muted/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Fs,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Schedule for later"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Set a specific time to send"})]})]}),a.jsx(Ma,{checked:N,onCheckedChange:S})]}),N&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{children:"Scheduled Time"}),a.jsx(Pe,{type:"datetime-local",value:E,onChange:C=>k(C.target.value),min:new Date().toISOString().slice(0,16)})]}),f&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{children:"Preview"}),a.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-r from-gray-900 to-gray-800 text-white",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center flex-shrink-0",children:a.jsx(Ti,{className:"h-5 w-5"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold truncate",children:f}),a.jsx("p",{className:"text-sm text-gray-300 line-clamp-2",children:g}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PremasShop  now"})]})]})})]}),a.jsxs(Bs,{open:d,onOpenChange:u,children:[a.jsx(zI,{asChild:!0,children:a.jsx(q,{className:"w-full h-12 text-lg bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 hover:from-purple-600 hover:via-pink-600 hover:to-orange-600",disabled:!f.trim()||!g.trim()||t,children:t?a.jsxs(a.Fragment,{children:[a.jsx(Ft,{className:"h-5 w-5 mr-2 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Jh,{className:"h-5 w-5 mr-2"}),N?"Schedule Broadcast":"Send Broadcast Now"]})})}),a.jsxs(Zn,{children:[a.jsxs(es,{children:[a.jsxs(ts,{className:"flex items-center gap-2",children:[a.jsx(Gs,{className:"h-5 w-5 text-yellow-500"}),"Confirm Broadcast"]}),a.jsxs(hi,{children:["You are about to send a notification to ",a.jsx("strong",{children:(H=Gl.find(C=>C.value===w))==null?void 0:H.label}),". This action cannot be undone."]})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 space-y-2",children:[a.jsx("p",{className:"font-semibold",children:f}),a.jsx("p",{className:"text-sm text-muted-foreground",children:g})]}),a.jsxs(Xs,{children:[a.jsx(q,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),a.jsxs(q,{className:"bg-gradient-to-r from-purple-500 to-pink-600",onClick:$,disabled:t,children:[t?a.jsx(Ft,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(Jh,{className:"h-4 w-4 mr-2"}),"Confirm & Send"]})]})]})]})]})]})}),a.jsx(mt,{value:"test",className:"space-y-6",children:a.jsxs(ne,{children:[a.jsxs(be,{children:[a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(ef,{className:"h-5 w-5 text-yellow-500"}),"Test Notifications"]}),a.jsx(ln,{children:"Send test notifications to verify each type is working correctly"})]}),a.jsx(se,{className:"space-y-4",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsx(ne,{className:"border-green-200 dark:border-green-800",children:a.jsx(se,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 dark:bg-green-900/50 flex items-center justify-center",children:a.jsx($m,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Profit Summary"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Daily earnings report"})]})]}),a.jsx(q,{size:"sm",onClick:()=>B("profit_summary"),disabled:n,children:n?a.jsx(Ft,{className:"h-4 w-4 animate-spin"}):"Test"})]})})}),a.jsx(ne,{className:"border-blue-200 dark:border-blue-800",children:a.jsx(se,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center",children:a.jsx(Fe,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Order Update"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"New order alert"})]})]}),a.jsx(q,{size:"sm",onClick:()=>B("order_status"),disabled:n,children:n?a.jsx(Ft,{className:"h-4 w-4 animate-spin"}):"Test"})]})})}),a.jsx(ne,{className:"border-orange-200 dark:border-orange-800",children:a.jsx(se,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-orange-100 dark:bg-orange-900/50 flex items-center justify-center",children:a.jsx(Gs,{className:"h-5 w-5 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Low Stock Alert"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Inventory warning"})]})]}),a.jsx(q,{size:"sm",onClick:()=>B("low_stock"),disabled:n,children:n?a.jsx(Ft,{className:"h-4 w-4 animate-spin"}):"Test"})]})})}),a.jsx(ne,{className:"border-purple-200 dark:border-purple-800",children:a.jsx(se,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 dark:bg-purple-900/50 flex items-center justify-center",children:a.jsx(Fs,{className:"h-5 w-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Daily Reminder"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Morning check-in"})]})]}),a.jsx(q,{size:"sm",onClick:()=>B("daily_reminder"),disabled:n,children:n?a.jsx(Ft,{className:"h-4 w-4 animate-spin"}):"Test"})]})})})]})})]})}),a.jsx(mt,{value:"history",className:"space-y-6",children:a.jsxs(ne,{children:[a.jsxs(be,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(rv,{className:"h-5 w-5"}),"Broadcast History"]}),a.jsx(ln,{children:"Recent broadcast notifications"})]}),a.jsxs(q,{variant:"outline",size:"sm",onClick:T,children:[a.jsx(Qh,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),a.jsx(se,{children:o.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(Da,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No broadcasts sent yet"}),a.jsx("p",{className:"text-sm",children:"Your broadcast history will appear here"})]}):a.jsx("div",{className:"space-y-3",children:o.map(C=>{var R;return a.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-xl bg-muted/50 hover:bg-muted transition-colors",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center flex-shrink-0",children:G(C.target_audience)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium truncate",children:C.title}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:C.body})]}),M(C.status)]}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(lE,{className:"h-3 w-3"}),(R=Gl.find(K=>K.value===C.target_audience))==null?void 0:R.label]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(dr,{className:"h-3 w-3 text-green-500"}),C.sent_count," sent"]}),C.failed_count>0&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Wa,{className:"h-3 w-3 text-red-500"}),C.failed_count," failed"]}),a.jsx("span",{children:RM(new Date(C.created_at),"MMM d, h:mm a")})]})]})]},C.id)})})})]})})]})]})}function IM(){const{user:e,loading:t,userRole:r}=et(),n=Je(),[s,o]=h.useState(!1);return h.useEffect(()=>{if(t)return;if(!e){n("/auth");return}if(r===null)return;const i=r==="admin"||r==="super_admin";if(o(i),!i)switch(r){case"delivery":n("/delivery");break;default:n("/shop");break}},[e,r,t,n]),t||r===null||!s?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 pb-20",children:[a.jsx("header",{className:"sticky top-0 z-40 border-b border-border/40 bg-background/40 backdrop-blur-xl supports-[backdrop-filter]:bg-background/20 shadow-[0_10px_40px_rgba(15,23,42,0.35)]",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(V,{className:"h-10 w-10 rounded-xl"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(V,{className:"h-6 w-40"}),a.jsx(V,{className:"h-3 w-32"})]})]})})}),a.jsxs("main",{className:"container mx-auto px-4 py-6 max-w-5xl space-y-4",children:[a.jsx(V,{className:"h-64 w-full rounded-xl"}),a.jsx(V,{className:"h-40 w-full rounded-xl"})]}),a.jsx(xn,{})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 pb-20",children:[a.jsx("header",{className:"sticky top-0 z-40 border-b border-border/40 bg-background/40 backdrop-blur-xl supports-[backdrop-filter]:bg-background/20 shadow-[0_10px_40px_rgba(15,23,42,0.35)]",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center shadow-lg",children:a.jsx(Da,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Broadcast Center"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Send notifications to users"})]})]})})}),a.jsx("main",{className:"container mx-auto px-4 py-6 max-w-5xl",children:a.jsx(AM,{})}),a.jsx(xn,{})]})}var WN="AlertDialog",[DM,NL]=Lt(WN,[Nj]),bn=Nj(),VN=e=>{const{__scopeAlertDialog:t,...r}=e,n=bn(t);return a.jsx(yp,{...n,...r,modal:!0})};VN.displayName=WN;var MM="AlertDialogTrigger",LM=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=bn(r);return a.jsx(wp,{...s,...n,ref:t})});LM.displayName=MM;var $M="AlertDialogPortal",HN=e=>{const{__scopeAlertDialog:t,...r}=e,n=bn(t);return a.jsx(bp,{...n,...r})};HN.displayName=$M;var FM="AlertDialogOverlay",KN=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=bn(r);return a.jsx(al,{...s,...n,ref:t})});KN.displayName=FM;var Ya="AlertDialogContent",[UM,BM]=DM(Ya),zM=nw("AlertDialogContent"),GN=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,o=bn(r),i=h.useRef(null),l=Se(t,i),c=h.useRef(null);return a.jsx(wI,{contentName:Ya,titleName:YN,docsSlug:"alert-dialog",children:a.jsx(UM,{scope:r,cancelRef:c,children:a.jsxs(ol,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:ae(s.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[a.jsx(zM,{children:n}),a.jsx(WM,{contentRef:i})]})})})});GN.displayName=Ya;var YN="AlertDialogTitle",QN=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=bn(r);return a.jsx(il,{...s,...n,ref:t})});QN.displayName=YN;var JN="AlertDialogDescription",XN=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=bn(r);return a.jsx(ll,{...s,...n,ref:t})});XN.displayName=JN;var qM="AlertDialogAction",ZN=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=bn(r);return a.jsx(Ld,{...s,...n,ref:t})});ZN.displayName=qM;var eS="AlertDialogCancel",tS=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=BM(eS,r),o=bn(r),i=Se(t,s);return a.jsx(Ld,{...o,...n,ref:i})});tS.displayName=eS;var WM=({contentRef:e})=>{const t=`\`${Ya}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ya}\` by passing a \`${JN}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ya}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},VM=VN,HM=HN,rS=KN,nS=GN,sS=ZN,aS=tS,oS=QN,iS=XN;const KM=VM,GM=HM,lS=h.forwardRef(({className:e,...t},r)=>a.jsx(rS,{className:ue("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));lS.displayName=rS.displayName;const cS=h.forwardRef(({className:e,...t},r)=>a.jsxs(GM,{children:[a.jsx(lS,{}),a.jsx(nS,{ref:r,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));cS.displayName=nS.displayName;const dS=({className:e,...t})=>a.jsx("div",{className:ue("flex flex-col space-y-2 text-center sm:text-left",e),...t});dS.displayName="AlertDialogHeader";const uS=({className:e,...t})=>a.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});uS.displayName="AlertDialogFooter";const hS=h.forwardRef(({className:e,...t},r)=>a.jsx(oS,{ref:r,className:ue("text-lg font-semibold",e),...t}));hS.displayName=oS.displayName;const fS=h.forwardRef(({className:e,...t},r)=>a.jsx(iS,{ref:r,className:ue("text-sm text-muted-foreground",e),...t}));fS.displayName=iS.displayName;const mS=h.forwardRef(({className:e,...t},r)=>a.jsx(sS,{ref:r,className:ue(hp(),e),...t}));mS.displayName=sS.displayName;const pS=h.forwardRef(({className:e,...t},r)=>a.jsx(aS,{ref:r,className:ue(hp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));pS.displayName=aS.displayName;const C0=e=>{const t=new Date,r=new Date(t);switch(e){case"today":r.setHours(0,0,0,0);break;case"7days":r.setDate(t.getDate()-7),r.setHours(0,0,0,0);break;case"1month":r.setMonth(t.getMonth()-1),r.setHours(0,0,0,0);break;case"6months":r.setMonth(t.getMonth()-6),r.setHours(0,0,0,0);break;case"1year":r.setFullYear(t.getFullYear()-1),r.setHours(0,0,0,0);break}return r},E0={today:"Today","7days":"Last 7 Days","1month":"Last 1 Month","6months":"Last 6 Months","1year":"Last 1 Year"};function YM(){const{user:e,loading:t,signOut:r}=et(),n=Je(),[s,o]=h.useState([]),[i,l]=h.useState([]),[c,d]=h.useState([]),[u,m]=h.useState([]),[p,f]=h.useState([]),[b,g]=h.useState([]),[v,y]=h.useState({totalOrders:0,pendingOrders:0,deliveredOrders:0,revenue:0,totalUsers:0,deliveryPersons:0,pendingApplications:0,commissionDeveloper:0,commissionDelivery:0,profit:0}),[x,w]=h.useState(null),[j,N]=h.useState({name:"",description:"",price:"",stock_quantity:"",unit:"piece",category_id:"",image_url:""}),[S,E]=h.useState({userId:"",newRole:"user"}),[k,T]=h.useState({open:!1,type:null,id:"",name:""}),[O,I]=h.useState("today"),[$,B]=h.useState({isLocked:!1,paymentStatus:"none",paidAt:null});h.useEffect(()=>{if(t)return;const _=sessionStorage.getItem("superadmin_access")==="true";if(!e&&!_){n("/auth");return}G(),M()},[e,t,n]),h.useEffect(()=>{(e||sessionStorage.getItem("superadmin_access")==="true")&&(te(),ke())},[O]);const M=()=>{const _=A.channel("superadmin-orders").on("postgres_changes",{event:"*",schema:"public",table:"orders"},te).subscribe(),L=A.channel("superadmin-malicious").on("postgres_changes",{event:"*",schema:"public",table:"malicious_activities"},Z).subscribe();return()=>{A.removeChannel(_),A.removeChannel(L)}},G=async()=>{await Promise.all([R(),K(),te(),Z(),oe(),he(),ke(),P()])},P=async()=>{const _=A,{data:L,error:X}=await _.from("admin_settings").select("*").eq("id","00000000-0000-0000-0000-000000000001").single();L&&!X&&B({isLocked:L.is_locked||!1,paymentStatus:L.payment_status||"none",paidAt:L.paid_at})},H=async _=>{const L=A,{error:X}=await L.from("admin_settings").update({is_locked:_,payment_status:_?"pending":"none",locked_at:_?new Date().toISOString():null,paid_at:null,confirmed_at:null,updated_at:new Date().toISOString()}).eq("id","00000000-0000-0000-0000-000000000001");X?U.error("Failed to update admin lock status"):(U.success(_?"Admin access locked! Payment required.":"Admin access unlocked!"),P())},C=async()=>{const _=A,{error:L}=await _.from("admin_settings").update({is_locked:!1,payment_status:"none",confirmed_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id","00000000-0000-0000-0000-000000000001");L?U.error("Failed to confirm payment"):(U.success("Payment confirmed! Admin access restored."),P())},R=async()=>{const{data:_}=await A.from("products").select("*").order("name");_&&o(_)},K=async()=>{const{data:_}=await A.from("categories").select("id, name").order("name");_&&l(_)},te=async()=>{const _=C0(O).toISOString(),{data:L}=await A.from("orders").select("*").gte("created_at",_).order("created_at",{ascending:!1}).limit(50);L&&d(L)},Z=async()=>{const{data:_}=await A.from("malicious_activities").select("*").order("detected_at",{ascending:!1});_&&m(_)},oe=async()=>{const{data:_}=await A.from("user_roles").select("*").order("created_at",{ascending:!1});_&&f(_)},he=async()=>{const{data:_}=await A.from("delivery_applications").select("*").order("created_at",{ascending:!1});_&&g(_)},ke=async()=>{const _=C0(O).toISOString(),{data:L}=await A.from("orders").select("status, total_amount, created_at").gte("created_at",_),{data:X}=await A.from("user_roles").select("role"),{data:re}=await A.from("delivery_applications").select("status");if(L){const ye=L.length,Ue=L.filter(at=>at.status==="pending"||at.status==="confirmed"||at.status==="out_for_delivery").length,ct=L.filter(at=>at.status==="delivered").length,yt=L.filter(at=>at.status==="delivered").reduce((at,Yd)=>at+Number(Yd.total_amount),0),Io=(X==null?void 0:X.filter(at=>at.role==="user").length)||0,gs=(X==null?void 0:X.filter(at=>at.role==="delivery").length)||0,Ce=(re==null?void 0:re.filter(at=>at.status==="pending").length)||0,st=ct*4,Ht=ct*5,Gd=yt-st-Ht;y({totalOrders:ye,pendingOrders:Ue,deliveredOrders:ct,revenue:yt,totalUsers:Io,deliveryPersons:gs,pendingApplications:Ce,commissionDeveloper:st,commissionDelivery:Ht,profit:Gd})}},Re=async()=>{if(!j.name||!j.price||!j.category_id){U.error("Please fill all required fields");return}const _={name:j.name,description:j.description||null,price:parseFloat(j.price),stock_quantity:parseInt(j.stock_quantity)||0,unit:j.unit,category_id:j.category_id,image_url:j.image_url||null,is_active:!0};if(x){const{error:L}=await A.from("products").update(_).eq("id",x.id);L?U.error("Failed to update product"):(U.success("Product updated successfully"),ee(),R())}else{const{error:L}=await A.from("products").insert(_);L?U.error("Failed to create product"):(U.success("Product created successfully"),ee(),R())}},Q=_=>{var L;w(_),N({name:_.name,description:_.description||"",price:_.price.toString(),stock_quantity:((L=_.stock_quantity)==null?void 0:L.toString())||"0",unit:_.unit||"piece",category_id:_.category_id||"",image_url:_.image_url||""})},z=async(_,L)=>{T({open:!0,type:"product",id:_,name:L})},de=async(_,L,X)=>{const re=Math.max(0,L+X),{error:ye}=await A.from("products").update({stock_quantity:re}).eq("id",_);ye?U.error("Failed to update stock"):(U.success("Stock updated successfully"),R())},ve=async(_,L,X)=>{const{error:re}=await A.from("delivery_applications").update({status:X}).eq("id",_);if(re){U.error("Failed to update application");return}if(X==="approved"){const{error:ye}=await A.from("user_roles").upsert({user_id:L,role:"delivery"},{onConflict:"user_id,role"});if(ye){U.error("Failed to assign delivery role");return}}U.success(`Application ${X} successfully`),he(),ke(),oe()},fe=async()=>{if(!S.userId){U.error("Please enter a user ID");return}const{error:_}=await A.from("user_roles").insert({user_id:S.userId,role:S.newRole});_?_.code==="23505"?U.error("User already has this role"):U.error("Failed to add role: "+_.message):(U.success("Role added successfully"),E({userId:"",newRole:"user"}),oe(),ke())},ie=async(_,L)=>{T({open:!0,type:"role",id:_,name:L})},D=async()=>{if(k.type==="product"){const{error:_}=await A.from("products").update({is_active:!1,stock_quantity:0}).eq("id",k.id);_?(console.error("Product delete error",_),U.error("Failed to delete product: "+_.message)):(U.success("Product deleted successfully"),R())}else if(k.type==="role"){const{error:_}=await A.from("user_roles").delete().eq("id",k.id);_?U.error("Failed to delete role: "+_.message):(U.success("Role removed successfully"),oe(),ke())}T({open:!1,type:null,id:"",name:""})},ee=()=>{w(null),N({name:"",description:"",price:"",stock_quantity:"",unit:"piece",category_id:"",image_url:""})},F=async()=>{sessionStorage.removeItem("superadmin_access"),await r(),n("/auth")};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b border-border bg-card/80 backdrop-blur-md sticky top-0 z-50 supports-[backdrop-filter]:bg-background/60",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Super Admin Dashboard"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Full system control & management"}),a.jsx("p",{className:"text-xs text-muted-foreground md:hidden mt-1",children:E0[O]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs(q,{onClick:()=>n("/admin/stock"),variant:"outline",size:"sm",className:"gap-2 flex-1 md:flex-none",children:[a.jsx(Am,{className:"h-4 w-4"}),"Manage Stock"]}),a.jsxs("div",{className:"flex items-center gap-2 flex-1 md:flex-none min-w-[140px]",children:[a.jsx(Rw,{className:"h-4 w-4 text-muted-foreground hidden md:block"}),a.jsxs(rs,{value:O,onValueChange:_=>I(_),children:[a.jsx(cn,{className:"w-full md:w-[160px]",children:a.jsx(ns,{placeholder:"Select period"})}),a.jsxs(dn,{children:[a.jsx(Ke,{value:"today",children:"Today"}),a.jsx(Ke,{value:"7days",children:"Last 7 Days"}),a.jsx(Ke,{value:"1month",children:"Last 1 Month"}),a.jsx(Ke,{value:"6months",children:"Last 6 Months"}),a.jsx(Ke,{value:"1year",children:"Last 1 Year"})]})]})]}),a.jsx(q,{onClick:F,variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive",children:a.jsx(Ri,{className:"h-5 w-5"})})]})]})})}),a.jsxs("main",{className:"container mx-auto px-4 py-6 pb-24",children:[a.jsx("div",{className:"hidden md:flex items-center justify-between mb-4",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:[" Showing data for: ",a.jsx("span",{className:"font-medium text-foreground",children:E0[O]})]})}),a.jsx(ne,{className:`mb-6 ${$.isLocked?"border-red-400 bg-red-50/50 dark:bg-red-950/20":$.paymentStatus==="paid"?"border-green-400 bg-green-50/50 dark:bg-green-950/20":"border-border"}`,children:a.jsx(se,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${$.isLocked?"bg-red-500":"bg-green-500"}`,children:a.jsx(Xh,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-foreground",children:"Admin Access Control"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:$.isLocked?$.paymentStatus==="paid"?" Payment marked as PAID - Confirm to unlock":" Admin locked - Waiting for payment":" Admin access is active"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[$.paymentStatus==="paid"&&$.isLocked&&a.jsx(q,{onClick:C,className:"bg-green-600 hover:bg-green-700 text-white",children:" Payment Received - Unlock"}),$.isLocked?$.paymentStatus!=="paid"&&a.jsx(q,{onClick:()=>H(!1),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50",children:" Unlock Without Payment"}):a.jsx(q,{onClick:()=>H(!0),variant:"destructive",className:"bg-red-600 hover:bg-red-700",children:" Lock Admin Access"})]})]})})}),a.jsxs("div",{className:"flex overflow-x-auto pb-6 -mx-4 px-4 gap-4 snap-x snap-mandatory md:grid md:grid-cols-3 lg:grid-cols-6 md:overflow-visible md:pb-0 md:mx-0 md:px-0 mb-6 scrollbar-hide",children:[a.jsxs(ne,{className:"min-w-[260px] snap-center bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/40 dark:to-green-900/20 border-green-200 dark:border-green-800",children:[a.jsx(be,{className:"pb-2 px-3 pt-3",children:a.jsx(Ee,{className:"text-xs font-medium text-green-700 dark:text-green-400",children:" Total Sales"})}),a.jsxs(se,{className:"px-3 pb-3",children:[a.jsxs("p",{className:"text-xl font-bold text-green-800 dark:text-green-300",children:["",v.revenue.toFixed(0)]}),a.jsx("p",{className:"text-[10px] text-green-600 dark:text-green-500 mt-1",children:"From delivered orders"})]})]}),a.jsxs(ne,{className:"min-w-[260px] snap-center bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-950/40 dark:to-emerald-900/20 border-emerald-200 dark:border-emerald-800",children:[a.jsx(be,{className:"pb-2 px-3 pt-3",children:a.jsx(Ee,{className:"text-xs font-medium text-emerald-700 dark:text-emerald-400",children:" Your Profit"})}),a.jsxs(se,{className:"px-3 pb-3",children:[a.jsxs("p",{className:"text-xl font-bold text-emerald-800 dark:text-emerald-300",children:["",v.profit.toFixed(0)]}),a.jsx("p",{className:"text-[10px] text-emerald-600 dark:text-emerald-500 mt-1",children:"After 9/order commission"})]})]}),a.jsxs(ne,{className:"min-w-[260px] snap-center bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-950/40 dark:to-amber-900/20 border-amber-200 dark:border-amber-800",children:[a.jsx(be,{className:"pb-2 px-3 pt-3",children:a.jsx(Ee,{className:"text-xs font-medium text-amber-700 dark:text-amber-400",children:" Pending Pay"})}),a.jsxs(se,{className:"px-3 pb-3",children:[a.jsxs("p",{className:"text-xl font-bold text-amber-800 dark:text-amber-300",children:["",(v.commissionDeveloper+v.commissionDelivery).toFixed(0)]}),a.jsx("p",{className:"text-[10px] text-amber-600 dark:text-amber-500 mt-1",children:"Dev + Delivery fees"})]})]}),a.jsxs(ne,{className:"min-w-[260px] snap-center bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/40 dark:to-blue-900/20 border-blue-200 dark:border-blue-800",children:[a.jsx(be,{className:"pb-2 px-3 pt-3",children:a.jsx(Ee,{className:"text-xs font-medium text-blue-700 dark:text-blue-400",children:" All Orders"})}),a.jsxs(se,{className:"px-3 pb-3",children:[a.jsx("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-300",children:v.totalOrders}),a.jsx("p",{className:"text-[10px] text-blue-600 dark:text-blue-500 mt-1",children:"Total received"})]})]}),a.jsxs(ne,{className:`min-w-[260px] snap-center bg-gradient-to-br ${v.pendingOrders>0?"from-orange-50 to-orange-100 dark:from-orange-950/40 dark:to-orange-900/20 border-orange-300 dark:border-orange-700":"from-gray-50 to-gray-100 dark:from-gray-950/40 dark:to-gray-900/20 border-gray-200 dark:border-gray-800"}`,children:[a.jsx(be,{className:"pb-2 px-3 pt-3",children:a.jsx(Ee,{className:`text-xs font-medium ${v.pendingOrders>0?"text-orange-700 dark:text-orange-400":"text-gray-600 dark:text-gray-400"}`,children:" In Progress"})}),a.jsxs(se,{className:"px-3 pb-3",children:[a.jsx("p",{className:`text-xl font-bold ${v.pendingOrders>0?"text-orange-800 dark:text-orange-300":"text-gray-700 dark:text-gray-300"}`,children:v.pendingOrders}),a.jsx("p",{className:`text-[10px] mt-1 ${v.pendingOrders>0?"text-orange-600 dark:text-orange-500":"text-gray-500"}`,children:"Being delivered"})]})]}),a.jsxs(ne,{className:"min-w-[260px] snap-center bg-gradient-to-br from-primary/10 to-primary/20 border-primary/30",children:[a.jsx(be,{className:"pb-2 px-3 pt-3",children:a.jsx(Ee,{className:"text-xs font-medium text-primary",children:" Delivered"})}),a.jsxs(se,{className:"px-3 pb-3",children:[a.jsx("p",{className:"text-xl font-bold text-primary",children:v.deliveredOrders}),a.jsx("p",{className:"text-[10px] text-primary/70 mt-1",children:"Completed"})]})]})]}),a.jsxs(sl,{defaultValue:"products",className:"space-y-4",children:[a.jsx("div",{className:"overflow-x-auto pb-2 -mx-4 px-4 md:mx-0 md:px-0 md:pb-0 scrollbar-hide",children:a.jsxs(Oo,{className:"w-auto inline-flex md:grid md:w-full md:grid-cols-5 h-auto p-1",children:[a.jsx(ft,{value:"products",className:"px-4 py-2",children:"Products"}),a.jsx(ft,{value:"orders",className:"px-4 py-2",children:"Orders"}),a.jsxs(ft,{value:"applications",className:"px-4 py-2",children:["Delivery Apps",v.pendingApplications>0&&a.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-destructive text-destructive-foreground rounded-full",children:v.pendingApplications})]}),a.jsx(ft,{value:"users",className:"px-4 py-2",children:"User Management"}),a.jsx(ft,{value:"malicious",className:"px-4 py-2",children:"Malicious Activity"})]})}),a.jsxs(mt,{value:"products",className:"space-y-4",children:[a.jsxs(ne,{children:[a.jsx(be,{children:a.jsx(Ee,{children:x?"Edit Product":"Add New Product"})}),a.jsxs(se,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(xe,{htmlFor:"name",children:"Product Name *"}),a.jsx(Pe,{id:"name",value:j.name,onChange:_=>N({...j,name:_.target.value}),placeholder:"Enter product name"})]}),a.jsxs("div",{children:[a.jsx(xe,{htmlFor:"category",children:"Category *"}),a.jsxs(rs,{value:j.category_id,onValueChange:_=>N({...j,category_id:_}),children:[a.jsx(cn,{children:a.jsx(ns,{placeholder:"Select category"})}),a.jsx(dn,{children:i.map(_=>a.jsx(Ke,{value:_.id,children:_.name},_.id))})]})]}),a.jsxs("div",{children:[a.jsx(xe,{htmlFor:"price",children:"Price () *"}),a.jsx(Pe,{id:"price",type:"number",value:j.price,onChange:_=>N({...j,price:_.target.value}),placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx(xe,{htmlFor:"stock",children:"Stock Quantity"}),a.jsx(Pe,{id:"stock",type:"number",value:j.stock_quantity,onChange:_=>N({...j,stock_quantity:_.target.value}),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx(xe,{htmlFor:"unit",children:"Unit"}),a.jsx(Pe,{id:"unit",value:j.unit,onChange:_=>N({...j,unit:_.target.value}),placeholder:"piece, kg, ltr"})]}),a.jsxs("div",{children:[a.jsx(xe,{htmlFor:"image",children:"Image URL"}),a.jsx(Pe,{id:"image",value:j.image_url,onChange:_=>N({...j,image_url:_.target.value}),placeholder:"https://..."})]})]}),a.jsxs("div",{children:[a.jsx(xe,{htmlFor:"description",children:"Description"}),a.jsx(wn,{id:"description",value:j.description,onChange:_=>N({...j,description:_.target.value}),placeholder:"Product description",rows:3})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(q,{onClick:Re,children:x?"Update Product":"Add Product"}),x&&a.jsx(q,{onClick:ee,variant:"outline",children:"Cancel"})]})]})]}),a.jsxs(ne,{children:[a.jsx(be,{children:a.jsxs(Ee,{children:["All Products (",s.length,")"]})}),a.jsx(se,{children:a.jsx("div",{className:"space-y-3",children:s.map(_=>a.jsxs("div",{className:"flex items-center gap-4 p-4 border border-border rounded-lg hover:border-primary/50 transition-colors",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-foreground mb-1",children:_.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["",_.price,"  ",_.unit]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Stock"}),a.jsxs("div",{className:"flex items-center gap-2 bg-muted rounded-md px-2 py-1",children:[a.jsx(q,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>de(_.id,_.stock_quantity,-1),children:a.jsx(Xi,{className:"h-3 w-3"})}),a.jsx("span",{className:"font-semibold min-w-[2rem] text-center",children:_.stock_quantity}),a.jsx(q,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>de(_.id,_.stock_quantity,1),children:a.jsx(Kr,{className:"h-3 w-3"})})]})]}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>Q(_),children:a.jsx(Lm,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>z(_.id,_.name),children:a.jsx(fo,{className:"h-4 w-4"})})]})]},_.id))})})]})]}),a.jsx(mt,{value:"orders",className:"space-y-4",children:a.jsxs(ne,{children:[a.jsx(be,{children:a.jsx(Ee,{children:"Recent Orders"})}),a.jsx(se,{children:a.jsx("div",{className:"space-y-2",children:c.map(_=>a.jsxs("div",{className:"p-4 border border-border rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-foreground",children:["Order #",_.id.slice(0,8)]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["User: ",_.user_id.slice(0,8)]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${_.status==="delivered"?"bg-primary/10 text-primary":_.status==="cancelled"||_.status==="rejected"?"bg-destructive/10 text-destructive":"bg-accent/10 text-accent"}`,children:_.status})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:_.delivery_address}),a.jsxs("p",{className:"text-lg font-bold text-foreground",children:["",Number(_.total_amount).toFixed(2)]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(_.created_at).toLocaleString()})]},_.id))})})]})}),a.jsx(mt,{value:"applications",className:"space-y-4",children:a.jsxs(ne,{children:[a.jsx(be,{children:a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(oa,{className:"h-5 w-5 text-primary"}),"Delivery Partner Applications"]})}),a.jsx(se,{children:a.jsx("div",{className:"space-y-3",children:b.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No applications yet"}):b.map(_=>a.jsxs("div",{className:`p-4 border rounded-lg ${_.status==="pending"?"border-accent bg-accent/5":_.status==="approved"?"border-primary/20 bg-primary/5":"border-destructive/20 bg-destructive/5"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-foreground",children:_.full_name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Phone: ",_.phone]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Vehicle: ",_.vehicle_type]}),_.license_number&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["License: ",_.license_number]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${_.status==="pending"?"bg-accent text-accent-foreground":_.status==="approved"?"bg-primary text-primary-foreground":"bg-destructive text-destructive-foreground"}`,children:_.status})]}),a.jsxs("div",{className:"text-xs text-muted-foreground mb-3",children:["Applied: ",new Date(_.created_at).toLocaleDateString()]}),a.jsxs("div",{className:"text-xs text-muted-foreground mb-3",children:["User ID: ",_.user_id]}),_.status==="pending"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx(q,{size:"sm",onClick:()=>ve(_.id,_.user_id,"approved"),children:"Approve"}),a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>ve(_.id,_.user_id,"rejected"),children:"Reject"})]})]},_.id))})})]})}),a.jsxs(mt,{value:"users",className:"space-y-4",children:[a.jsxs(ne,{children:[a.jsx(be,{children:a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(Xh,{className:"h-5 w-5"}),"User Role Management"]})}),a.jsxs(se,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(xe,{htmlFor:"userId",children:"User ID"}),a.jsx(Pe,{id:"userId",value:S.userId,onChange:_=>E({...S,userId:_.target.value}),placeholder:"Enter user ID"})]}),a.jsxs("div",{children:[a.jsx(xe,{htmlFor:"newRole",children:"New Role"}),a.jsxs(rs,{value:S.newRole,onValueChange:_=>E({...S,newRole:_}),children:[a.jsx(cn,{children:a.jsx(ns,{})}),a.jsxs(dn,{children:[a.jsx(Ke,{value:"user",children:"User"}),a.jsx(Ke,{value:"admin",children:"Admin"}),a.jsx(Ke,{value:"delivery",children:"Delivery"}),a.jsx(Ke,{value:"super_admin",children:"Super Admin"})]})]})]})]}),a.jsx(q,{onClick:fe,children:"Add Role"})]})]}),a.jsxs(ne,{children:[a.jsx(be,{children:a.jsx(Ee,{children:"All Users"})}),a.jsx(se,{children:a.jsx("div",{className:"space-y-2",children:p.map(_=>a.jsx("div",{className:"p-4 border border-border rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-foreground",children:["User #",_.user_id.slice(0,8)]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["ID: ",_.user_id]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${_.role==="super_admin"?"bg-destructive/10 text-destructive":_.role==="admin"?"bg-accent/10 text-accent":_.role==="delivery"?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:_.role}),a.jsx(q,{variant:"ghost",size:"icon",onClick:()=>ie(_.id,_.user_id),children:a.jsx(fo,{className:"h-4 w-4 text-destructive"})})]})]})},_.id))})})]})]}),a.jsx(mt,{value:"malicious",className:"space-y-4",children:a.jsxs(ne,{children:[a.jsx(be,{children:a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(Gs,{className:"h-5 w-5 text-destructive"}),"Malicious Activities"]})}),a.jsx(se,{children:a.jsx("div",{className:"space-y-2",children:u.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No malicious activities detected"}):u.map(_=>a.jsxs("div",{className:"p-4 border border-destructive/20 bg-destructive/5 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"font-semibold text-foreground",children:_.activity_type}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(_.detected_at||"").toLocaleString()})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:_.description}),a.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[_.user_id&&a.jsxs("span",{children:["User ID: ",_.user_id.slice(0,8),"..."]}),_.delivery_person_id&&a.jsxs("span",{children:["Delivery: ",_.delivery_person_id.slice(0,8),"..."]}),_.order_id&&a.jsxs("span",{children:["Order ID: ",_.order_id.slice(0,8),"..."]})]})]},_.id))})})]})})]})]}),a.jsx(KM,{open:k.open,onOpenChange:_=>!_&&T({open:!1,type:null,id:"",name:""}),children:a.jsxs(cS,{children:[a.jsxs(dS,{children:[a.jsx(hS,{children:"Are you sure?"}),a.jsx(fS,{children:k.type==="product"?`This will permanently delete the product "${k.name}". This action cannot be undone.`:`This will remove the role for user "${k.name.slice(0,8)}...". This action cannot be undone.`})]}),a.jsxs(uS,{children:[a.jsx(pS,{children:"Cancel"}),a.jsx(mS,{onClick:D,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}function QM(){const{user:e}=et(),t=Je(),[r,n]=h.useState(!1),[s,o]=h.useState({fullName:"",phone:"",vehicleType:"",licenseNumber:""}),i=async l=>{if(l.preventDefault(),!e){U.error("You must be signed in to apply"),t("/auth");return}if(!s.fullName||!s.phone||!s.vehicleType){U.error("Please fill in all required fields");return}n(!0);const{error:c}=await A.from("delivery_applications").insert({user_id:e.id,full_name:s.fullName,phone:s.phone,vehicle_type:s.vehicleType,license_number:s.licenseNumber||null,status:"pending"});n(!1),c?(console.error("Application error:",c),U.error("Failed to submit application. Please try again.")):(U.success("Application submitted successfully! We will review it soon."),t("/shop"))};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-background",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-background/40 backdrop-blur-xl supports-[backdrop-filter]:bg-background/20 border-b border-border/40",children:a.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-2",children:[a.jsx(q,{variant:"ghost",size:"icon",onClick:()=>t("/shop"),children:a.jsx(No,{className:"h-5 w-5"})}),a.jsx("img",{src:"/dist/logo.svg",alt:"PremaShop",className:"h-8 w-auto"}),a.jsx("h1",{className:"text-xl font-bold",children:"PremaShop"})]})}),a.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:a.jsxs(ne,{children:[a.jsxs(be,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(oa,{className:"h-8 w-8 text-primary"})}),a.jsx(Ee,{className:"text-2xl",children:"Join as Delivery Partner"}),a.jsx(ln,{children:"Apply to become a delivery partner and earn with us"})]}),a.jsx(se,{children:a.jsxs("form",{onSubmit:i,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{htmlFor:"fullName",children:"Full Name *"}),a.jsx(Pe,{id:"fullName",placeholder:"Enter your full name",value:s.fullName,onChange:l=>o({...s,fullName:l.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{htmlFor:"phone",children:"Phone Number *"}),a.jsx(Pe,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:s.phone,onChange:l=>o({...s,phone:l.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{htmlFor:"vehicleType",children:"Vehicle Type *"}),a.jsxs(rs,{value:s.vehicleType,onValueChange:l=>o({...s,vehicleType:l}),children:[a.jsx(cn,{children:a.jsx(ns,{placeholder:"Select vehicle type"})}),a.jsxs(dn,{children:[a.jsx(Ke,{value:"bike",children:"Bike"}),a.jsx(Ke,{value:"scooter",children:"Scooter"}),a.jsx(Ke,{value:"car",children:"Car"}),a.jsx(Ke,{value:"van",children:"Van"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{htmlFor:"licenseNumber",children:"License Number (Optional)"}),a.jsx(Pe,{id:"licenseNumber",placeholder:"Enter your license number",value:s.licenseNumber,onChange:l=>o({...s,licenseNumber:l.target.value})})]}),a.jsx(q,{type:"submit",className:"w-full",disabled:r,children:r?"Submitting...":"Submit Application"})]})})]})})]})}function JM(){const{user:e,loading:t}=et(),r=Je(),[n,s]=h.useState(""),[o,i]=h.useState(""),[l,c]=h.useState(!0),[d,u]=h.useState(!1);h.useEffect(()=>{if(t)return;if(!e){r("/auth");return}(async()=>{const{data:g,error:v}=await A.from("profiles").select("phone").eq("id",e.id).single();if(!v&&(g!=null&&g.phone)&&g.phone.replace(/\D/g,"").length>=10){r("/shop");return}c(!1)})()},[e,t,r]);const m=b=>{const g=b.replace(/\D/g,"");return g.length!==10?(i(`Please enter exactly 10 digits (${10-g.length} more needed)`),!1):(i(""),!0)},p=b=>{const g=b.target.value.replace(/\D/g,"").slice(0,10);if(s(g),g.length===10)i("");else if(g.length>0){const v=10-g.length;i(`${v} more digit${v!==1?"s":""} needed`)}else i("")},f=async b=>{if(b.preventDefault(),!e||!m(n))return;const g=`+91${n}`;u(!0);const{error:v}=await A.from("profiles").update({phone:g}).eq("id",e.id);u(!1),v?U.error("Failed to save phone number"):(U.success("Phone number saved successfully!"),r("/shop"))};return l?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-accent/5 p-4",children:a.jsxs(ne,{className:"w-full max-w-md shadow-xl",children:[a.jsxs(be,{className:"text-center",children:[a.jsx(V,{className:"h-12 w-12 rounded-2xl mx-auto mb-2"}),a.jsx(V,{className:"h-6 w-48 mx-auto"})]}),a.jsxs(se,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(V,{className:"h-4 w-24"}),a.jsx(V,{className:"h-10 w-full"})]}),a.jsx(V,{className:"h-10 w-full"})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-accent/5 p-4",children:a.jsxs(ne,{className:"w-full max-w-md shadow-xl",children:[a.jsxs(be,{className:"space-y-1 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"p-3 bg-primary rounded-2xl",children:a.jsx(Fe,{className:"h-8 w-8 text-primary-foreground"})})}),a.jsx(Ee,{className:"text-2xl font-bold",children:"Almost there!"}),a.jsx(ln,{children:"Please add your phone number to complete your account setup"})]}),a.jsx(se,{children:a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(xe,{htmlFor:"phone",className:"flex items-center gap-2",children:[a.jsx(Aw,{className:"h-4 w-4 text-muted-foreground"}),"Mobile Number *"]}),a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex items-center justify-center px-3 bg-muted border border-r-0 rounded-l-md text-sm font-medium text-muted-foreground",children:"+91"}),a.jsx(Pe,{id:"phone",type:"tel",inputMode:"numeric",placeholder:"9876543210",value:n,onChange:p,className:`rounded-l-none ${o?"border-destructive focus-visible:ring-destructive":""}`,maxLength:10,required:!0})]}),o&&a.jsx("p",{className:"text-sm text-destructive",children:o}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll use this number for order updates and delivery coordination"})]}),a.jsxs(q,{type:"submit",className:"w-full",disabled:d||n.length!==10,children:[d&&a.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}),"Continue to Shop"]})]})})]})})}const P0=[{value:"piece",label:"Piece"},{value:"pieces",label:"Pieces"},{value:"kg",label:"Kilogram (kg)"},{value:"g",label:"Gram (g)"},{value:"ltr",label:"Litre (ltr)"},{value:"ml",label:"Millilitre (ml)"},{value:"pack",label:"Pack"},{value:"box",label:"Box"},{value:"dozen",label:"Dozen"},{value:"pair",label:"Pair"},{value:"unit",label:"Unit"},{value:"serving",label:"Serving"}];function XM(){const{user:e,userRole:t,loading:r}=et(),n=Je(),[s]=Bb(),o=s.get("id"),i=!!o,[l,c]=h.useState([]),[d,u]=h.useState(!1),[m,p]=h.useState(!1),[f,b]=h.useState({name:"",description:"",price:"",mrp:"",stock_quantity:"",unit:"piece",category_id:"",image_url:""}),[g,v]=h.useState([]);h.useEffect(()=>{if(!r){if(!e){n("/auth");return}if(t!==null){if(t!=="admin"&&t!=="super_admin"){n("/shop");return}y(),i&&o&&x(o)}}},[e,t,r,n,i,o]);const y=async()=>{const{data:k}=await A.from("categories").select("id, name").order("name");k&&c(k)},x=async k=>{var $,B,M;p(!0);const{data:T,error:O}=await A.from("products").select("*").eq("id",k).single();if(O||!T){U.error("Failed to load product"),n("/admin");return}b({name:T.name||"",description:T.description||"",price:(($=T.price)==null?void 0:$.toString())||"",mrp:((B=T.mrp)==null?void 0:B.toString())||"",stock_quantity:((M=T.stock_quantity)==null?void 0:M.toString())||"",unit:T.unit||"piece",category_id:T.category_id||"",image_url:T.image_url||""});const{data:I}=await A.from("product_variants").select("*").eq("product_id",k).order("display_order");I&&I.length>0&&v(I.map(G=>{var P,H,C;return{id:G.id,variant_name:G.variant_name,variant_value:((P=G.variant_value)==null?void 0:P.toString())||"",variant_unit:G.variant_unit,price:((H=G.price)==null?void 0:H.toString())||"",mrp:((C=G.mrp)==null?void 0:C.toString())||"",is_default:G.is_default||!1}})),p(!1)},w=async()=>{if(!f.name||!f.price||!f.category_id){U.error("Please fill all required fields");return}u(!0);const k={name:f.name,description:f.description||null,price:parseFloat(f.price),mrp:f.mrp?parseFloat(f.mrp):null,stock_quantity:parseInt(f.stock_quantity)||0,unit:f.unit,category_id:f.category_id,image_url:f.image_url||null,is_active:!0};let T=o;if(i&&o){const{error:O}=await A.from("products").update(k).eq("id",o);if(O){U.error("Failed to update product"),u(!1);return}}else{const{data:O,error:I}=await A.from("products").insert(k).select("id").single();if(I||!O){U.error("Failed to create product"),u(!1);return}T=O.id}if(T&&g.length>0){await A.from("product_variants").delete().eq("product_id",T);const O=g.map(($,B)=>({product_id:T,variant_name:$.variant_name,variant_value:parseFloat($.variant_value)||1,variant_unit:$.variant_unit,price:parseFloat($.price)||0,mrp:$.mrp?parseFloat($.mrp):null,is_default:$.is_default,display_order:B})),{error:I}=await A.from("product_variants").insert(O);I&&(console.error("Variant error:",I),U.error("Product saved but some variants failed"))}U.success(i?"Product updated successfully!":"Product created successfully!"),n("/admin"),u(!1)},j=()=>{v([...g,{variant_name:"",variant_value:"1",variant_unit:"kg",price:"",mrp:"",is_default:g.length===0}])},N=(k,T,O)=>{const I=[...g];I[k]={...I[k],[T]:O},T==="is_default"&&O===!0&&I.forEach(($,B)=>{B!==k&&($.is_default=!1)}),v(I)},S=k=>{const T=g.filter((O,I)=>I!==k);T.length>0&&!T.some(O=>O.is_default)&&(T[0].is_default=!0),v(T)},E=f.mrp&&f.price?Math.round((parseFloat(f.mrp)-parseFloat(f.price))/parseFloat(f.mrp)*100):0;return r||t===null||m?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 pb-24",children:[a.jsx("header",{className:"sticky top-0 z-40 border-b border-border/40 bg-background/40 backdrop-blur-xl supports-[backdrop-filter]:bg-background/20 shadow-[0_10px_40px_rgba(15,23,42,0.35)]",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(V,{className:"h-9 w-9 rounded-md"}),a.jsx(V,{className:"h-10 w-10 rounded-xl"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(V,{className:"h-6 w-32"}),a.jsx(V,{className:"h-3 w-24"})]})]})})}),a.jsx("main",{className:"container mx-auto px-4 py-6 max-w-2xl",children:a.jsxs(ne,{children:[a.jsx(be,{children:a.jsx(V,{className:"h-6 w-40"})}),a.jsxs(se,{className:"space-y-5",children:[[1,2,3,4,5,6].map(k=>a.jsxs("div",{className:"space-y-2",children:[a.jsx(V,{className:"h-4 w-24"}),a.jsx(V,{className:"h-12 w-full"})]},k)),a.jsx(V,{className:"h-12 w-full"})]})]})}),a.jsx(xn,{})]}):t!=="admin"&&t!=="super_admin"?null:a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 pb-24",children:[a.jsx("header",{className:"sticky top-0 z-40 border-b border-border/40 bg-background/40 backdrop-blur-xl supports-[backdrop-filter]:bg-background/20 shadow-[0_10px_40px_rgba(15,23,42,0.35)]",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(q,{variant:"ghost",size:"icon",onClick:()=>n("/admin"),children:a.jsx(No,{className:"h-5 w-5"})}),a.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shadow-lg ${i?"bg-gradient-to-br from-blue-500 to-blue-600":"bg-gradient-to-br from-green-500 to-emerald-600"}`,children:i?a.jsx(Lm,{className:"h-5 w-5 text-white"}):a.jsx(Kr,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold tracking-tight",children:i?"Edit Product":"Add Product"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:i?"Update product details":"Create new product"})]})]})})})}),a.jsxs("main",{className:"container mx-auto px-4 py-6 max-w-2xl space-y-6",children:[a.jsxs(ne,{className:"border-primary/20 shadow-xl bg-card/80 backdrop-blur-sm",children:[a.jsx(be,{className:"pb-4",children:a.jsxs(Ee,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Fe,{className:"h-5 w-5 text-primary"}),"Product Details"]})}),a.jsxs(se,{className:"space-y-5",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(xe,{htmlFor:"name",className:"text-sm font-medium",children:["Product Name ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsx(Pe,{id:"name",value:f.name,onChange:k=>b({...f,name:k.target.value}),placeholder:"Enter product name",className:"h-12"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(xe,{htmlFor:"category",className:"text-sm font-medium",children:["Category ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsxs(rs,{value:f.category_id,onValueChange:k=>b({...f,category_id:k}),children:[a.jsx(cn,{className:"h-12",children:a.jsx(ns,{placeholder:"Select category"})}),a.jsx(dn,{children:l.map(k=>a.jsx(Ke,{value:k.id,children:k.name},k.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(xe,{htmlFor:"mrp",className:"text-sm font-medium",children:["MRP () ",a.jsx("span",{className:"text-muted-foreground text-xs",children:"(Original Price)"})]}),a.jsx(Pe,{id:"mrp",type:"number",value:f.mrp,onChange:k=>b({...f,mrp:k.target.value}),placeholder:"0",className:"h-12"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(xe,{htmlFor:"price",className:"text-sm font-medium",children:["Selling Price () ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsx(Pe,{id:"price",type:"number",value:f.price,onChange:k=>b({...f,price:k.target.value}),placeholder:"0",className:"h-12"})]})]}),E>0&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-950/30 rounded-lg border border-green-200 dark:border-green-800",children:[a.jsxs("span",{className:"text-green-700 dark:text-green-400 font-semibold",children:[" ",E,"% OFF"]}),a.jsx("span",{className:"text-sm text-green-600 dark:text-green-500",children:"Auto-calculated from MRP & Selling Price"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{htmlFor:"stock",className:"text-sm font-medium",children:"Stock Qty"}),a.jsx(Pe,{id:"stock",type:"number",value:f.stock_quantity,onChange:k=>b({...f,stock_quantity:k.target.value}),placeholder:"0",className:"h-12"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{htmlFor:"unit",className:"text-sm font-medium",children:"Unit"}),a.jsxs(rs,{value:f.unit,onValueChange:k=>b({...f,unit:k}),children:[a.jsx(cn,{className:"h-12",children:a.jsx(ns,{})}),a.jsx(dn,{children:P0.map(k=>a.jsx(Ke,{value:k.value,children:k.label},k.value))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(xe,{htmlFor:"image",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(ZC,{className:"h-4 w-4"}),"Image URL"]}),a.jsx(Pe,{id:"image",value:f.image_url,onChange:k=>b({...f,image_url:k.target.value}),placeholder:"https://example.com/image.jpg",className:"h-12"}),f.image_url&&a.jsx("div",{className:"mt-2 rounded-xl overflow-hidden border border-border/50 bg-muted/50",children:a.jsx("img",{src:f.image_url,alt:"Preview",className:"w-full h-40 object-cover",onError:k=>{k.currentTarget.style.display="none"}})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),a.jsx(wn,{id:"description",value:f.description,onChange:k=>b({...f,description:k.target.value}),placeholder:"Product description...",rows:3,className:"resize-none"})]})]})]}),a.jsxs(ne,{className:"border-blue-200 dark:border-blue-800 shadow-xl bg-card/80 backdrop-blur-sm",children:[a.jsxs(be,{className:"pb-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ee,{className:"flex items-center gap-2 text-lg",children:[" Product Variants",a.jsx("span",{className:"text-xs font-normal text-muted-foreground",children:"(Optional)"})]}),a.jsxs(q,{variant:"outline",size:"sm",onClick:j,children:[a.jsx(Kr,{className:"h-4 w-4 mr-1"}),"Add Variant"]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Add different sizes/quantities like 500g, 1kg, 1 dozen, 6 pieces..."})]}),a.jsx(se,{className:"space-y-4",children:g.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx("p",{children:"No variants added. Product will use the base price above."}),a.jsx(q,{variant:"link",onClick:j,className:"mt-2",children:"+ Add your first variant"})]}):g.map((k,T)=>a.jsxs("div",{className:"p-4 border border-border/50 rounded-lg bg-muted/30 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:k.is_default,onChange:O=>N(T,"is_default",O.target.checked),className:"h-4 w-4 rounded border-gray-300"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Default"})]}),a.jsx(q,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>S(T),children:a.jsx(fo,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(xe,{className:"text-xs",children:"Display Name"}),a.jsx(Pe,{value:k.variant_name,onChange:O=>N(T,"variant_name",O.target.value),placeholder:"e.g. 500g, 1 kg",className:"h-10"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(xe,{className:"text-xs",children:"Value"}),a.jsx(Pe,{type:"number",value:k.variant_value,onChange:O=>N(T,"variant_value",O.target.value),placeholder:"0.5",className:"h-10"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(xe,{className:"text-xs",children:"Unit"}),a.jsxs(rs,{value:k.variant_unit,onValueChange:O=>N(T,"variant_unit",O),children:[a.jsx(cn,{className:"h-10",children:a.jsx(ns,{})}),a.jsx(dn,{children:P0.map(O=>a.jsx(Ke,{value:O.value,children:O.label},O.value))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(xe,{className:"text-xs",children:"MRP ()"}),a.jsx(Pe,{type:"number",value:k.mrp,onChange:O=>N(T,"mrp",O.target.value),placeholder:"Original price",className:"h-10"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(xe,{className:"text-xs",children:"Selling Price () *"}),a.jsx(Pe,{type:"number",value:k.price,onChange:O=>N(T,"price",O.target.value),placeholder:"Selling price",className:"h-10"})]})]})]},T))})]}),a.jsx(q,{onClick:w,disabled:d,className:"w-full h-14 text-base font-semibold shadow-lg",size:"lg",children:d?a.jsxs(a.Fragment,{children:[a.jsx(Fe,{className:"h-5 w-5 mr-2 animate-spin"}),i?"Updating...":"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Dm,{className:"h-5 w-5 mr-2"}),i?"Update Product":"Create Product"]})})]}),a.jsx(xn,{})]})}function ZM(e){const[t,r]=h.useState([]),[n,s]=h.useState(!0),o=h.useCallback(async()=>{if(!e){s(!1);return}try{const{data:i}=await A.from("products").select("id, category_id").eq("id",e).single();if(!i){s(!1);return}const l=[],c=new Set([e]);try{const{data:d}=await A.from("purchase_pairs").select(`
                        product_a_id,
                        product_b_id,
                        pair_count
                    `).or(`product_a_id.eq.${e},product_b_id.eq.${e}`).order("pair_count",{ascending:!1}).limit(10);if(d&&d.length>0){const u=d.map(m=>m.product_a_id===e?m.product_b_id:m.product_a_id).filter(m=>!c.has(m));if(u.length>0){const{data:m}=await A.from("products").select("*").in("id",u).gt("stock_quantity",0).limit(4);m&&m.forEach(p=>{c.has(p.id)||(l.push(p),c.add(p.id))})}}}catch{}if(l.length<6&&i.category_id){const{data:d}=await A.from("products").select("*").eq("category_id",i.category_id).gt("stock_quantity",0).neq("id",e).order("created_at",{ascending:!1}).limit(4);d&&d.forEach(u=>{!c.has(u.id)&&l.length<8&&(l.push(u),c.add(u.id))})}if(l.length<4){const d=new Date(Date.now()-6048e5).toISOString(),{data:u}=await A.from("order_items").select("product_id").gte("created_at",d);if(u&&u.length>0){const m=u.reduce((f,b)=>(c.has(b.product_id)||(f[b.product_id]=(f[b.product_id]||0)+1),f),{}),p=Object.entries(m).sort((f,b)=>b[1]-f[1]).slice(0,6-l.length).map(([f])=>f);if(p.length>0){const{data:f}=await A.from("products").select("*").in("id",p).gt("stock_quantity",0);f&&f.forEach(b=>{!c.has(b.id)&&l.length<8&&(l.push(b),c.add(b.id))})}}}if(l.length<4){const{data:d}=await A.from("products").select("*").gt("stock_quantity",0).order("created_at",{ascending:!1}).limit(8);d&&d.forEach(u=>{!c.has(u.id)&&l.length<8&&(l.push(u),c.add(u.id))})}r(l)}catch(i){console.error("Frequently bought error:",i)}finally{s(!1)}},[e]);return h.useEffect(()=>{o()},[o]),{products:t,isLoading:n}}function eL(){const{id:e}=dO(),t=Je(),{user:r}=et(),{refreshCart:n}=Td(),[s,o]=h.useState(null),[i,l]=h.useState([]),[c,d]=h.useState([]),[u,m]=h.useState(!0),[p,f]=h.useState(1),[b,g]=h.useState(!1),[v,y]=h.useState(!1),[x,w]=h.useState(""),[j,N]=h.useState("saved"),[S,E]=h.useState(""),[k,T]=h.useState(!1),[O,I]=h.useState(!1),[$,B]=h.useState(""),[M,G]=h.useState([]),[P,H]=h.useState(null),[C,R]=h.useState(!1),[K,te]=h.useState(""),{trackView:Z}=w_(),{products:oe,isLoading:he}=ZM(e);h.useEffect(()=>{e&&(ke(),Re(),z())},[e]),h.useEffect(()=>{r&&de()},[r]);const ke=async()=>{if(!e)return;const{data:F,error:_}=await A.from("products").select("*").eq("id",e).single();!_&&F&&(o(F),Z(F.id),F.category_id&&Q(F.category_id,F.id)),m(!1)},Re=async()=>{if(e)try{const{data:F,error:_}=await A.from("product_reviews").select(`
          id,
          rating,
          review_text,
          created_at,
          user_id,
          profiles:user_id(full_name)
        `).eq("product_id",e).order("created_at",{ascending:!1});F&&!_&&d(F)}catch{console.log("Product reviews table may not exist yet")}},Q=async(F,_)=>{const{data:L}=await A.from("products").select("*").eq("category_id",F).neq("id",_).gt("stock_quantity",0).limit(6);L&&l(L)},z=async()=>{if(e)try{const{data:F,error:_}=await A.from("product_variants").select("*").eq("product_id",e).order("display_order");if(!_&&F&&F.length>0){G(F);const L=F.find(X=>X.is_default)||F[0];H(L)}}catch{console.log("Product variants table may not exist yet")}},de=async()=>{if(!r)return;const{data:F}=await A.from("profiles").select("address").eq("id",r.id).single();F!=null&&F.address&&w(F.address)},ve=async()=>{if(!r||!s){U.error("Please sign in first"),t("/auth");return}if(p>s.stock_quantity){U.error(`Only ${s.stock_quantity} available`);return}g(!0);try{const F=(P==null?void 0:P.id)||null;let _=A.from("cart_items").select("*").eq("user_id",r.id).eq("product_id",s.id);F?_=_.eq("variant_id",F):_=_.is("variant_id",null);const{data:L,error:X}=await _.maybeSingle();if(X){console.error("Cart fetch error:",X),U.error("Failed to check cart. Please try again."),g(!1);return}if(L){const ye=L.quantity+p;if(ye>s.stock_quantity){U.error(`Only ${s.stock_quantity} available (${L.quantity} already in cart)`),g(!1);return}const{error:Ue}=await A.from("cart_items").update({quantity:ye}).eq("id",L.id);if(Ue){console.error("Cart update error:",Ue),U.error("Failed to update cart. Please try again."),g(!1);return}}else{const{error:ye}=await A.from("cart_items").insert({user_id:r.id,product_id:s.id,quantity:p,variant_id:F});if(ye){console.error("Cart insert error:",ye),ye.code==="23505"?U.error("This item is already in your cart. Try refreshing the page."):U.error("Failed to add to cart. Please try again."),g(!1);return}}const re=P?` (${P.variant_name})`:"";U.success(`Added ${p}${re} to cart`),n()}catch(F){console.error("Unexpected cart error:",F),U.error("Something went wrong. Please try again.")}finally{g(!1)}},fe=async()=>{if(!r||!s)return;const F=j==="saved"?x:S.trim();if(!F){U.error("Please provide a delivery address");return}const{data:_}=await A.from("products").select("stock_quantity, name").eq("id",s.id).single();if(!_||p>_.stock_quantity){U.error(`Only ${(_==null?void 0:_.stock_quantity)||0} available`);return}j==="new"&&S.trim()&&(await A.from("profiles").update({address:S.trim()}).eq("id",r.id),w(S.trim()));const L=s.price*p,{data:X,error:re}=await A.from("orders").insert({user_id:r.id,total_amount:L,delivery_address:F,status:"pending"}).select().single();if(re||!X){U.error("Failed to place order");return}await A.from("order_items").insert({order_id:X.id,product_id:s.id,quantity:p,price:s.price});const ye=Math.max(0,_.stock_quantity-p);await A.from("products").update({stock_quantity:ye}).eq("id",s.id),y(!1),E(""),te(X.id),R(!0)};if(u)return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20 pb-24",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur border-b",children:a.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[a.jsx(V,{className:"h-9 w-9 rounded-md"}),a.jsx(V,{className:"h-9 w-9 rounded-md"})]})}),a.jsx("div",{className:"w-full aspect-square bg-muted relative",children:a.jsx(V,{className:"w-full h-full"})}),a.jsxs("div",{className:"container mx-auto px-4 py-4 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(V,{className:"h-8 w-3/4"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx(V,{className:"h-8 w-24"}),a.jsx(V,{className:"h-4 w-12"})]}),a.jsx(V,{className:"h-6 w-16 rounded-full"})]})]}),a.jsx(V,{className:"h-20 w-full"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(V,{className:"h-4 w-8"}),a.jsx(V,{className:"h-10 w-32 rounded-full"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(V,{className:"h-12 flex-1 rounded-md"}),a.jsx(V,{className:"h-12 flex-1 rounded-md"})]}),a.jsx(V,{className:"h-40 w-full rounded-xl"}),a.jsx(V,{className:"h-14 w-full rounded-xl"}),a.jsx(V,{className:"h-40 w-full rounded-xl"})]}),a.jsx(Ir,{})]});if(!s)return a.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center gap-4 p-4",children:[a.jsx(Fe,{className:"h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground",children:"Product not found"}),a.jsx(q,{onClick:()=>t("/shop"),children:"Back to Shop"})]});const ie=s.stock_quantity<=0,D=s.stock_quantity>0&&s.stock_quantity<=5,ee=c.length>0?(c.reduce((F,_)=>F+_.rating,0)/c.length).toFixed(1):null;return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20 pb-24",children:[C&&a.jsx(Ep,{orderId:K,onClose:()=>R(!1)}),a.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur border-b",children:a.jsx("div",{className:"container mx-auto px-4 py-3",children:O?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pe,{placeholder:"Search products...",value:$,onChange:F=>B(F.target.value),className:"flex-1",autoFocus:!0,onKeyDown:F=>{F.key==="Enter"&&$.trim()&&t(`/shop?search=${encodeURIComponent($.trim())}`)}}),a.jsx(q,{variant:"ghost",size:"icon",onClick:()=>{I(!1),B("")},children:a.jsx(Ys,{className:"h-5 w-5"})})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",onClick:()=>y(!0),children:[a.jsx(q,{variant:"ghost",size:"icon",onClick:F=>{F.stopPropagation(),t(-1)},children:a.jsx(No,{className:"h-5 w-5"})}),a.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50 flex-1 min-w-0 cursor-pointer hover:bg-muted transition-colors",children:[a.jsx(Mc,{className:"h-4 w-4 text-primary flex-shrink-0"}),a.jsx("span",{className:"text-sm truncate",children:x?x.slice(0,30)+(x.length>30?"...":""):"Add delivery address"})]})]}),a.jsx(q,{variant:"ghost",size:"icon",onClick:()=>I(!0),children:a.jsx(Mm,{className:"h-5 w-5"})})]})})}),a.jsxs("div",{className:"w-full aspect-square bg-muted relative",children:[s.image_url?a.jsx("img",{src:s.image_url,alt:s.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(Fe,{className:"h-24 w-24 text-muted-foreground"})}),(()=>{const F=(P==null?void 0:P.mrp)??s.mrp,_=(P==null?void 0:P.price)??s.price,L=F&&F>_?Math.round((F-_)/F*100):0;return L>0?a.jsxs("div",{className:"absolute top-4 left-4 z-10 px-3 py-1.5 rounded-lg bg-gradient-to-r from-green-500 to-emerald-600 text-white text-sm font-bold shadow-lg",children:[L,"% OFF"]}):null})(),D&&a.jsxs(rt,{className:"absolute top-4 right-4 bg-red-500 text-white",children:["Only ",s.stock_quantity," left!"]}),ie&&a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:a.jsx(rt,{variant:"destructive",className:"text-lg px-4 py-2",children:"Out of Stock"})})]}),a.jsxs("div",{className:"container mx-auto px-4 py-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:s.name}),M.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Select Size/Quantity:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(F=>{const _=(P==null?void 0:P.id)===F.id,L=F.mrp?Math.round((F.mrp-F.price)/F.mrp*100):0;return a.jsxs("button",{onClick:()=>H(F),className:`relative p-3 rounded-xl border-2 transition-all min-w-[100px] ${_?"border-primary bg-primary/5 shadow-md":"border-border hover:border-primary/50"}`,children:[L>0&&a.jsxs("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full",children:[L,"% OFF"]}),a.jsx("p",{className:"font-semibold text-sm",children:F.variant_name}),a.jsxs("p",{className:"text-primary font-bold",children:["",F.price]}),F.mrp&&F.mrp>F.price&&a.jsxs("p",{className:"text-xs text-muted-foreground line-through",children:["",F.mrp]})]},F.id)})})]}),a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:"flex items-baseline gap-2",children:(()=>{const F=(P==null?void 0:P.price)??s.price,_=(P==null?void 0:P.mrp)??s.mrp,L=(P==null?void 0:P.variant_name)??s.unit,X=_?Math.round((_-F)/_*100):0;return a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"text-3xl font-bold text-primary",children:["",F]}),_&&_>F&&a.jsxs("span",{className:"text-lg text-muted-foreground line-through",children:["",_]}),a.jsxs("span",{className:"text-muted-foreground",children:["/ ",L]}),X>0&&!P&&a.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-sm font-semibold rounded",children:[X,"% OFF"]})]})})()}),(()=>{const F=(P==null?void 0:P.variant_unit)??s.unit,_=(P==null?void 0:P.variant_value)??1,L=(P==null?void 0:P.price)??s.price;if(["kg","g"].includes(F)){const X=F==="kg"?_*1e3:_,re=L/X*100;return a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["",re.toFixed(2)," per 100g"]})}if(["dozen","pack","box"].includes(F)&&_>1){const X=L/_;return a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["",X.toFixed(2)," per piece"]})}return null})()]}),ee&&a.jsxs("div",{className:"flex items-center gap-1 bg-yellow-100 dark:bg-yellow-900/30 px-2 py-1 rounded-full",children:[a.jsx(Jo,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),a.jsx("span",{className:"font-bold text-sm",children:ee}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",c.length,")"]})]})]})]}),s.description&&a.jsx("p",{className:"text-muted-foreground text-sm",children:s.description}),!ie&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Qty:"}),a.jsxs("div",{className:"flex items-center gap-2 bg-muted rounded-full p-1",children:[a.jsx(q,{size:"icon",variant:"ghost",className:"h-8 w-8 rounded-full",onClick:()=>f(Math.max(1,p-1)),children:a.jsx(Xi,{className:"h-4 w-4"})}),a.jsx("span",{className:"w-8 text-center font-semibold",children:p}),a.jsx(q,{size:"icon",variant:"ghost",className:"h-8 w-8 rounded-full",onClick:()=>f(Math.min(s.stock_quantity,p+1)),children:a.jsx(Kr,{className:"h-4 w-4"})})]}),D&&a.jsxs("span",{className:"text-xs text-red-500",children:["Only ",s.stock_quantity," left"]})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs(q,{className:"flex-1 h-12",onClick:ve,disabled:ie||b,children:[a.jsx(ho,{className:"h-4 w-4 mr-2"}),"Add to Cart"]})}),a.jsxs(ne,{children:[a.jsx(be,{className:"py-3 px-4",children:a.jsxs(Ee,{className:"text-base flex items-center gap-2",children:[a.jsx(Dw,{className:"h-4 w-4 text-primary"})," Highlights"]})}),a.jsx(se,{className:"px-4 pb-4 pt-0",children:a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(VC,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground text-xs",children:"Brand"}),a.jsx("p",{className:"font-medium",children:"PremasShop"})]})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Fe,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground text-xs",children:"Type"}),a.jsx("p",{className:"font-medium",children:"Grocery"})]})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(rE,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground text-xs",children:"Diet"}),a.jsx("p",{className:"font-medium",children:"Veg"})]})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(aE,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground text-xs",children:"Unit"}),a.jsx("p",{className:"font-medium",children:s.unit})]})]})]})})]}),a.jsxs(ne,{children:[a.jsx(be,{className:"py-3 px-4 cursor-pointer",onClick:()=>T(!k),children:a.jsxs(Ee,{className:"text-base flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(eE,{className:"h-4 w-4 text-primary"})," Information"]}),k?a.jsx(Ow,{className:"h-4 w-4"}):a.jsx(Im,{className:"h-4 w-4"})]})}),k&&a.jsxs(se,{className:"px-4 pb-4 pt-0 space-y-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground text-xs mb-1",children:"Disclaimer"}),a.jsx("p",{className:"text-xs leading-relaxed",children:"Images are for representational purposes. Check label for details before consuming."})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground text-xs mb-1",children:"Customer Care"}),a.jsx("p",{className:"text-xs",children:"support@premasshop.com"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground text-xs mb-1",children:"Seller"}),a.jsx("p",{className:"text-xs font-medium",children:"PremasShop Local Vendors"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground text-xs mb-1",children:"Country of Origin"}),a.jsx("p",{className:"text-xs",children:"India"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground text-xs mb-1",children:"Shelf Life"}),a.jsx("p",{className:"text-xs",children:"As per product packaging"})]})]})]}),a.jsxs(ne,{children:[a.jsx(be,{className:"py-3 px-4",children:a.jsxs(Ee,{className:"text-base flex items-center gap-2",children:[a.jsx(Jo,{className:"h-4 w-4 text-primary"})," Reviews"]})}),a.jsx(se,{className:"px-4 pb-4 pt-0",children:c.length>0?a.jsx("div",{className:"space-y-4",children:c.map(F=>{var _;return a.jsxs("div",{className:"border-b last:border-0 pb-3 last:pb-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-muted flex items-center justify-center",children:a.jsx(Zi,{className:"h-3 w-3 text-muted-foreground"})}),a.jsx("span",{className:"text-sm font-medium",children:((_=F.profiles)==null?void 0:_.full_name)||"Anonymous"})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(F.created_at).toLocaleDateString()})]}),a.jsx("div",{className:"flex items-center gap-1 mb-1",children:[1,2,3,4,5].map(L=>a.jsx(Jo,{className:`h-3 w-3 ${L<=F.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},L))}),F.review_text&&a.jsx("p",{className:"text-sm text-muted-foreground",children:F.review_text})]},F.id)})}):a.jsxs("div",{className:"flex flex-col items-center py-6 text-center",children:[a.jsx("div",{className:"flex gap-1 mb-2",children:[1,2,3,4,5].map(F=>a.jsx(Jo,{className:"h-5 w-5 text-muted-foreground/30"},F))}),a.jsx("p",{className:"text-muted-foreground text-sm",children:"No reviews yet"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Be the first to review!"})]})})]}),oe.length>0&&a.jsxs("div",{className:"pt-2",children:[a.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(ho,{className:"h-5 w-5 text-primary"}),"Frequently bought together"]}),a.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-4 px-4 scrollbar-hide",children:oe.map(F=>a.jsx(ne,{className:"flex-shrink-0 w-36 overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>t(`/product/${F.id}`),children:a.jsxs(se,{className:"p-0",children:[a.jsxs("div",{className:"aspect-square bg-muted relative",children:[F.image_url?a.jsx("img",{src:F.image_url,alt:F.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(Fe,{className:"h-8 w-8 text-muted-foreground"})}),F.discount_percent&&F.discount_percent>0&&a.jsxs("div",{className:"absolute top-1 left-1 px-1.5 py-0.5 rounded bg-green-500 text-white text-xs font-bold",children:[F.discount_percent,"% OFF"]})]}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:F.name}),F.discount_percent&&F.discount_percent>0?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("p",{className:"text-sm font-bold text-primary",children:["",Math.round(F.price*(100-F.discount_percent)/100)]}),a.jsxs("p",{className:"text-xs text-muted-foreground line-through",children:["",F.price]})]}):a.jsxs("p",{className:"text-sm font-bold text-primary",children:["",F.price]})]})]})},F.id))})]})]}),a.jsx(Bs,{open:v,onOpenChange:y,children:a.jsxs(Zn,{className:"max-w-sm",children:[a.jsx(es,{children:a.jsxs(ts,{className:"flex items-center gap-2",children:[a.jsx(Mc,{className:"h-5 w-5 text-primary"})," Delivery Address"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium",children:s==null?void 0:s.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Qty: ",p,"  ",s==null?void 0:s.price," = ",(p*((s==null?void 0:s.price)||0)).toFixed(0)]})]}),a.jsxs(Bd,{value:j,onValueChange:F=>N(F),children:[x&&a.jsxs("div",{className:"flex items-start gap-2 p-3 border rounded-lg",children:[a.jsx(Zs,{value:"saved",id:"saved",className:"mt-1"}),a.jsxs(xe,{htmlFor:"saved",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"text-sm font-medium",children:"Saved Address"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:x})]})]}),a.jsxs("div",{className:"flex items-start gap-2 p-3 border rounded-lg",children:[a.jsx(Zs,{value:"new",id:"new",className:"mt-1"}),a.jsx(xe,{htmlFor:"new",className:"flex-1 cursor-pointer",children:a.jsx("p",{className:"text-sm font-medium",children:"New Address"})})]})]}),j==="new"&&a.jsx(wn,{placeholder:"Enter full delivery address",value:S,onChange:F=>E(F.target.value),className:"min-h-[80px]"})]}),a.jsx(Xs,{children:a.jsxs(q,{onClick:fe,className:"w-full h-12",children:[a.jsx(ef,{className:"h-4 w-4 mr-2"})," Confirm Order  ",(p*((s==null?void 0:s.price)||0)).toFixed(0)]})})]})}),a.jsx(Ir,{})]})}function tL(){const{user:e,loading:t}=et(),{refreshCart:r}=Td(),n=Je(),[s,o]=h.useState([]),[i,l]=h.useState(!0),[c,d]=h.useState(""),[u,m]=h.useState(!1),[p,f]=h.useState(0),[b,g]=h.useState(!1),[v,y]=h.useState(""),[x,w]=h.useState(!1),[j,N]=h.useState(""),[S,E]=h.useState("saved"),[k,T]=h.useState(""),[O,I]=h.useState(!1),[$,B]=h.useState([]),[M,G]=h.useState(null),[P,H]=h.useState(0);h.useEffect(()=>{if(!t){if(!e){n("/auth");return}C(),R(),K()}},[e,t,n]);const C=async()=>{if(!e)return;const{data:_,error:L}=await A.from("cart_items").select(`
        *,
        products (*),
        product_variants (*)
      `).eq("user_id",e.id);!L&&_&&o(_),l(!1)},R=async()=>{if(!e)return;const{data:_}=await A.from("profiles").select("address").eq("id",e.id).single();_!=null&&_.address&&N(_.address)},K=async()=>{if(e)try{const{data:_}=await A.from("coupons").select("*").eq("is_active",!0).or(`valid_until.is.null,valid_until.gte.${new Date().toISOString()}`);if(_){const{data:L}=await A.from("user_coupons").select("coupon_id").eq("user_id",e.id),X=new Set((L||[]).map(ye=>ye.coupon_id)),re=_.filter(ye=>!X.has(ye.id)||ye.is_stackable);B(re)}}catch(_){console.log("Coupons fetch:",_)}},te=_=>{const L=s.reduce((re,ye)=>{var ct;const Ue=((ct=ye.product_variants)==null?void 0:ct.price)??ye.products.price;return re+Ue*ye.quantity},0);if(_.minimum_order>0&&L<_.minimum_order){U.error(`Minimum order of ${_.minimum_order} required`);return}let X=0;_.discount_type==="percentage"?(X=L*_.discount_value/100,_.maximum_discount&&X>_.maximum_discount&&(X=_.maximum_discount)):X=_.discount_value,G(_),H(X),d(_.code),m(!0),f(_.discount_type==="percentage"?_.discount_value:0),U.success(`${_.code} applied! You save ${X.toFixed(0)}`)},Z=()=>{G(null),H(0),d(""),m(!1),f(0)},oe=async(_,L)=>{if(L<1){await he(_);return}const X=s.find(ye=>ye.id===_);if(X&&L>X.products.stock_quantity){U.error(`Only ${X.products.stock_quantity} available`);return}const{error:re}=await A.from("cart_items").update({quantity:L}).eq("id",_);re||o(ye=>ye.map(Ue=>Ue.id===_?{...Ue,quantity:L}:Ue))},he=async _=>{const{error:L}=await A.from("cart_items").delete().eq("id",_);L||(o(X=>X.filter(re=>re.id!==_)),r(),U.success("Item removed"))},ke=()=>{const _={FIRST10:10,SAVE20:20,PREMASHIP:15},L=c.toUpperCase().trim();_[L]?(f(_[L]),m(!0),U.success(`${_[L]}% discount applied!`)):U.error("Invalid promo code")},Re=()=>{if(s.length===0){U.error("Your cart is empty");return}if(s.filter(L=>L.products.stock_quantity<L.quantity).length>0){U.error("Some items are out of stock");return}w(!0)},Q=async()=>{if(!e)return;const _=S==="saved"?j:k;if(!_.trim()){U.error("Please enter a delivery address");return}I(!0);try{for(const re of s){const{data:ye}=await A.from("products").select("stock_quantity").eq("id",re.product_id).single();if(!ye||ye.stock_quantity<re.quantity){U.error(`${re.products.name} is out of stock`),I(!1);return}}const{data:L,error:X}=await A.from("orders").insert({user_id:e.id,total_amount:F,delivery_address:_,status:"pending"}).select().single();if(X)throw X;for(const re of s)await A.from("order_items").insert({order_id:L.id,product_id:re.product_id,quantity:re.quantity,price:re.products.price}),await A.from("products").update({stock_quantity:re.products.stock_quantity-re.quantity}).eq("id",re.product_id);if(await A.from("cart_items").delete().eq("user_id",e.id),S==="new"&&k&&await A.from("profiles").update({address:k}).eq("id",e.id),M)try{await A.from("user_coupons").update({used_at:new Date().toISOString()}).eq("user_id",e.id).eq("coupon_id",M.id)}catch(re){console.log("Coupon marking skipped:",re)}y(L.id),w(!1),o([]),G(null),H(0),m(!1),d(""),g(!0)}catch(L){console.error("Order error:",L),U.error("Failed to place order. Please try again.")}finally{I(!1)}},z=_=>{var L;return((L=_.product_variants)==null?void 0:L.price)??_.products.price},de=_=>{var L;return((L=_.product_variants)==null?void 0:L.mrp)??_.products.mrp??_.products.price},ve=s.reduce((_,L)=>_+de(L)*L.quantity,0),fe=s.reduce((_,L)=>_+z(L)*L.quantity,0),ie=ve-fe,D=u?fe*p/100:0,ee=fe>200?0:25,F=fe-D+ee;return i?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 pb-20",children:[a.jsx("header",{className:"sticky top-0 z-40 border-b border-border/40 bg-background/40 backdrop-blur-xl supports-[backdrop-filter]:bg-background/20",children:a.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-3",children:[a.jsx(V,{className:"h-9 w-9"}),a.jsx(V,{className:"h-6 w-32"})]})}),a.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-4",children:[[1,2,3].map(_=>a.jsx("div",{className:"h-24 w-full rounded-xl bg-muted/80 animate-pulse"},_)),a.jsx("div",{className:"h-48 w-full rounded-xl bg-muted/80 animate-pulse"})]}),a.jsx(Ir,{})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 pb-44",children:[b&&a.jsx(Ep,{orderId:v,onClose:()=>g(!1)}),a.jsxs("div",{className:"sticky top-0 z-40",children:[a.jsx("header",{className:"border-b border-border/40 bg-background/40 backdrop-blur-xl supports-[backdrop-filter]:bg-background/20 shadow-sm",children:a.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-3",children:[a.jsx(q,{variant:"ghost",size:"icon",onClick:()=>n("/shop"),children:a.jsx(No,{className:"h-5 w-5"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center",children:a.jsx(ho,{className:"h-4 w-4 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold",children:"Your Cart"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.length," items"]})]})]})]})}),s.length>0&&ie>0&&a.jsx("div",{className:"bg-gradient-to-r from-green-600 via-emerald-600 to-green-600 text-white py-2 text-center shadow-md",children:a.jsxs("p",{className:"text-sm font-medium",children:["You save ",a.jsxs("span",{className:"font-bold",children:["",ie.toFixed(0)]})]})})]}),a.jsxs("main",{className:"container mx-auto px-4 py-4 space-y-4 max-w-2xl",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-green-500/10 border border-green-500/20",children:[a.jsx(Fs,{className:"h-5 w-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:"Estimated delivery: 15-30 mins"}),a.jsx("p",{className:"text-xs text-green-600/70",children:"Free delivery on orders above 200"})]})]}),s.length===0&&a.jsxs(ne,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(ho,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),a.jsx("h2",{className:"text-lg font-semibold text-muted-foreground",children:"Your cart is empty"}),a.jsx("p",{className:"text-sm text-muted-foreground/70 mb-4",children:"Browse our products and add items"}),a.jsxs(q,{onClick:()=>n("/shop"),children:[a.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Shop Now"]})]}),s.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h2",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:["Cart (",s.length,")"]}),s.map(_=>{const L=_.products.stock_quantity<=5&&_.products.stock_quantity>0,X=_.products.stock_quantity<=0;return a.jsx(ne,{className:`overflow-hidden ${X?"opacity-60 border-destructive/50":""}`,children:a.jsx(se,{className:"p-3",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:_.products.image_url?a.jsx("img",{src:_.products.image_url,alt:_.products.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(Fe,{className:"h-8 w-8 text-muted-foreground"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm truncate cursor-pointer hover:text-primary",onClick:()=>n(`/product/${_.product_id}`),children:_.products.name}),_.product_variants&&a.jsx("span",{className:"text-xs bg-muted px-1.5 py-0.5 rounded text-muted-foreground",children:_.product_variants.variant_name}),(()=>{var yt;const re=z(_),ye=de(_),Ue=ye>re?Math.round((ye-re)/ye*100):0,ct=((yt=_.product_variants)==null?void 0:yt.variant_name)??_.products.unit;return Ue>0?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsxs("span",{className:"text-xs text-green-600 font-semibold",children:[Ue,"% OFF"]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["",re," / ",ct]}),a.jsxs("p",{className:"text-xs text-muted-foreground line-through",children:["",ye]})]}):a.jsxs("p",{className:"text-xs text-muted-foreground",children:["",re," / ",ct]})})()]}),a.jsxs("p",{className:"font-bold text-primary whitespace-nowrap",children:["",(z(_)*_.quantity).toFixed(0)]})]}),L&&a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(Gs,{className:"h-3 w-3 text-amber-500"}),a.jsxs("span",{className:"text-xs text-amber-600",children:["Only ",_.products.stock_quantity," left"]})]}),X&&a.jsx(rt,{variant:"destructive",className:"text-xs mt-1",children:"Out of Stock"}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(q,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>oe(_.id,_.quantity-1),children:a.jsx(Xi,{className:"h-3 w-3"})}),a.jsx("span",{className:"w-8 text-center text-sm font-medium",children:_.quantity}),a.jsx(q,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>oe(_.id,_.quantity+1),disabled:_.quantity>=_.products.stock_quantity,children:a.jsx(Kr,{className:"h-3 w-3"})})]}),a.jsx("div",{className:"flex gap-1",children:a.jsx(q,{size:"icon",variant:"ghost",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>he(_.id),children:a.jsx(fo,{className:"h-4 w-4"})})})]})]})]})})},_.id)})]}),s.length>0&&a.jsx(ne,{children:a.jsxs(se,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dw,{className:"h-5 w-5 text-primary"}),a.jsx("span",{className:"text-sm font-medium",children:"Promo Code"})]}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsx(Pe,{placeholder:"Enter code",value:c,onChange:_=>d(_.target.value),className:"flex-1",disabled:u}),u?a.jsxs(q,{onClick:Z,variant:"outline",children:[a.jsx(Ys,{className:"h-4 w-4 mr-1"}),"Remove"]}):a.jsx(q,{onClick:ke,disabled:!c.trim(),children:"Apply"})]}),M&&a.jsxs("div",{className:"mt-2 p-2 rounded-lg bg-green-500/10 border border-green-500/30",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zh,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-green-700",children:M.code})]}),a.jsxs("span",{className:"text-sm font-bold text-green-600",children:["-",P.toFixed(0)]})]}),a.jsx("p",{className:"text-xs text-green-600/80 mt-1",children:M.description})]}),$.length>0&&!M&&a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Available for you:"}),a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-1 px-1 scrollbar-hide",children:$.map(_=>{const L=s.reduce((re,ye)=>{var ct;const Ue=((ct=ye.product_variants)==null?void 0:ct.price)??ye.products.price;return re+Ue*ye.quantity},0),X=_.minimum_order<=L;return a.jsxs("button",{onClick:()=>X&&te(_),disabled:!X,className:`flex-shrink-0 px-4 py-2.5 rounded-xl border-2 transition-all duration-200 ${X?"border-green-500 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/40 dark:to-emerald-950/40 hover:from-green-100 hover:to-emerald-100 dark:hover:from-green-900/50 dark:hover:to-emerald-900/50 cursor-pointer shadow-md hover:shadow-lg hover:scale-[1.02] active:scale-[0.98]":"border-gray-200 dark:border-gray-700 bg-gray-100 dark:bg-gray-800 opacity-50 cursor-not-allowed"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zh,{className:`h-4 w-4 ${X?"text-green-600":"text-gray-400"}`}),a.jsx("span",{className:`text-sm font-bold ${X?"text-green-700 dark:text-green-400":"text-gray-500"}`,children:_.code})]}),a.jsxs("p",{className:`text-xs mt-0.5 text-left whitespace-nowrap ${X?"text-green-600/80":"text-gray-400"}`,children:[_.discount_type==="percentage"?`${_.discount_value}% off`:`${_.discount_value} off`,_.minimum_order>0&&`  Min ${_.minimum_order}`]})]},_.id)})})]})]})}),s.length>0&&a.jsxs(ne,{className:"border-primary/20",children:[a.jsx(be,{className:"pb-2",children:a.jsx(Ee,{className:"text-base",children:"Order Summary"})}),a.jsxs(se,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),a.jsxs("span",{children:["",ve.toFixed(0)]})]}),ie>0&&a.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[a.jsx("span",{children:" Product Discount"}),a.jsxs("span",{children:["-",ie.toFixed(0)]})]}),u&&a.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[a.jsxs("span",{children:["Discount (",p,"%)"]}),a.jsxs("span",{children:["-",D.toFixed(0)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Delivery"}),a.jsx("span",{className:ee===0?"text-green-600":"",children:ee===0?"FREE":`${ee}`})]}),a.jsx(La,{}),a.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{className:"text-primary",children:["",F.toFixed(0)]})]}),a.jsxs(q,{className:"w-full h-12 text-base font-semibold mt-2",onClick:Re,children:[a.jsx(Eu,{className:"h-5 w-5 mr-2"}),"Proceed to Checkout"]}),a.jsxs("p",{className:"text-xs text-center text-muted-foreground flex items-center justify-center gap-1",children:[a.jsx(Eu,{className:"h-3 w-3"}),"100% secure checkout"]})]})]})]}),s.length>0&&a.jsx("div",{className:"fixed bottom-16 left-0 right-0 z-30 border-t bg-background/95 backdrop-blur-xl shadow-[0_-4px_20px_rgba(0,0,0,0.1)]",children:a.jsx("div",{className:"container mx-auto px-4 py-3 max-w-2xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Amount"}),a.jsxs("p",{className:"text-xl font-bold text-primary",children:["",F.toFixed(0)]}),(ie>0||u)&&a.jsxs("p",{className:"text-xs text-green-600 font-medium",children:["You save ",(ie+D).toFixed(0),"!"]})]}),a.jsxs(q,{className:"h-12 px-8 text-base font-semibold",onClick:Re,children:[a.jsx(Eu,{className:"h-5 w-5 mr-2"}),"Checkout"]})]})})}),a.jsx(Bs,{open:x,onOpenChange:w,children:a.jsxs(Zn,{className:"max-w-md",children:[a.jsx(es,{children:a.jsxs(ts,{className:"flex items-center gap-2",children:[a.jsx(Mc,{className:"h-5 w-5 text-primary"}),"Delivery Address"]})}),a.jsxs(Bd,{value:S,onValueChange:_=>E(_),children:[j&&a.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border",children:[a.jsx(Zs,{value:"saved",id:"saved",className:"mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(xe,{htmlFor:"saved",className:"font-medium cursor-pointer",children:"Saved Address"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j})]})]}),a.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border",children:[a.jsx(Zs,{value:"new",id:"new",className:"mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(xe,{htmlFor:"new",className:"font-medium cursor-pointer",children:"New Address"}),S==="new"&&a.jsx(wn,{className:"mt-2",placeholder:"Enter your delivery address",value:k,onChange:_=>T(_.target.value),rows:3})]})]})]}),a.jsxs(Xs,{children:[a.jsx(q,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),a.jsx(q,{onClick:Q,disabled:O,children:O?"Placing Order...":"Confirm Order"})]})]})}),a.jsx(Ir,{})]})}function rL(){const{user:e,loading:t}=et(),r=Je(),[n,s]=h.useState([]),[o,i]=h.useState(!0);h.useEffect(()=>{if(!t){if(!e){r("/auth");return}l()}},[e,t,r]);const l=async()=>{const{data:d,error:u}=await A.from("categories").select("*").eq("is_active",!0).order("display_order");!u&&d&&s(d),i(!1)},c=d=>{r(`/shop?category=${d}`)};return o||t?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 pb-20",children:[a.jsx("header",{className:"sticky top-0 z-40 border-b border-border/40 bg-background/95 backdrop-blur-xl",children:a.jsx("div",{className:"container mx-auto px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(V,{className:"h-7 w-32"}),a.jsx(V,{className:"h-3 w-40 ml-8"})]}),a.jsx(V,{className:"h-10 w-10 rounded-full"})]})})}),a.jsxs("main",{className:"container mx-auto px-4 py-6",children:[a.jsx(V,{className:"h-8 w-40 mb-6"}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:Array.from({length:12}).map((d,u)=>a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(V,{className:"w-16 h-16 rounded-2xl"}),a.jsx(V,{className:"h-3 w-14"})]},u))})]}),a.jsx(Ir,{})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 pb-20",children:[a.jsx("header",{className:"sticky top-0 z-40 border-b border-border/40 bg-background/95 backdrop-blur-xl supports-[backdrop-filter]:bg-background/80 shadow-sm",children:a.jsx("div",{className:"container mx-auto px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:"/dist/logo.svg",alt:"PremaShop",className:"h-8 w-auto"}),a.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"PremaShop"})]}),a.jsx("p",{className:"text-xs text-muted-foreground font-medium ml-8",children:" Rapid Delivery in 14 mins"})]}),a.jsx(q,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-full bg-primary/10 hover:bg-primary/20",onClick:()=>r("/profile"),"aria-label":"View Profile",children:a.jsx(Zi,{className:"h-5 w-5 text-primary"})})]})})}),a.jsxs("main",{className:"container mx-auto px-4 py-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"All Categories"}),a.jsx("div",{className:"grid grid-cols-4 gap-3 sm:gap-4",children:n.map(d=>a.jsxs("button",{onClick:()=>c(d.id),className:"flex flex-col items-center gap-2 p-2 rounded-2xl bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-950/30 dark:to-pink-950/30 hover:from-purple-100 hover:to-pink-100 dark:hover:from-purple-900/40 dark:hover:to-pink-900/40 transition-all duration-200 border border-purple-100/50 dark:border-purple-800/30 active:scale-95",children:[a.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-xl bg-white dark:bg-gray-800 flex items-center justify-center overflow-hidden shadow-sm",children:d.image_url?a.jsx("img",{src:d.image_url,alt:d.name,className:"w-full h-full object-cover"}):a.jsx(Fe,{className:"h-6 w-6 text-primary/60"})}),a.jsx("span",{className:"text-xs text-center font-medium text-foreground/80 line-clamp-2 leading-tight",children:d.name})]},d.id))}),n.length===0&&!o&&a.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[a.jsx(Fe,{className:"h-16 w-16 text-muted-foreground/40 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No categories available"})]})]}),a.jsx(Ir,{})]})}const nL=()=>{const e=la();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},sL=new OR,aL="/",oL=()=>a.jsx(IR,{client:sL,children:a.jsxs(lR,{children:[a.jsx(HE,{}),a.jsx(NP,{}),a.jsxs(PO,{basename:aL,children:[a.jsx(n5,{}),a.jsx(J4,{children:a.jsxs(X4,{children:[a.jsxs(SO,{children:[a.jsx(dt,{path:"/",element:a.jsx(b5,{})}),a.jsx(dt,{path:"/auth",element:a.jsx(w5,{})}),a.jsx(dt,{path:"/shop",element:a.jsx(e3,{})}),a.jsx(dt,{path:"/cart",element:a.jsx(tL,{})}),a.jsx(dt,{path:"/categories",element:a.jsx(rL,{})}),a.jsx(dt,{path:"/orders",element:a.jsx(t3,{})}),a.jsx(dt,{path:"/profile",element:a.jsx(E3,{})}),a.jsx(dt,{path:"/delivery",element:a.jsx(P3,{})}),a.jsx(dt,{path:"/admin",element:a.jsx(_D,{})}),a.jsx(dt,{path:"/admin/stock",element:a.jsx(ND,{})}),a.jsx(dt,{path:"/admin/to-pay",element:a.jsx(kD,{})}),a.jsx(dt,{path:"/admin/notifications",element:a.jsx(IM,{})}),a.jsx(dt,{path:"/super-admin",element:a.jsx(YM,{})}),a.jsx(dt,{path:"/delivery-application",element:a.jsx(QM,{})}),a.jsx(dt,{path:"/admin/add-product",element:a.jsx(XM,{})}),a.jsx(dt,{path:"/phone-setup",element:a.jsx(JM,{})}),a.jsx(dt,{path:"/product/:id",element:a.jsx(eL,{})}),a.jsx(dt,{path:"*",element:a.jsx(nL,{})})]}),a.jsx(r5,{})]})})]})]})}),T0="2.0.4";"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const e=await navigator.serviceWorker.getRegistrations();for(const n of e)n.waiting&&n.waiting.postMessage({type:"SKIP_WAITING"});const t=`/dist/sw-custom.js?v=${T0}`,r=await navigator.serviceWorker.register(t,{updateViaCache:"none"});console.log("ServiceWorker registered:",r.scope,"version:",T0),r.update(),setInterval(()=>r.update(),3e4),r.addEventListener("updatefound",()=>{const n=r.installing;n&&n.addEventListener("statechange",()=>{n.state==="installed"&&navigator.serviceWorker.controller&&(n.postMessage({type:"SKIP_WAITING"}),console.log("New content available, refreshing..."),setTimeout(()=>window.location.reload(),500))})}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("Controller changed, page will reload")})}catch(e){console.log("ServiceWorker registration failed:",e)}});ew(document.getElementById("root")).render(a.jsx(oL,{}));
